digraph <init> {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {825328634}" -> "snapshotSerializers := @parameter0: java.util.Map {1822370916}";
"snapshotSerializers := @parameter0: java.util.Map {1822370916}" -> "primarySnapshotSuffix := @parameter1: java.lang.String {464670885}";
"primarySnapshotSuffix := @parameter1: java.lang.String {464670885}" -> "newPrevalentSystem := @parameter2: java.lang.Object {964035824}";
"newPrevalentSystem := @parameter2: java.lang.Object {964035824}" -> "directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {520636644}";
"directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {520636644}" -> "journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {1158953418}";
"journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {1158953418}" -> "specialinvoke this.<java.lang.Object: void <init>()>() {360174014}";
"specialinvoke this.<java.lang.Object: void <init>()>() {360174014}" -> "$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {1224011621}";
"$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {1224011621}" -> "iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {745485232}";
"iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {745485232}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {955535193}";
"$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {955535193}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {574710829}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {574710829}" -> "if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1721412906}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1721412906}" -> "$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {192813956}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1721412906}" -> "$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1180730398}";
"$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {192813956}" -> "suffix = (java.lang.String) $r1 {2118910272}";
"suffix = (java.lang.String) $r1 {2118910272}" -> "staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {1143426842}";
"staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {1143426842}" -> "goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {914482342}";
"goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {914482342}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {955535193}";
"$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1180730398}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {137095504}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {137095504}" -> "if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {594899448}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {594899448}" -> "$r2 = new java.lang.IllegalArgumentException {1133556584}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {594899448}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {136901884}";
"$r2 = new java.lang.IllegalArgumentException {1133556584}" -> "$r3 = new java.lang.StringBuilder {433135241}";
"$r3 = new java.lang.StringBuilder {433135241}" -> "specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {213729918}";
"specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {213729918}" -> "$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {629453594}";
"$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {629453594}" -> "$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {293120737}";
"$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {293120737}" -> "$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {1161320357}";
"$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {1161320357}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {926701865}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {926701865}" -> "specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {1665651341}";
"specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {1665651341}" -> "throw $r2 {117737837}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {136901884}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {2039969932}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {2039969932}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {2133243746}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {2133243746}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {873172398}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {873172398}" -> "virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {55426275}";
"virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {55426275}" -> "$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1261912845}";
"$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1261912845}" -> "latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1346896918}";
"latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1346896918}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {2000680656}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {2000680656}" -> "if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1288388386}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1288388386}" -> "$l0 = 0L {1875744824}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1288388386}" -> "$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {2076496831}";
"$l0 = 0L {1875744824}" -> "goto [?= recoveredVersion = $l0] {2134198627}";
"goto [?= recoveredVersion = $l0] {2134198627}" -> "recoveredVersion = $l0 {769697932}";
"$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {2076496831}" -> "recoveredVersion = $l0 {769697932}";
"recoveredVersion = $l0 {769697932}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1313295904}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1313295904}" -> "if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {7118804}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {7118804}" -> "$r10 = newPrevalentSystem {616997326}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {7118804}" -> "$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1663082898}";
"$r10 = newPrevalentSystem {616997326}" -> "goto [?= recoveredPrevalentSystem = $r10] {206227730}";
"goto [?= recoveredPrevalentSystem = $r10] {206227730}" -> "recoveredPrevalentSystem = $r10 {1473702067}";
"$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1663082898}" -> "recoveredPrevalentSystem = $r10 {1473702067}";
"recoveredPrevalentSystem = $r10 {1473702067}" -> "$r11 = new org.prevayler.implementation.PrevalentSystemGuard {241994522}";
"$r11 = new org.prevayler.implementation.PrevalentSystemGuard {241994522}" -> "specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {1222515798}";
"specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {1222515798}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1086743946}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1086743946}" -> "return {897030227}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {2000680656}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {574710829}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {137095504}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1313295904}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph readSnapshot {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {1791713058}" -> "snapshotFile := @parameter0: java.io.File {31313888}";
"snapshotFile := @parameter0: java.io.File {31313888}" -> "$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {410131370}";
"$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {410131370}" -> "$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {1417630535}";
"$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {1417630535}" -> "$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {467961274}";
"$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {467961274}" -> "$i1 = $i0 + 1 {747068035}";
"$i1 = $i0 + 1 {747068035}" -> "suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {918281100}";
"suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {918281100}" -> "$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {588527922}";
"$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {588527922}" -> "$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {1127208130}";
"$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {1127208130}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1562447156}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1562447156}" -> "if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {358865441}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {358865441}" -> "$r3 = new java.io.IOException {398240790}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {358865441}" -> "$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {479610812}";
"$r3 = new java.io.IOException {398240790}" -> "$r4 = new java.lang.StringBuilder {32484856}";
"$r4 = new java.lang.StringBuilder {32484856}" -> "specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {469482579}";
"specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {469482579}" -> "$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {1527028754}";
"$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {1527028754}" -> "$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {1671897272}";
"$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {1671897272}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {2025295159}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {2025295159}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1565800594}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1565800594}" -> "$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {952377162}";
"$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {952377162}" -> "$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {2094981968}";
"$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {2094981968}" -> "$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {415728486}";
"$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {415728486}" -> "$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {2089665988}";
"$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {2089665988}" -> "$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {2009230694}";
"$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {2009230694}" -> "specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {1404705867}";
"specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {1404705867}" -> "throw $r3 {1785395184}";
"$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {479610812}" -> "$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {572909903}";
"$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {572909903}" -> "serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {1556339569}";
"serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {1556339569}" -> "$r16 = new java.io.FileInputStream {1369517623}";
"$r16 = new java.io.FileInputStream {1369517623}" -> "specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {354381451}";
"specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {354381451}" -> "in = $r16 {1590376318}";
"in = $r16 {1590376318}" -> "l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {1217848045}";
"l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {1217848045}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {95255173}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {95255173}" -> "return l5 {1014445602}";
"$r17 := @caughtexception {373297518}" -> "l6 = $r17 {923968766}";
"l6 = $r17 {923968766}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {956002318}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {956002318}" -> "throw l6 {1866266315}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1562447156}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph recoveredPrevalentSystem {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {17602612}" -> "$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {29230145}";
"$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {29230145}" -> "return $r0 {1687609722}";
}


