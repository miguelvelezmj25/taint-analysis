<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Evaluation.java</title>
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700" rel="stylesheet">
</head>
<body>

<div class="container">
    <div id="code_area" class="container_0">
<div>1&emsp;&emsp;/*</div>
<div>2&emsp;&emsp;&nbsp; *   This program is free software: you can redistribute it and/or modify</div>
<div>3&emsp;&emsp;&nbsp; *   it under the terms of the GNU General Public License as published by</div>
<div>4&emsp;&emsp;&nbsp; *   the Free Software Foundation, either version 3 of the License, or</div>
<div>5&emsp;&emsp;&nbsp; *   (at your option) any later version.</div>
<div>6&emsp;&emsp;&nbsp; *</div>
<div>7&emsp;&emsp;&nbsp; *   This program is distributed in the hope that it will be useful,</div>
<div>8&emsp;&emsp;&nbsp; *   but WITHOUT ANY WARRANTY; without even the implied warranty of</div>
<div>9&emsp;&emsp;&nbsp; *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</div>
<div>10&emsp;&emsp;&nbsp; *   GNU General Public License for more details.</div>
<div>11&emsp;&emsp;&nbsp; *</div>
<div>12&emsp;&emsp;&nbsp; *   You should have received a copy of the GNU General Public License</div>
<div>13&emsp;&emsp;&nbsp; *   along with this program.  If not, see &#60;http://www.gnu.org/licenses/>.</div>
<div>14&emsp;&emsp;&nbsp; */</div>
<div>15&emsp;&emsp;</div>
<div>16&emsp;&emsp;/*</div>
<div>17&emsp;&emsp;&nbsp; *    Evaluation.java</div>
<div>18&emsp;&emsp;&nbsp; *    Copyright (C) 1999-2012 University of Waikato, Hamilton, New Zealand</div>
<div>19&emsp;&emsp;&nbsp; *</div>
<div>20&emsp;&emsp;&nbsp; */</div>
<div>21&emsp;&emsp;</div>
<div>22&emsp;&emsp;package weka.classifiers.evaluation;</div>
<div>23&emsp;&emsp;</div>
<div>24&emsp;&emsp;import weka.classifiers.AbstractClassifier;</div>
<div>25&emsp;&emsp;import weka.classifiers.Classifier;</div>
<div>26&emsp;&emsp;import weka.classifiers.ConditionalDensityEstimator;</div>
<div>27&emsp;&emsp;import weka.classifiers.CostMatrix;</div>
<div>28&emsp;&emsp;import weka.classifiers.IntervalEstimator;</div>
<div>29&emsp;&emsp;import weka.classifiers.Sourcable;</div>
<div>30&emsp;&emsp;import weka.classifiers.UpdateableBatchProcessor;</div>
<div>31&emsp;&emsp;import weka.classifiers.UpdateableClassifier;</div>
<div>32&emsp;&emsp;import weka.classifiers.evaluation.output.prediction.AbstractOutput;</div>
<div>33&emsp;&emsp;import weka.classifiers.evaluation.output.prediction.PlainText;</div>
<div>34&emsp;&emsp;import weka.classifiers.pmml.consumer.PMMLClassifier;</div>
<div>35&emsp;&emsp;import weka.classifiers.xml.XMLClassifier;</div>
<div>36&emsp;&emsp;import weka.core.BatchPredictor;</div>
<div>37&emsp;&emsp;import weka.core.Drawable;</div>
<div>38&emsp;&emsp;import weka.core.Instance;</div>
<div>39&emsp;&emsp;import weka.core.Instances;</div>
<div>40&emsp;&emsp;import weka.core.Option;</div>
<div>41&emsp;&emsp;import weka.core.OptionHandler;</div>
<div>42&emsp;&emsp;import weka.core.RevisionHandler;</div>
<div>43&emsp;&emsp;import weka.core.RevisionUtils;</div>
<div>44&emsp;&emsp;import weka.core.SerializationHelper;</div>
<div>45&emsp;&emsp;import weka.core.Summarizable;</div>
<div>46&emsp;&emsp;import weka.core.Utils;</div>
<div>47&emsp;&emsp;import weka.core.Version;</div>
<div>48&emsp;&emsp;import weka.core.converters.ConverterUtils.DataSink;</div>
<div>49&emsp;&emsp;import weka.core.converters.ConverterUtils.DataSource;</div>
<div>50&emsp;&emsp;import weka.core.pmml.PMMLFactory;</div>
<div>51&emsp;&emsp;import weka.core.pmml.PMMLModel;</div>
<div>52&emsp;&emsp;import weka.core.xml.KOML;</div>
<div>53&emsp;&emsp;import weka.core.xml.XMLOptions;</div>
<div>54&emsp;&emsp;import weka.core.xml.XMLSerialization;</div>
<div>55&emsp;&emsp;import weka.estimators.UnivariateKernelEstimator;</div>
<div>56&emsp;&emsp;</div>
<div>57&emsp;&emsp;import java.beans.BeanInfo;</div>
<div>58&emsp;&emsp;import java.beans.Introspector;</div>
<div>59&emsp;&emsp;import java.beans.MethodDescriptor;</div>
<div>60&emsp;&emsp;import java.io.BufferedInputStream;</div>
<div>61&emsp;&emsp;import java.io.BufferedOutputStream;</div>
<div>62&emsp;&emsp;import java.io.BufferedReader;</div>
<div>63&emsp;&emsp;import java.io.FileInputStream;</div>
<div>64&emsp;&emsp;import java.io.FileOutputStream;</div>
<div>65&emsp;&emsp;import java.io.FileReader;</div>
<div>66&emsp;&emsp;import java.io.InputStream;</div>
<div>67&emsp;&emsp;import java.io.ObjectInputStream;</div>
<div>68&emsp;&emsp;import java.io.ObjectOutputStream;</div>
<div>69&emsp;&emsp;import java.io.OutputStream;</div>
<div>70&emsp;&emsp;import java.io.Reader;</div>
<div>71&emsp;&emsp;import java.io.Serializable;</div>
<div>72&emsp;&emsp;import java.lang.reflect.Method;</div>
<div>73&emsp;&emsp;import java.util.ArrayList;</div>
<div>74&emsp;&emsp;import java.util.Arrays;</div>
<div>75&emsp;&emsp;import java.util.Date;</div>
<div>76&emsp;&emsp;import java.util.Enumeration;</div>
<div>77&emsp;&emsp;import java.util.List;</div>
<div>78&emsp;&emsp;import java.util.Random;</div>
<div>79&emsp;&emsp;import java.util.zip.GZIPInputStream;</div>
<div>80&emsp;&emsp;import java.util.zip.GZIPOutputStream;</div>
<div>81&emsp;&emsp;</div>
<div>82&emsp;&emsp;/**</div>
<div>83&emsp;&emsp;&nbsp; * Class for evaluating machine learning models.</div>
<div>84&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>85&emsp;&emsp;&nbsp; * </div>
<div>86&emsp;&emsp;&nbsp; * -------------------------------------------------------------------</div>
<div>87&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>88&emsp;&emsp;&nbsp; * </div>
<div>89&emsp;&emsp;&nbsp; * General options when evaluating a learning scheme from the command-line:</div>
<div>90&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>91&emsp;&emsp;&nbsp; * </div>
<div>92&emsp;&emsp;&nbsp; * -t filename &#60;br/></div>
<div>93&emsp;&emsp;&nbsp; * Name of the file with the training data. (required)</div>
<div>94&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>95&emsp;&emsp;&nbsp; * </div>
<div>96&emsp;&emsp;&nbsp; * -T filename &#60;br/></div>
<div>97&emsp;&emsp;&nbsp; * Name of the file with the test data. If missing a cross-validation is</div>
<div>98&emsp;&emsp;&nbsp; * performed.</div>
<div>99&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>100&emsp;&emsp;&nbsp; * </div>
<div>101&emsp;&emsp;&nbsp; * -c index &#60;br/></div>
<div>102&emsp;&emsp;&nbsp; * Index of the class attribute (1, 2, ...; default: last).</div>
<div>103&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>104&emsp;&emsp;&nbsp; * </div>
<div>105&emsp;&emsp;&nbsp; * -x number &#60;br/></div>
<div>106&emsp;&emsp;&nbsp; * The number of folds for the cross-validation (default: 10).</div>
<div>107&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>108&emsp;&emsp;&nbsp; * </div>
<div>109&emsp;&emsp;&nbsp; * -no-cv &#60;br/></div>
<div>110&emsp;&emsp;&nbsp; * No cross validation. If no test file is provided, no evaluation is done.</div>
<div>111&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>112&emsp;&emsp;&nbsp; * </div>
<div>113&emsp;&emsp;&nbsp; * -split-percentage percentage &#60;br/></div>
<div>114&emsp;&emsp;&nbsp; * Sets the percentage for the train/test set split, e.g., 66.</div>
<div>115&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>116&emsp;&emsp;&nbsp; * </div>
<div>117&emsp;&emsp;&nbsp; * -preserve-order &#60;br/></div>
<div>118&emsp;&emsp;&nbsp; * Preserves the order in the percentage split instead of randomizing the data</div>
<div>119&emsp;&emsp;&nbsp; * first with the seed value ('-s').</div>
<div>120&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>121&emsp;&emsp;&nbsp; * </div>
<div>122&emsp;&emsp;&nbsp; * -s seed &#60;br/></div>
<div>123&emsp;&emsp;&nbsp; * Random number seed for the cross-validation and percentage split (default:</div>
<div>124&emsp;&emsp;&nbsp; * 1).</div>
<div>125&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>126&emsp;&emsp;&nbsp; * </div>
<div>127&emsp;&emsp;&nbsp; * -m filename &#60;br/></div>
<div>128&emsp;&emsp;&nbsp; * The name of a file containing a cost matrix.</div>
<div>129&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>130&emsp;&emsp;&nbsp; * </div>
<div>131&emsp;&emsp;&nbsp; * -disable list &#60;br/></div>
<div>132&emsp;&emsp;&nbsp; * A comma separated list of metric names not to include in the output.</div>
<div>133&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>134&emsp;&emsp;&nbsp; * </div>
<div>135&emsp;&emsp;&nbsp; * -l filename &#60;br/></div>
<div>136&emsp;&emsp;&nbsp; * Loads classifier from the given file. In case the filename ends with ".xml",</div>
<div>137&emsp;&emsp;&nbsp; * a PMML file is loaded or, if that fails, options are loaded from XML.</div>
<div>138&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>139&emsp;&emsp;&nbsp; * </div>
<div>140&emsp;&emsp;&nbsp; * -d filename &#60;br/></div>
<div>141&emsp;&emsp;&nbsp; * Saves classifier built from the training data into the given file. In case</div>
<div>142&emsp;&emsp;&nbsp; * the filename ends with ".xml" the options are saved XML, not the model.</div>
<div>143&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>144&emsp;&emsp;&nbsp; * </div>
<div>145&emsp;&emsp;&nbsp; * -v &#60;br/></div>
<div>146&emsp;&emsp;&nbsp; * Outputs no statistics for the training data.</div>
<div>147&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>148&emsp;&emsp;&nbsp; * </div>
<div>149&emsp;&emsp;&nbsp; * -o &#60;br/></div>
<div>150&emsp;&emsp;&nbsp; * Outputs statistics only, not the classifier.</div>
<div>151&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>152&emsp;&emsp;&nbsp; * </div>
<div>153&emsp;&emsp;&nbsp; * -do-not-output-per-class-statistics &#60;br/></div>
<div>154&emsp;&emsp;&nbsp; * Do not output statistics per class.</div>
<div>155&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>156&emsp;&emsp;&nbsp; * </div>
<div>157&emsp;&emsp;&nbsp; * -k &#60;br/></div>
<div>158&emsp;&emsp;&nbsp; * Outputs information-theoretic statistics.</div>
<div>159&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>160&emsp;&emsp;&nbsp; * </div>
<div>161&emsp;&emsp;&nbsp; * -classifications</div>
<div>162&emsp;&emsp;&nbsp; * "weka.classifiers.evaluation.output.prediction.AbstractOutput + options" &#60;br/></div>
<div>163&emsp;&emsp;&nbsp; * Uses the specified class for generating the classification output. E.g.:</div>
<div>164&emsp;&emsp;&nbsp; * weka.classifiers.evaluation.output.prediction.PlainText or :</div>
<div>165&emsp;&emsp;&nbsp; * weka.classifiers.evaluation.output.prediction.CSV</div>
<div>166&emsp;&emsp;&nbsp; * </div>
<div>167&emsp;&emsp;&nbsp; * -p range &#60;br/></div>
<div>168&emsp;&emsp;&nbsp; * Outputs predictions for test instances (or the train instances if no test</div>
<div>169&emsp;&emsp;&nbsp; * instances provided and -no-cv is used), along with the attributes in the</div>
<div>170&emsp;&emsp;&nbsp; * specified range (and nothing else). Use '-p 0' if no attributes are desired.</div>
<div>171&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>172&emsp;&emsp;&nbsp; * Deprecated: use "-classifications ..." instead.</div>
<div>173&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>174&emsp;&emsp;&nbsp; * </div>
<div>175&emsp;&emsp;&nbsp; * -distribution &#60;br/></div>
<div>176&emsp;&emsp;&nbsp; * Outputs the distribution instead of only the prediction in conjunction with</div>
<div>177&emsp;&emsp;&nbsp; * the '-p' option (only nominal classes).</div>
<div>178&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>179&emsp;&emsp;&nbsp; * Deprecated: use "-classifications ..." instead.</div>
<div>180&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>181&emsp;&emsp;&nbsp; * </div>
<div>182&emsp;&emsp;&nbsp; * -no-predictions &#60;br/></div>
<div>183&emsp;&emsp;&nbsp; * Turns off the collection of predictions in order to conserve memory.</div>
<div>184&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>185&emsp;&emsp;&nbsp; * </div>
<div>186&emsp;&emsp;&nbsp; * -r &#60;br/></div>
<div>187&emsp;&emsp;&nbsp; * Outputs cumulative margin distribution (and nothing else).</div>
<div>188&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>189&emsp;&emsp;&nbsp; * </div>
<div>190&emsp;&emsp;&nbsp; * -g &#60;br/></div>
<div>191&emsp;&emsp;&nbsp; * Only for classifiers that implement "Graphable." Outputs the graph</div>
<div>192&emsp;&emsp;&nbsp; * representation of the classifier (and nothing else).</div>
<div>193&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>194&emsp;&emsp;&nbsp; * </div>
<div>195&emsp;&emsp;&nbsp; * -xml filename | xml-string &#60;br/></div>
<div>196&emsp;&emsp;&nbsp; * Retrieves the options from the XML-data instead of the command line.</div>
<div>197&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>198&emsp;&emsp;&nbsp; * </div>
<div>199&emsp;&emsp;&nbsp; * -threshold-file file &#60;br/></div>
<div>200&emsp;&emsp;&nbsp; * The file to save the threshold data to. The format is determined by the</div>
<div>201&emsp;&emsp;&nbsp; * extensions, e.g., '.arff' for ARFF format or '.csv' for CSV.</div>
<div>202&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>203&emsp;&emsp;&nbsp; * </div>
<div>204&emsp;&emsp;&nbsp; * -threshold-label label &#60;br/></div>
<div>205&emsp;&emsp;&nbsp; * The class label to determine the threshold data for (default is the first</div>
<div>206&emsp;&emsp;&nbsp; * label)</div>
<div>207&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>208&emsp;&emsp;&nbsp; * </div>
<div>209&emsp;&emsp;&nbsp; * -------------------------------------------------------------------</div>
<div>210&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>211&emsp;&emsp;&nbsp; * </div>
<div>212&emsp;&emsp;&nbsp; * Example usage as the main of a classifier (called FunkyClassifier):</div>
<div>213&emsp;&emsp;&nbsp; * &#60;code> &#60;pre></div>
<div>214&emsp;&emsp;&nbsp; * public static void main(String [] args) {</div>
<div>215&emsp;&emsp;&nbsp; *   runClassifier(new FunkyClassifier(), args);</div>
<div>216&emsp;&emsp;&nbsp; * }</div>
<div>217&emsp;&emsp;&nbsp; * &#60;/pre> &#60;/code></div>
<div>218&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>219&emsp;&emsp;&nbsp; * </div>
<div>220&emsp;&emsp;&nbsp; * ------------------------------------------------------------------</div>
<div>221&emsp;&emsp;&nbsp; * &#60;p/></div>
<div>222&emsp;&emsp;&nbsp; * </div>
<div>223&emsp;&emsp;&nbsp; * Example usage from within an application: &#60;code> &#60;pre></div>
<div>224&emsp;&emsp;&nbsp; * Instances trainInstances = ... instances got from somewhere</div>
<div>225&emsp;&emsp;&nbsp; * Instances testInstances = ... instances got from somewhere</div>
<div>226&emsp;&emsp;&nbsp; * Classifier scheme = ... scheme got from somewhere</div>
<div>227&emsp;&emsp;&nbsp; * </div>
<div>228&emsp;&emsp;&nbsp; * Evaluation evaluation = new Evaluation(trainInstances);</div>
<div>229&emsp;&emsp;&nbsp; * evaluation.evaluateModel(scheme, testInstances);</div>
<div>230&emsp;&emsp;&nbsp; * System.out.println(evaluation.toSummaryString());</div>
<div>231&emsp;&emsp;&nbsp; * &#60;/pre> &#60;/code></div>
<div>232&emsp;&emsp;&nbsp; * </div>
<div>233&emsp;&emsp;&nbsp; * </div>
<div>234&emsp;&emsp;&nbsp; * @author Eibe Frank (eibe@cs.waikato.ac.nz)</div>
<div>235&emsp;&emsp;&nbsp; * @author Len Trigg (trigg@cs.waikato.ac.nz)</div>
<div>236&emsp;&emsp;&nbsp; * @version $Revision: 13477 $</div>
<div>237&emsp;&emsp;&nbsp; */</div>
<div>238&emsp;&emsp;public class Evaluation implements Summarizable, RevisionHandler, Serializable {</div>
<div>239&emsp;&emsp;</div>
<div>240&emsp;&emsp;&nbsp;&nbsp;  /** For serialization */</div>
<div>241&emsp;&emsp;&nbsp;&nbsp;  private static final long serialVersionUID = -7010314486866816271L;</div>
<div>242&emsp;&emsp;</div>
<div>243&emsp;&emsp;&nbsp;&nbsp;  /** The number of classes. */</div>
<div>244&emsp;&emsp;&nbsp;&nbsp;  protected int m_NumClasses;</div>
<div>245&emsp;&emsp;</div>
<div>246&emsp;&emsp;&nbsp;&nbsp;  /** The number of folds for a cross-validation. */</div>
<div>247&emsp;&emsp;&nbsp;&nbsp;  protected int m_NumFolds;</div>
<div>248&emsp;&emsp;</div>
<div>249&emsp;&emsp;&nbsp;&nbsp;  /** The weight of all incorrectly classified instances. */</div>
<div>250&emsp;&emsp;&nbsp;&nbsp;  protected double m_Incorrect;</div>
<div>251&emsp;&emsp;</div>
<div>252&emsp;&emsp;&nbsp;&nbsp;  /** The weight of all correctly classified instances. */</div>
<div>253&emsp;&emsp;&nbsp;&nbsp;  protected double m_Correct;</div>
<div>254&emsp;&emsp;</div>
<div>255&emsp;&emsp;&nbsp;&nbsp;  /** The weight of all unclassified instances. */</div>
<div>256&emsp;&emsp;&nbsp;&nbsp;  protected double m_Unclassified;</div>
<div>257&emsp;&emsp;</div>
<div>258&emsp;&emsp;&nbsp;&nbsp;  /*** The weight of all instances that had no class assigned to them. */</div>
<div>259&emsp;&emsp;&nbsp;&nbsp;  protected double m_MissingClass;</div>
<div>260&emsp;&emsp;</div>
<div>261&emsp;&emsp;&nbsp;&nbsp;  /** The weight of all instances that had a class assigned to them. */</div>
<div>262&emsp;&emsp;&nbsp;&nbsp;  protected double m_WithClass;</div>
<div>263&emsp;&emsp;</div>
<div>264&emsp;&emsp;&nbsp;&nbsp;  /** Array for storing the confusion matrix. */</div>
<div>265&emsp;&emsp;&nbsp;&nbsp;  protected double[][] m_ConfusionMatrix;</div>
<div>266&emsp;&emsp;</div>
<div>267&emsp;&emsp;&nbsp;&nbsp;  /** The names of the classes. */</div>
<div>268&emsp;&emsp;&nbsp;&nbsp;  protected String[] m_ClassNames;</div>
<div>269&emsp;&emsp;</div>
<div>270&emsp;&emsp;&nbsp;&nbsp;  /** Is the class nominal or numeric? */</div>
<div>271&emsp;&emsp;&nbsp;&nbsp;  protected boolean m_ClassIsNominal;</div>
<div>272&emsp;&emsp;</div>
<div>273&emsp;&emsp;&nbsp;&nbsp;  /** The prior probabilities of the classes. */</div>
<div>274&emsp;&emsp;&nbsp;&nbsp;  protected double[] m_ClassPriors;</div>
<div>275&emsp;&emsp;</div>
<div>276&emsp;&emsp;&nbsp;&nbsp;  /** The sum of counts for priors. */</div>
<div>277&emsp;&emsp;&nbsp;&nbsp;  protected double m_ClassPriorsSum;</div>
<div>278&emsp;&emsp;</div>
<div>279&emsp;&emsp;&nbsp;&nbsp;  /** The cost matrix (if given). */</div>
<div>280&emsp;&emsp;&nbsp;&nbsp;  protected CostMatrix m_CostMatrix;</div>
<div>281&emsp;&emsp;</div>
<div>282&emsp;&emsp;&nbsp;&nbsp;  /** The total cost of predictions (includes instance weights). */</div>
<div>283&emsp;&emsp;&nbsp;&nbsp;  protected double m_TotalCost;</div>
<div>284&emsp;&emsp;</div>
<div>285&emsp;&emsp;&nbsp;&nbsp;  /** Sum of errors. */</div>
<div>286&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumErr;</div>
<div>287&emsp;&emsp;</div>
<div>288&emsp;&emsp;&nbsp;&nbsp;  /** Sum of absolute errors. */</div>
<div>289&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumAbsErr;</div>
<div>290&emsp;&emsp;</div>
<div>291&emsp;&emsp;&nbsp;&nbsp;  /** Sum of squared errors. */</div>
<div>292&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumSqrErr;</div>
<div>293&emsp;&emsp;</div>
<div>294&emsp;&emsp;&nbsp;&nbsp;  /** Sum of class values. */</div>
<div>295&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumClass;</div>
<div>296&emsp;&emsp;</div>
<div>297&emsp;&emsp;&nbsp;&nbsp;  /** Sum of squared class values. */</div>
<div>298&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumSqrClass;</div>
<div>299&emsp;&emsp;</div>
<div>300&emsp;&emsp;&nbsp;&nbsp;  /*** Sum of predicted values. */</div>
<div>301&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumPredicted;</div>
<div>302&emsp;&emsp;</div>
<div>303&emsp;&emsp;&nbsp;&nbsp;  /** Sum of squared predicted values. */</div>
<div>304&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumSqrPredicted;</div>
<div>305&emsp;&emsp;</div>
<div>306&emsp;&emsp;&nbsp;&nbsp;  /** Sum of predicted * class values. */</div>
<div>307&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumClassPredicted;</div>
<div>308&emsp;&emsp;</div>
<div>309&emsp;&emsp;&nbsp;&nbsp;  /** Sum of absolute errors of the prior. */</div>
<div>310&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumPriorAbsErr;</div>
<div>311&emsp;&emsp;</div>
<div>312&emsp;&emsp;&nbsp;&nbsp;  /** Sum of absolute errors of the prior. */</div>
<div>313&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumPriorSqrErr;</div>
<div>314&emsp;&emsp;</div>
<div>315&emsp;&emsp;&nbsp;&nbsp;  /** Total Kononenko & Bratko Information. */</div>
<div>316&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumKBInfo;</div>
<div>317&emsp;&emsp;</div>
<div>318&emsp;&emsp;&nbsp;&nbsp;  /*** Resolution of the margin histogram. */</div>
<div>319&emsp;&emsp;&nbsp;&nbsp;  protected static int k_MarginResolution = 500;</div>
<div>320&emsp;&emsp;</div>
<div>321&emsp;&emsp;&nbsp;&nbsp;  /** Cumulative margin distribution. */</div>
<div>322&emsp;&emsp;&nbsp;&nbsp;  protected double m_MarginCounts[];</div>
<div>323&emsp;&emsp;</div>
<div>324&emsp;&emsp;&nbsp;&nbsp;  /** Number of non-missing class training instances seen. */</div>
<div>325&emsp;&emsp;&nbsp;&nbsp;  protected int m_NumTrainClassVals;</div>
<div>326&emsp;&emsp;</div>
<div>327&emsp;&emsp;&nbsp;&nbsp;  /** Array containing all numeric training class values seen. */</div>
<div>328&emsp;&emsp;&nbsp;&nbsp;  protected double[] m_TrainClassVals;</div>
<div>329&emsp;&emsp;</div>
<div>330&emsp;&emsp;&nbsp;&nbsp;  /** Array containing all numeric training class weights. */</div>
<div>331&emsp;&emsp;&nbsp;&nbsp;  protected double[] m_TrainClassWeights;</div>
<div>332&emsp;&emsp;</div>
<div>333&emsp;&emsp;&nbsp;&nbsp;  /** Numeric class estimator for prior. */</div>
<div>334&emsp;&emsp;&nbsp;&nbsp;  protected UnivariateKernelEstimator m_PriorEstimator;</div>
<div>335&emsp;&emsp;</div>
<div>336&emsp;&emsp;&nbsp;&nbsp;  /** Whether complexity statistics are available. */</div>
<div>337&emsp;&emsp;&nbsp;&nbsp;  protected boolean m_ComplexityStatisticsAvailable = true;</div>
<div>338&emsp;&emsp;</div>
<div>339&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>340&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * The minimum probablility accepted from an estimator to avoid taking log(0)</div>
<div>341&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * in Sf calculations.</div>
<div>342&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>343&emsp;&emsp;&nbsp;&nbsp;  protected static final double MIN_SF_PROB = Double.MIN_VALUE;</div>
<div>344&emsp;&emsp;</div>
<div>345&emsp;&emsp;&nbsp;&nbsp;  /** Total entropy of prior predictions. */</div>
<div>346&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumPriorEntropy;</div>
<div>347&emsp;&emsp;</div>
<div>348&emsp;&emsp;&nbsp;&nbsp;  /** Total entropy of scheme predictions. */</div>
<div>349&emsp;&emsp;&nbsp;&nbsp;  protected double m_SumSchemeEntropy;</div>
<div>350&emsp;&emsp;</div>
<div>351&emsp;&emsp;&nbsp;&nbsp;  /** Whether coverage statistics are available. */</div>
<div>352&emsp;&emsp;&nbsp;&nbsp;  protected boolean m_CoverageStatisticsAvailable = true;</div>
<div>353&emsp;&emsp;</div>
<div>354&emsp;&emsp;&nbsp;&nbsp;  /** The confidence level used for coverage statistics. */</div>
<div>355&emsp;&emsp;&nbsp;&nbsp;  protected double m_ConfLevel = 0.95;</div>
<div>356&emsp;&emsp;</div>
<div>357&emsp;&emsp;&nbsp;&nbsp;  /** Total size of predicted regions at the given confidence level. */</div>
<div>358&emsp;&emsp;&nbsp;&nbsp;  protected double m_TotalSizeOfRegions;</div>
<div>359&emsp;&emsp;</div>
<div>360&emsp;&emsp;&nbsp;&nbsp;  /** Total coverage of test cases at the given confidence level. */</div>
<div>361&emsp;&emsp;&nbsp;&nbsp;  protected double m_TotalCoverage;</div>
<div>362&emsp;&emsp;</div>
<div>363&emsp;&emsp;&nbsp;&nbsp;  /** Minimum target value. */</div>
<div>364&emsp;&emsp;&nbsp;&nbsp;  protected double m_MinTarget;</div>
<div>365&emsp;&emsp;</div>
<div>366&emsp;&emsp;&nbsp;&nbsp;  /** Maximum target value. */</div>
<div>367&emsp;&emsp;&nbsp;&nbsp;  protected double m_MaxTarget;</div>
<div>368&emsp;&emsp;</div>
<div>369&emsp;&emsp;&nbsp;&nbsp;  /** The list of predictions that have been generated (for computing AUC). */</div>
<div>370&emsp;&emsp;&nbsp;&nbsp;  protected ArrayList&#60;Prediction> m_Predictions;</div>
<div>371&emsp;&emsp;</div>
<div>372&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>373&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * enables/disables the use of priors, e.g., if no training set is present in</div>
<div>374&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * case of de-serialized schemes.</div>
<div>375&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>376&emsp;&emsp;&nbsp;&nbsp;  protected boolean m_NoPriors = false;</div>
<div>377&emsp;&emsp;</div>
<div>378&emsp;&emsp;&nbsp;&nbsp;  /** The header of the training set. */</div>
<div>379&emsp;&emsp;&nbsp;&nbsp;  protected Instances m_Header;</div>
<div>380&emsp;&emsp;</div>
<div>381&emsp;&emsp;&nbsp;&nbsp;  /** whether to discard predictions (and save memory). */</div>
<div>382&emsp;&emsp;&nbsp;&nbsp;  protected boolean m_DiscardPredictions;</div>
<div>383&emsp;&emsp;</div>
<div>384&emsp;&emsp;&nbsp;&nbsp;  /** Holds plugin evaluation metrics */</div>
<div>385&emsp;&emsp;&nbsp;&nbsp;  protected List&#60;AbstractEvaluationMetric> m_pluginMetrics;</div>
<div>386&emsp;&emsp;</div>
<div>387&emsp;&emsp;&nbsp;&nbsp;  /** The list of metrics to display in the output */</div>
<div>388&emsp;&emsp;&nbsp;&nbsp;  protected List&#60;String> m_metricsToDisplay = new ArrayList&#60;String>();</div>
<div>389&emsp;&emsp;</div>
<div>390&emsp;&emsp;&nbsp;&nbsp;  public static final String[] BUILT_IN_EVAL_METRICS = { "Correct",</div>
<div>391&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    "Incorrect", "Kappa", "Total cost", "Average cost", "KB relative",</div>
<div>392&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    "KB information", "Correlation", "Complexity 0", "Complexity scheme",</div>
<div>393&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    "Complexity improvement", "MAE", "RMSE", "RAE", "RRSE", "Coverage",</div>
<div>394&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    "Region size", "TP rate", "FP rate", "Precision", "Recall", "F-measure",</div>
<div>395&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    "MCC", "ROC area", "PRC area" };</div>
<div>396&emsp;&emsp;</div>
<div>397&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>398&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Utility method to get a list of the names of all built-in and plugin</div>
<div>399&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * evaluation metrics</div>
<div>400&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>401&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the complete list of available evaluation metrics</div>
<div>402&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>403&emsp;&emsp;&nbsp;&nbsp;  public static List&#60;String> getAllEvaluationMetricNames() {</div>
<div>404&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    List&#60;String> allEvals = new ArrayList&#60;String>();</div>
<div>405&emsp;&emsp;</div>
<div>406&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (String s : Evaluation.BUILT_IN_EVAL_METRICS) {</div>
<div>407&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      allEvals.add(s);</div>
<div>408&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>409&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    final List&#60;AbstractEvaluationMetric> pluginMetrics =</div>
<div>410&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      AbstractEvaluationMetric.getPluginMetrics();</div>
<div>411&emsp;&emsp;</div>
<div>412&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (pluginMetrics != null) {</div>
<div>413&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for (AbstractEvaluationMetric m : pluginMetrics) {</div>
<div>414&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        if (m instanceof InformationRetrievalEvaluationMetric) {</div>
<div>415&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          List&#60;String> statNames = m.getStatisticNames();</div>
<div>416&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          for (String s : statNames) {</div>
<div>417&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            allEvals.add(s);</div>
<div>418&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>419&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>420&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          allEvals.add(m.getMetricName());</div>
<div>421&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>422&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>423&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>424&emsp;&emsp;</div>
<div>425&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return allEvals;</div>
<div>426&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>427&emsp;&emsp;</div>
<div>428&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>429&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Initializes all the counters for the evaluation. Use</div>
<div>430&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;code>useNoPriors()&#60;/code> if the dataset is the test set and you can't</div>
<div>431&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * initialize with the priors from the training set via</div>
<div>432&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;code>setPriors(Instances)&#60;/code>.</div>
<div>433&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>434&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param data set of training instances, to get some header information and</div>
<div>435&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          prior class distribution information</div>
<div>436&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class is not defined</div>
<div>437&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @see #useNoPriors()</div>
<div>438&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @see #setPriors(Instances)</div>
<div>439&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>440&emsp;&emsp;&nbsp;&nbsp;  public Evaluation(Instances data) throws Exception {</div>
<div>441&emsp;&emsp;</div>
<div>442&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    this(data, null);</div>
<div>443&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>444&emsp;&emsp;</div>
<div>445&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>446&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Initializes all the counters for the evaluation and also takes a cost</div>
<div>447&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * matrix as parameter. Use &#60;code>useNoPriors()&#60;/code> if the dataset is the</div>
<div>448&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * test set and you can't initialize with the priors from the training set via</div>
<div>449&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;code>setPriors(Instances)&#60;/code>.</div>
<div>450&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>451&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param data set of training instances, to get some header information and</div>
<div>452&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          prior class distribution information</div>
<div>453&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param costMatrix the cost matrix---if null, default costs will be used</div>
<div>454&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if cost matrix is not compatible with data, the class is</div>
<div>455&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *           not defined or the class is numeric</div>
<div>456&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @see #useNoPriors()</div>
<div>457&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @see #setPriors(Instances)</div>
<div>458&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>459&emsp;&emsp;&nbsp;&nbsp;  public Evaluation(Instances data, CostMatrix costMatrix) throws Exception {</div>
<div>460&emsp;&emsp;</div>
<div>461&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_Header = new Instances(data, 0);</div>
<div>462&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_NumClasses = data.numClasses();</div>
<div>463&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_NumFolds = 1;</div>
<div>464&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_ClassIsNominal = data.classAttribute().isNominal();</div>
<div>465&emsp;&emsp;</div>
<div style="background-color:limegreen;">466&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>467&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_ConfusionMatrix = new double[m_NumClasses][m_NumClasses];</div>
<div>468&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_ClassNames = new String[m_NumClasses];</div>
<div style="background-color:limegreen;">469&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>470&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_ClassNames[i] = data.classAttribute().value(i);</div>
<div>471&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>472&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>473&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_CostMatrix = costMatrix;</div>
<div style="background-color:limegreen;">474&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_CostMatrix != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">475&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>476&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception("Class has to be nominal if cost matrix given!");</div>
<div>477&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">478&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (m_CostMatrix.size() != m_NumClasses) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>479&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception("Cost matrix not compatible with data!");</div>
<div>480&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>481&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>482&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_ClassPriors = new double[m_NumClasses];</div>
<div>483&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    setPriors(data);</div>
<div>484&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_MarginCounts = new double[k_MarginResolution + 1];</div>
<div>485&emsp;&emsp;</div>
<div style="background-color:limegreen;">486&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (String s : BUILT_IN_EVAL_METRICS) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">487&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!s.equalsIgnoreCase("Coverage") && !s.equalsIgnoreCase("Region size")) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>488&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_metricsToDisplay.add(s.toLowerCase());</div>
<div>489&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>490&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>491&emsp;&emsp;</div>
<div>492&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_pluginMetrics = AbstractEvaluationMetric.getPluginMetrics();</div>
<div style="background-color:limegreen;">493&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">494&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>495&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m.setBaseEvaluation(this);</div>
<div style="background-color:limegreen;">496&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m instanceof InformationRetrievalEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>497&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          List&#60;String> statNames = m.getStatisticNames();</div>
<div style="background-color:limegreen;">498&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          for (String s : statNames) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>499&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            m_metricsToDisplay.add(s.toLowerCase());</div>
<div>500&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>501&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>502&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_metricsToDisplay.add(m.getMetricName().toLowerCase());</div>
<div>503&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>504&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>505&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>506&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>507&emsp;&emsp;</div>
<div>508&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>509&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the header of the underlying dataset.</div>
<div>510&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>511&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the header information</div>
<div>512&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>513&emsp;&emsp;&nbsp;&nbsp;  public Instances getHeader() {</div>
<div>514&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_Header;</div>
<div>515&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>516&emsp;&emsp;</div>
<div>517&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>518&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Sets whether to discard predictions, ie, not storing them for future</div>
<div>519&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * reference via predictions() method in order to conserve memory.</div>
<div>520&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>521&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param value true if to discard the predictions</div>
<div>522&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @see #predictions()</div>
<div>523&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>524&emsp;&emsp;&nbsp;&nbsp;  public void setDiscardPredictions(boolean value) {</div>
<div>525&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_DiscardPredictions = value;</div>
<div style="background-color:limegreen;">526&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_DiscardPredictions) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>527&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_Predictions = null;</div>
<div>528&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>529&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>530&emsp;&emsp;</div>
<div>531&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>532&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns whether predictions are not recorded at all, in order to conserve</div>
<div>533&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * memory.</div>
<div>534&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>535&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return true if predictions are not recorded</div>
<div>536&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @see #predictions()</div>
<div>537&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>538&emsp;&emsp;&nbsp;&nbsp;  public boolean getDiscardPredictions() {</div>
<div>539&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_DiscardPredictions;</div>
<div>540&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>541&emsp;&emsp;</div>
<div>542&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>543&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the list of plugin metrics in use (or null if there are none)</div>
<div>544&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>545&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the list of plugin metrics</div>
<div>546&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>547&emsp;&emsp;&nbsp;&nbsp;  public List&#60;AbstractEvaluationMetric> getPluginMetrics() {</div>
<div>548&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_pluginMetrics;</div>
<div>549&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>550&emsp;&emsp;</div>
<div>551&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>552&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Set a list of the names of metrics to have appear in the output. The</div>
<div>553&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * default is to display all built in metrics and plugin metrics that haven't</div>
<div>554&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * been globally disabled.</div>
<div>555&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>556&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param display a list of metric names to have appear in the output</div>
<div>557&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>558&emsp;&emsp;&nbsp;&nbsp;  public void setMetricsToDisplay(List&#60;String> display) {</div>
<div>559&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // make sure all metric names are lower case for matching</div>
<div>560&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_metricsToDisplay.clear();</div>
<div>561&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (String s : display) {</div>
<div>562&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_metricsToDisplay.add(s.trim().toLowerCase());</div>
<div>563&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>564&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>565&emsp;&emsp;</div>
<div>566&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>567&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Get a list of the names of metrics to have appear in the output The default</div>
<div>568&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * is to display all built in metrics and plugin metrics that haven't been</div>
<div>569&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * globally disabled.</div>
<div>570&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>571&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return a list of metric names to have appear in the output</div>
<div>572&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>573&emsp;&emsp;&nbsp;&nbsp;  public List&#60;String> getMetricsToDisplay() {</div>
<div>574&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_metricsToDisplay;</div>
<div>575&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>576&emsp;&emsp;</div>
<div>577&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>578&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Toggle the output of the metrics specified in the supplied list.</div>
<div>579&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *</div>
<div>580&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param metricsToToggle a list of metrics to toggle</div>
<div>581&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>582&emsp;&emsp;&nbsp;&nbsp;  public void toggleEvalMetrics(List&#60;String> metricsToToggle) {</div>
<div style="background-color:limegreen;">583&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (String s : metricsToToggle) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">584&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (m_metricsToDisplay.contains(s.toLowerCase())) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>585&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_metricsToDisplay.remove(s.toLowerCase());</div>
<div>586&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>587&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_metricsToDisplay.add(s.toLowerCase());</div>
<div>588&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>589&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>590&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>591&emsp;&emsp;</div>
<div>592&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>593&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Get the named plugin evaluation metric</div>
<div>594&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>595&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param name the name of the metric (as returned by</div>
<div>596&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          AbstractEvaluationMetric.getName()) or the fully qualified class</div>
<div>597&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          name of the metric to find</div>
<div>598&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>599&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the metric or null if the metric is not in the list of plugin</div>
<div>600&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *         metrics</div>
<div>601&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>602&emsp;&emsp;&nbsp;&nbsp;  public AbstractEvaluationMetric getPluginMetric(String name) {</div>
<div>603&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    AbstractEvaluationMetric match = null;</div>
<div>604&emsp;&emsp;</div>
<div>605&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_pluginMetrics != null) {</div>
<div>606&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for (AbstractEvaluationMetric m : m_pluginMetrics) {</div>
<div>607&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        if (m.getMetricName().equals(name)</div>
<div>608&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          || m.getClass().getName().equals(name)) {</div>
<div>609&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          match = m;</div>
<div>610&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          break;</div>
<div>611&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>612&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>613&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>614&emsp;&emsp;</div>
<div>615&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return match;</div>
<div>616&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>617&emsp;&emsp;</div>
<div>618&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>619&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the area under ROC for those predictions that have been collected</div>
<div>620&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * in the evaluateClassifier(Classifier, Instances) method. Returns</div>
<div>621&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Utils.missingValue() if the area is not available.</div>
<div>622&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>623&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>624&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the area under the ROC curve or not a number</div>
<div>625&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>626&emsp;&emsp;&nbsp;&nbsp;  public double areaUnderROC(int classIndex) {</div>
<div>627&emsp;&emsp;</div>
<div>628&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Check if any predictions have been collected</div>
<div style="background-color:limegreen;">629&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_Predictions == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>630&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Utils.missingValue();</div>
<div>631&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>632&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      ThresholdCurve tc = new ThresholdCurve();</div>
<div>633&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Instances result = tc.getCurve(m_Predictions, classIndex);</div>
<div>634&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return ThresholdCurve.getROCArea(result);</div>
<div>635&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>636&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>637&emsp;&emsp;</div>
<div>638&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>639&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) AUC.</div>
<div>640&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>641&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted AUC.</div>
<div>642&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>643&emsp;&emsp;&nbsp;&nbsp;  public double weightedAreaUnderROC() {</div>
<div>644&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>645&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>646&emsp;&emsp;</div>
<div style="background-color:limegreen;">647&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">648&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>649&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>650&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>651&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>652&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>653&emsp;&emsp;</div>
<div>654&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double aucTotal = 0;</div>
<div style="background-color:limegreen;">655&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>656&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = areaUnderROC(i);</div>
<div style="background-color:limegreen;">657&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!Utils.isMissingValue(temp)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>658&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        aucTotal += (temp * classCounts[i]);</div>
<div>659&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>660&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>661&emsp;&emsp;</div>
<div>662&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return aucTotal / classCountSum;</div>
<div>663&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>664&emsp;&emsp;</div>
<div>665&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>666&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the area under precision-recall curve (AUPRC) for those predictions</div>
<div>667&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * that have been collected in the evaluateClassifier(Classifier, Instances)</div>
<div>668&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * method. Returns Utils.missingValue() if the area is not available.</div>
<div>669&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>670&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>671&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the area under the precision-recall curve or not a number</div>
<div>672&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>673&emsp;&emsp;&nbsp;&nbsp;  public double areaUnderPRC(int classIndex) {</div>
<div>674&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Check if any predictions have been collected</div>
<div style="background-color:limegreen;">675&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_Predictions == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>676&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Utils.missingValue();</div>
<div>677&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>678&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      ThresholdCurve tc = new ThresholdCurve();</div>
<div>679&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Instances result = tc.getCurve(m_Predictions, classIndex);</div>
<div>680&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return ThresholdCurve.getPRCArea(result);</div>
<div>681&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>682&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>683&emsp;&emsp;</div>
<div>684&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>685&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) AUPRC.</div>
<div>686&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>687&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted AUPRC.</div>
<div>688&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>689&emsp;&emsp;&nbsp;&nbsp;  public double weightedAreaUnderPRC() {</div>
<div>690&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>691&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>692&emsp;&emsp;</div>
<div style="background-color:limegreen;">693&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">694&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>695&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>696&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>697&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>698&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>699&emsp;&emsp;</div>
<div>700&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double auprcTotal = 0;</div>
<div style="background-color:limegreen;">701&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>702&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = areaUnderPRC(i);</div>
<div style="background-color:limegreen;">703&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!Utils.isMissingValue(temp)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>704&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        auprcTotal += (temp * classCounts[i]);</div>
<div>705&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>706&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>707&emsp;&emsp;</div>
<div>708&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return auprcTotal / classCountSum;</div>
<div>709&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>710&emsp;&emsp;</div>
<div>711&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>712&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns a copy of the confusion matrix.</div>
<div>713&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>714&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return a copy of the confusion matrix as a two-dimensional array</div>
<div>715&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>716&emsp;&emsp;&nbsp;&nbsp;  public double[][] confusionMatrix() {</div>
<div>717&emsp;&emsp;</div>
<div>718&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[][] newMatrix = new double[m_ConfusionMatrix.length][0];</div>
<div>719&emsp;&emsp;</div>
<div>720&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int i = 0; i &#60; m_ConfusionMatrix.length; i++) {</div>
<div>721&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      newMatrix[i] = new double[m_ConfusionMatrix[i].length];</div>
<div>722&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      System.arraycopy(m_ConfusionMatrix[i], 0, newMatrix[i], 0,</div>
<div>723&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_ConfusionMatrix[i].length);</div>
<div>724&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>725&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return newMatrix;</div>
<div>726&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>727&emsp;&emsp;</div>
<div>728&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>729&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Performs a (stratified if class is nominal) cross-validation for a</div>
<div>730&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * classifier on a set of instances. Now performs a deep copy of the</div>
<div>731&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * classifier before each call to buildClassifier() (just in case the</div>
<div>732&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * classifier is not initialized properly).</div>
<div>733&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>734&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier the classifier with any options set.</div>
<div>735&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param data the data on which the cross-validation is to be performed</div>
<div>736&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param numFolds the number of folds for the cross-validation</div>
<div>737&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param random random number generator for randomization</div>
<div>738&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param forPredictionsPrinting varargs parameter that, if supplied, is</div>
<div>739&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          expected to hold a</div>
<div>740&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          weka.classifiers.evaluation.output.prediction.AbstractOutput</div>
<div>741&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          object</div>
<div>742&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if a classifier could not be generated successfully or</div>
<div>743&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *           the class is not defined</div>
<div>744&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>745&emsp;&emsp;&nbsp;&nbsp;  public void crossValidateModel(Classifier classifier, Instances data,</div>
<div>746&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int numFolds, Random random, Object... forPredictionsPrinting)</div>
<div>747&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    throws Exception {</div>
<div>748&emsp;&emsp;</div>
<div>749&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Make a copy of the data we can reorder</div>
<div>750&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    data = new Instances(data);</div>
<div>751&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    data.randomize(random);</div>
<div style="background-color:limegreen;">752&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (data.classAttribute().isNominal()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>753&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      data.stratify(numFolds);</div>
<div>754&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>755&emsp;&emsp;</div>
<div>756&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // We assume that the first element is a</div>
<div>757&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // weka.classifiers.evaluation.output.prediction.AbstractOutput object</div>
<div>758&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    AbstractOutput classificationOutput = null;</div>
<div style="background-color:limegreen;">759&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (forPredictionsPrinting.length > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>760&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // print the header first</div>
<div>761&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classificationOutput = (AbstractOutput) forPredictionsPrinting[0];</div>
<div>762&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classificationOutput.setHeader(data);</div>
<div>763&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classificationOutput.printHeader();</div>
<div>764&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>765&emsp;&emsp;</div>
<div>766&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Do the folds</div>
<div style="background-color:limegreen;">767&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; numFolds; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>768&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Instances train = data.trainCV(numFolds, i, random);</div>
<div>769&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      setPriors(train);</div>
<div>770&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Classifier copiedClassifier = AbstractClassifier.makeCopy(classifier);</div>
<div>771&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      copiedClassifier.buildClassifier(train);</div>
<div>772&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Instances test = data.testCV(numFolds, i);</div>
<div>773&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      evaluateModel(copiedClassifier, test, forPredictionsPrinting);</div>
<div>774&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>775&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_NumFolds = numFolds;</div>
<div>776&emsp;&emsp;</div>
<div style="background-color:limegreen;">777&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classificationOutput != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>778&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classificationOutput.printFooter();</div>
<div>779&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>780&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>781&emsp;&emsp;</div>
<div>782&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>783&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Performs a (stratified if class is nominal) cross-validation for a</div>
<div>784&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * classifier on a set of instances.</div>
<div>785&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>786&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifierString a string naming the class of the classifier</div>
<div>787&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param data the data on which the cross-validation is to be performed</div>
<div>788&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param numFolds the number of folds for the cross-validation</div>
<div>789&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param options the options to the classifier. Any options</div>
<div>790&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param random the random number generator for randomizing the data accepted</div>
<div>791&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          by the classifier will be removed from this array.</div>
<div>792&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if a classifier could not be generated successfully or</div>
<div>793&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *           the class is not defined</div>
<div>794&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>795&emsp;&emsp;&nbsp;&nbsp;  public void crossValidateModel(String classifierString, Instances data,</div>
<div>796&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int numFolds, String[] options, Random random) throws Exception {</div>
<div>797&emsp;&emsp;</div>
<div>798&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    crossValidateModel(AbstractClassifier.forName(classifierString, options),</div>
<div>799&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      data, numFolds, random);</div>
<div>800&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>801&emsp;&emsp;</div>
<div>802&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>803&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates a classifier with the options given in an array of strings.</div>
<div>804&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>805&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>806&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Valid options are:</div>
<div>807&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>808&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>809&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -t filename &#60;br/></div>
<div>810&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Name of the file with the training data. (required)</div>
<div>811&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>812&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>813&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -T filename &#60;br/></div>
<div>814&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Name of the file with the test data. If missing a cross-validation is</div>
<div>815&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * performed.</div>
<div>816&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>817&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>818&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -c index &#60;br/></div>
<div>819&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Index of the class attribute (1, 2, ...; default: last).</div>
<div>820&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>821&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>822&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -x number &#60;br/></div>
<div>823&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * The number of folds for the cross-validation (default: 10).</div>
<div>824&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>825&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>826&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -no-cv &#60;br/></div>
<div>827&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * No cross validation. If no test file is provided, no evaluation is done.</div>
<div>828&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>829&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>830&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -split-percentage percentage &#60;br/></div>
<div>831&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Sets the percentage for the train/test set split, e.g., 66.</div>
<div>832&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>833&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>834&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -preserve-order &#60;br/></div>
<div>835&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Preserves the order in the percentage split instead of randomizing the data</div>
<div>836&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * first with the seed value ('-s').</div>
<div>837&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>838&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>839&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -s seed &#60;br/></div>
<div>840&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Random number seed for the cross-validation and percentage split (default:</div>
<div>841&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * 1).</div>
<div>842&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>843&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>844&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -m filename &#60;br/></div>
<div>845&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * The name of a file containing a cost matrix.</div>
<div>846&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>847&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>848&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -l filename &#60;br/></div>
<div>849&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Loads classifier from the given file. In case the filename ends with</div>
<div>850&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * ".xml",a PMML file is loaded or, if that fails, options are loaded from</div>
<div>851&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * XML.</div>
<div>852&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>853&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>854&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -d filename &#60;br/></div>
<div>855&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Saves classifier built from the training data into the given file. In case</div>
<div>856&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * the filename ends with ".xml" the options are saved XML, not the model.</div>
<div>857&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>858&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>859&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -v &#60;br/></div>
<div>860&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs no statistics for the training data.</div>
<div>861&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>862&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>863&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -o &#60;br/></div>
<div>864&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs statistics only, not the classifier.</div>
<div>865&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>866&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>867&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -do-not-output-per-class-statistics &#60;br/></div>
<div>868&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Do not output statistics per class.</div>
<div>869&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>870&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>871&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -k &#60;br/></div>
<div>872&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs information-theoretic statistics.</div>
<div>873&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>874&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>875&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -classifications</div>
<div>876&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * "weka.classifiers.evaluation.output.prediction.AbstractOutput + options" &#60;br/></div>
<div>877&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Uses the specified class for generating the classification output. E.g.:</div>
<div>878&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * weka.classifiers.evaluation.output.prediction.PlainText or :</div>
<div>879&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * weka.classifiers.evaluation.output.prediction.CSV</div>
<div>880&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>881&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -p range &#60;br/></div>
<div>882&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs predictions for test instances (or the train instances if no test</div>
<div>883&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * instances provided and -no-cv is used), along with the attributes in the</div>
<div>884&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * specified range (and nothing else). Use '-p 0' if no attributes are</div>
<div>885&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * desired.</div>
<div>886&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>887&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Deprecated: use "-classifications ..." instead.</div>
<div>888&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>889&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>890&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -distribution &#60;br/></div>
<div>891&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs the distribution instead of only the prediction in conjunction with</div>
<div>892&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * the '-p' option (only nominal classes).</div>
<div>893&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>894&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Deprecated: use "-classifications ..." instead.</div>
<div>895&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>896&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>897&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -no-predictions &#60;br/></div>
<div>898&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Turns off the collection of predictions in order to conserve memory.</div>
<div>899&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>900&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>901&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -r &#60;br/></div>
<div>902&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs cumulative margin distribution (and nothing else).</div>
<div>903&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>904&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>905&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -g &#60;br/></div>
<div>906&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Only for classifiers that implement "Graphable." Outputs the graph</div>
<div>907&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * representation of the classifier (and nothing else).</div>
<div>908&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>909&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>910&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -xml filename | xml-string &#60;br/></div>
<div>911&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Retrieves the options from the XML-data instead of the command line.</div>
<div>912&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>913&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>914&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -threshold-file file &#60;br/></div>
<div>915&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * The file to save the threshold data to. The format is determined by the</div>
<div>916&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * extensions, e.g., '.arff' for ARFF format or '.csv' for CSV.</div>
<div>917&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>918&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>919&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -threshold-label label &#60;br/></div>
<div>920&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * The class label to determine the threshold data for (default is the first</div>
<div>921&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * label)</div>
<div>922&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>923&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>924&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifierString class of machine learning classifier as a string</div>
<div>925&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param options the array of string containing the options</div>
<div>926&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully</div>
<div>927&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return a string describing the results</div>
<div>928&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>929&emsp;&emsp;&nbsp;&nbsp;  public static String evaluateModel(String classifierString, String[] options)</div>
<div>930&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    throws Exception {</div>
<div>931&emsp;&emsp;</div>
<div>932&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Classifier classifier;</div>
<div>933&emsp;&emsp;</div>
<div>934&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Create classifier</div>
<div>935&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    try {</div>
<div>936&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classifier =</div>
<div>937&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // (Classifier)Class.forName(classifierString).newInstance();</div>
<div>938&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        AbstractClassifier.forName(classifierString, null);</div>
<div>939&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } catch (Exception e) {</div>
<div>940&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Can't find class with name " + classifierString</div>
<div>941&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + '.');</div>
<div>942&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>943&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return evaluateModel(classifier, options);</div>
<div>944&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>945&emsp;&emsp;</div>
<div>946&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>947&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * A test method for this class. Just extracts the first command line argument</div>
<div>948&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * as a classifier class name and calls evaluateModel.</div>
<div>949&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>950&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param args an array of command line arguments, the first of which must be</div>
<div>951&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          the class name of a classifier.</div>
<div>952&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>953&emsp;&emsp;&nbsp;&nbsp;  public static void main(String[] args) {</div>
<div>954&emsp;&emsp;</div>
<div>955&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    try {</div>
<div>956&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (args.length == 0) {</div>
<div>957&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception("The first argument must be the class name"</div>
<div>958&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + " of a classifier");</div>
<div>959&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>960&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      String classifier = args[0];</div>
<div>961&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      args[0] = "";</div>
<div>962&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      System.out.println(evaluateModel(classifier, args));</div>
<div>963&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } catch (Exception ex) {</div>
<div>964&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      ex.printStackTrace();</div>
<div>965&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      System.err.println(ex.getMessage());</div>
<div>966&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>967&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>968&emsp;&emsp;</div>
<div>969&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>970&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates a classifier with the options given in an array of strings.</div>
<div>971&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>972&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>973&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Valid options are:</div>
<div>974&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>975&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>976&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -t name of training file &#60;br/></div>
<div>977&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Name of the file with the training data. (required)</div>
<div>978&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>979&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>980&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -T name of test file &#60;br/></div>
<div>981&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Name of the file with the test data. If missing a cross-validation is</div>
<div>982&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * performed.</div>
<div>983&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>984&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>985&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -c class index &#60;br/></div>
<div>986&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Index of the class attribute (1, 2, ...; default: last).</div>
<div>987&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>988&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>989&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -x number of folds &#60;br/></div>
<div>990&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * The number of folds for the cross-validation (default: 10).</div>
<div>991&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>992&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>993&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -no-cv &#60;br/></div>
<div>994&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * No cross validation. If no test file is provided, no evaluation is done.</div>
<div>995&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>996&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>997&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -split-percentage percentage &#60;br/></div>
<div>998&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Sets the percentage for the train/test set split, e.g., 66.</div>
<div>999&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1000&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1001&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -preserve-order &#60;br/></div>
<div>1002&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Preserves the order in the percentage split instead of randomizing the data</div>
<div>1003&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * first with the seed value ('-s').</div>
<div>1004&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1005&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1006&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -s seed &#60;br/></div>
<div>1007&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Random number seed for the cross-validation and percentage split (default:</div>
<div>1008&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * 1).</div>
<div>1009&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1010&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1011&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -m file with cost matrix &#60;br/></div>
<div>1012&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * The name of a file containing a cost matrix.</div>
<div>1013&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1014&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1015&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -l filename &#60;br/></div>
<div>1016&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Loads classifier from the given file. In case the filename ends with</div>
<div>1017&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * ".xml",a PMML file is loaded or, if that fails, options are loaded from</div>
<div>1018&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * XML.</div>
<div>1019&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1020&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1021&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -d filename &#60;br/></div>
<div>1022&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Saves classifier built from the training data into the given file. In case</div>
<div>1023&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * the filename ends with ".xml" the options are saved XML, not the model.</div>
<div>1024&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1025&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1026&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -v &#60;br/></div>
<div>1027&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs no statistics for the training data.</div>
<div>1028&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1029&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1030&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -o &#60;br/></div>
<div>1031&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs statistics only, not the classifier.</div>
<div>1032&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1033&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1034&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -do-not-output-per-class-statistics &#60;br/></div>
<div>1035&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Do not output statistics per class.</div>
<div>1036&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1037&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1038&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -k &#60;br/></div>
<div>1039&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs information-theoretic statistics.</div>
<div>1040&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1041&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1042&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -classifications</div>
<div>1043&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * "weka.classifiers.evaluation.output.prediction.AbstractOutput + options" &#60;br/></div>
<div>1044&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Uses the specified class for generating the classification output. E.g.:</div>
<div>1045&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * weka.classifiers.evaluation.output.prediction.PlainText or :</div>
<div>1046&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * weka.classifiers.evaluation.output.prediction.CSV</div>
<div>1047&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1048&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -p range &#60;br/></div>
<div>1049&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs predictions for test instances (or the train instances if no test</div>
<div>1050&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * instances provided and -no-cv is used), along with the attributes in the</div>
<div>1051&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * specified range (and nothing else). Use '-p 0' if no attributes are</div>
<div>1052&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * desired.</div>
<div>1053&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1054&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Deprecated: use "-classifications ..." instead.</div>
<div>1055&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1056&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1057&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -distribution &#60;br/></div>
<div>1058&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs the distribution instead of only the prediction in conjunction with</div>
<div>1059&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * the '-p' option (only nominal classes).</div>
<div>1060&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1061&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Deprecated: use "-classifications ..." instead.</div>
<div>1062&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1063&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1064&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -no-predictions &#60;br/></div>
<div>1065&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Turns off the collection of predictions in order to conserve memory.</div>
<div>1066&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1067&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1068&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -r &#60;br/></div>
<div>1069&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs cumulative margin distribution (and nothing else).</div>
<div>1070&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1071&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1072&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -g &#60;br/></div>
<div>1073&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Only for classifiers that implement "Graphable." Outputs the graph</div>
<div>1074&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * representation of the classifier (and nothing else).</div>
<div>1075&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1076&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1077&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * -xml filename | xml-string &#60;br/></div>
<div>1078&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Retrieves the options from the XML-data instead of the command line.</div>
<div>1079&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>1080&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1081&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier machine learning classifier</div>
<div>1082&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param options the array of string containing the options</div>
<div>1083&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully</div>
<div>1084&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return a string describing the results</div>
<div>1085&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>1086&emsp;&emsp;&nbsp;&nbsp;  public static String evaluateModel(Classifier classifier, String[] options)</div>
<div>1087&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    throws Exception {</div>
<div>1088&emsp;&emsp;</div>
<div>1089&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Instances train = null, tempTrain, test = null, template = null;</div>
<div>1090&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int seed = 1, folds = 10, classIndex = -1;</div>
<div>1091&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean noCrossValidation = false;</div>
<div>1092&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String trainFileName, testFileName, sourceClass, classIndexString, seedString, foldsString, objectInputFileName, objectOutputFileName;</div>
<div>1093&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean noOutput = false, trainStatistics = true, printMargins = false, printComplexityStatistics =</div>
<div>1094&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      false, printGraph = false, classStatistics = false, printSource = false;</div>
<div>1095&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    StringBuffer text = new StringBuffer();</div>
<div>1096&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    DataSource trainSource = null, testSource = null;</div>
<div>1097&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    ObjectInputStream objectInputStream = null;</div>
<div>1098&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    BufferedInputStream xmlInputStream = null;</div>
<div>1099&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    CostMatrix costMatrix = null;</div>
<div>1100&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    StringBuffer schemeOptionsText = null;</div>
<div>1101&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    long trainTimeStart = 0, trainTimeElapsed = 0, testTimeStart = 0, testTimeElapsed =</div>
<div>1102&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      0;</div>
<div>1103&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String xml = "";</div>
<div>1104&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String[] optionsTmp = null;</div>
<div>1105&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Classifier classifierBackup = null;</div>
<div>1106&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int actualClassIndex = -1; // 0-based class index</div>
<div>1107&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String splitPercentageString = "";</div>
<div>1108&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double splitPercentage = -1;</div>
<div>1109&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean preserveOrder = false;</div>
<div>1110&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean forceBatchTraining = false; // set to true if updateable classifier</div>
<div>1111&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // should not be trained using</div>
<div>1112&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // updateClassifier()</div>
<div>1113&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean trainSetPresent = false;</div>
<div>1114&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean testSetPresent = false;</div>
<div>1115&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean discardPredictions = false;</div>
<div>1116&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String thresholdFile;</div>
<div>1117&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String thresholdLabel;</div>
<div>1118&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    StringBuffer predsBuff = null; // predictions from cross-validation</div>
<div>1119&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    AbstractOutput classificationOutput = null;</div>
<div>1120&emsp;&emsp;</div>
<div>1121&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // help requested?</div>
<div>1122&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (Utils.getFlag("h", options) || Utils.getFlag("help", options)) {</div>
<div>1123&emsp;&emsp;</div>
<div>1124&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // global info requested as well?</div>
<div>1125&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      boolean globalInfo =</div>
<div>1126&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Utils.getFlag("synopsis", options) || Utils.getFlag("info", options);</div>
<div>1127&emsp;&emsp;</div>
<div>1128&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("\nHelp requested."</div>
<div>1129&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + makeOptionString(classifier, globalInfo));</div>
<div>1130&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1131&emsp;&emsp;</div>
<div>1132&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String metricsToToggle = Utils.getOption("toggle", options);</div>
<div>1133&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    List&#60;String> toggleList = new ArrayList&#60;String>();</div>
<div>1134&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (metricsToToggle.length() > 0) {</div>
<div>1135&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      String[] parts = metricsToToggle.split(",");</div>
<div>1136&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for (String p : parts) {</div>
<div>1137&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        toggleList.add(p.trim().toLowerCase());</div>
<div>1138&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1139&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1140&emsp;&emsp;</div>
<div>1141&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    try {</div>
<div>1142&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // do we get the input from XML instead of normal parameters?</div>
<div>1143&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      xml = Utils.getOption("xml", options);</div>
<div>1144&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (!xml.equals("")) {</div>
<div>1145&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        options = new XMLOptions(xml).toArray();</div>
<div>1146&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1147&emsp;&emsp;</div>
<div>1148&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // is the input model only the XML-Options, i.e. w/o built model?</div>
<div>1149&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      optionsTmp = new String[options.length];</div>
<div>1150&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for (int i = 0; i &#60; options.length; i++) {</div>
<div>1151&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        optionsTmp[i] = options[i];</div>
<div>1152&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1153&emsp;&emsp;</div>
<div>1154&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      String tmpO = Utils.getOption('l', optionsTmp);</div>
<div>1155&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // if (Utils.getOption('l', optionsTmp).toLowerCase().endsWith(".xml")) {</div>
<div>1156&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (tmpO.endsWith(".xml")) {</div>
<div>1157&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // try to load file as PMML first</div>
<div>1158&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        boolean success = false;</div>
<div>1159&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        try {</div>
<div>1160&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          PMMLModel pmmlModel = PMMLFactory.getPMMLModel(tmpO);</div>
<div>1161&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          if (pmmlModel instanceof PMMLClassifier) {</div>
<div>1162&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            classifier = ((PMMLClassifier) pmmlModel);</div>
<div>1163&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            success = true;</div>
<div>1164&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1165&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } catch (IllegalArgumentException ex) {</div>
<div>1166&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          success = false;</div>
<div>1167&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1168&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        if (!success) {</div>
<div>1169&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // load options from serialized data ('-l' is automatically erased!)</div>
<div>1170&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          XMLClassifier xmlserial = new XMLClassifier();</div>
<div>1171&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          OptionHandler cl =</div>
<div>1172&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            (OptionHandler) xmlserial.read(Utils.getOption('l', options));</div>
<div>1173&emsp;&emsp;</div>
<div>1174&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // merge options</div>
<div>1175&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          optionsTmp = new String[options.length + cl.getOptions().length];</div>
<div>1176&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          System.arraycopy(cl.getOptions(), 0, optionsTmp, 0,</div>
<div>1177&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            cl.getOptions().length);</div>
<div>1178&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          System.arraycopy(options, 0, optionsTmp, cl.getOptions().length,</div>
<div>1179&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            options.length);</div>
<div>1180&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          options = optionsTmp;</div>
<div>1181&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1182&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1183&emsp;&emsp;</div>
<div>1184&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      noCrossValidation = Utils.getFlag("no-cv", options);</div>
<div>1185&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Get basic options (options the same for all schemes)</div>
<div>1186&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classIndexString = Utils.getOption('c', options);</div>
<div>1187&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (classIndexString.length() != 0) {</div>
<div>1188&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        if (classIndexString.equals("first")) {</div>
<div>1189&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          classIndex = 1;</div>
<div>1190&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else if (classIndexString.equals("last")) {</div>
<div>1191&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          classIndex = -1;</div>
<div>1192&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>1193&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          classIndex = Integer.parseInt(classIndexString);</div>
<div>1194&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1195&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1196&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trainFileName = Utils.getOption('t', options);</div>
<div>1197&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      objectInputFileName = Utils.getOption('l', options);</div>
<div>1198&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      objectOutputFileName = Utils.getOption('d', options);</div>
<div>1199&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      testFileName = Utils.getOption('T', options);</div>
<div>1200&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      foldsString = Utils.getOption('x', options);</div>
<div>1201&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (foldsString.length() != 0) {</div>
<div>1202&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        folds = Integer.parseInt(foldsString);</div>
<div>1203&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1204&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      seedString = Utils.getOption('s', options);</div>
<div>1205&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (seedString.length() != 0) {</div>
<div>1206&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        seed = Integer.parseInt(seedString);</div>
<div>1207&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1208&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (trainFileName.length() == 0) {</div>
<div>1209&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        if (objectInputFileName.length() == 0) {</div>
<div>1210&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          throw new Exception(</div>
<div>1211&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            "No training file and no object input file given.");</div>
<div>1212&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1213&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        if (testFileName.length() == 0) {</div>
<div>1214&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          throw new Exception("No training file and no test file given.");</div>
<div>1215&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">1216&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      } else if ((objectInputFileName.length() != 0)&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1217&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        && ((!(classifier instanceof UpdateableClassifier)) || (testFileName</div>
<div style="background-color:limegreen;">1218&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          .length() == 0))) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1219&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception("Classifier not incremental, or no "</div>
<div>1220&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + "test file provided: can't " + "use both train and model file.");</div>
<div>1221&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1222&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      try {</div>
<div style="background-color:limegreen;">1223&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (trainFileName.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1224&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          trainSetPresent = true;</div>
<div>1225&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          trainSource = new DataSource(trainFileName);</div>
<div>1226&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">1227&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (testFileName.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1228&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testSetPresent = true;</div>
<div>1229&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testSource = new DataSource(testFileName);</div>
<div>1230&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">1231&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (objectInputFileName.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1232&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (objectInputFileName.endsWith(".xml")) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1233&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            // if this is the case then it means that a PMML classifier was</div>
<div>1234&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            // successfully loaded earlier in the code</div>
<div>1235&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            objectInputStream = null;</div>
<div>1236&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            xmlInputStream = null;</div>
<div>1237&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          } else {</div>
<div>1238&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            InputStream is = new FileInputStream(objectInputFileName);</div>
<div style="background-color:limegreen;">1239&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (objectInputFileName.endsWith(".gz")) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1240&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              is = new GZIPInputStream(is);</div>
<div>1241&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>1242&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            // load from KOML?</div>
<div style="background-color:limegreen;">1243&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (!(objectInputFileName.endsWith(".koml") && KOML.isPresent())) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1244&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              // objectInputStream = new ObjectInputStream(is);</div>
<div>1245&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              objectInputStream = SerializationHelper.getObjectInputStream(is);</div>
<div>1246&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              xmlInputStream = null;</div>
<div>1247&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            } else {</div>
<div>1248&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              objectInputStream = null;</div>
<div>1249&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              xmlInputStream = new BufferedInputStream(is);</div>
<div>1250&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>1251&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1252&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1253&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } catch (Exception e) {</div>
<div>1254&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception("Can't open file " + e.getMessage() + '.');</div>
<div>1255&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">1256&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (testSetPresent) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1257&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        template = test = testSource.getStructure();</div>
<div style="background-color:limegreen;">1258&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classIndex != -1) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1259&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          test.setClassIndex(classIndex - 1);</div>
<div>1260&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div style="background-color:limegreen;">1261&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if ((test.classIndex() == -1) || (classIndexString.length() != 0)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1262&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            test.setClassIndex(test.numAttributes() - 1);</div>
<div>1263&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1264&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1265&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        actualClassIndex = test.classIndex();</div>
<div>1266&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>1267&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // percentage split</div>
<div>1268&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        splitPercentageString = Utils.getOption("split-percentage", options);</div>
<div style="background-color:limegreen;">1269&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (splitPercentageString.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1270&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (foldsString.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1271&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            throw new Exception(</div>
<div>1272&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              "Percentage split cannot be used in conjunction with "</div>
<div>1273&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                + "cross-validation ('-x').");</div>
<div>1274&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1275&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          splitPercentage = Double.parseDouble(splitPercentageString);</div>
<div style="background-color:limegreen;">1276&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if ((splitPercentage &#60;= 0) || (splitPercentage >= 100)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1277&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            throw new Exception("Percentage split value needs be >0 and &#60;100.");</div>
<div>1278&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1279&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>1280&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          splitPercentage = -1;</div>
<div>1281&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1282&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        preserveOrder = Utils.getFlag("preserve-order", options);</div>
<div style="background-color:limegreen;">1283&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (preserveOrder) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1284&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (splitPercentage == -1) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1285&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            throw new Exception(</div>
<div>1286&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              "Percentage split ('-split-percentage') is missing.");</div>
<div>1287&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1288&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1289&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // create new train/test sources</div>
<div style="background-color:limegreen;">1290&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (splitPercentage > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1291&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testSetPresent = true;</div>
<div>1292&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          Instances tmpInst = trainSource.getDataSet(actualClassIndex);</div>
<div style="background-color:limegreen;">1293&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (!preserveOrder) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1294&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            tmpInst.randomize(new Random(seed));</div>
<div>1295&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1296&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          int trainSize =</div>
<div>1297&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            (int) Math.round(tmpInst.numInstances() * splitPercentage / 100);</div>
<div>1298&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          int testSize = tmpInst.numInstances() - trainSize;</div>
<div>1299&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          Instances trainInst = new Instances(tmpInst, 0, trainSize);</div>
<div>1300&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          Instances testInst = new Instances(tmpInst, trainSize, testSize);</div>
<div>1301&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          trainSource = new DataSource(trainInst);</div>
<div>1302&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testSource = new DataSource(testInst);</div>
<div>1303&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          template = test = testSource.getStructure();</div>
<div style="background-color:limegreen;">1304&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (classIndex != -1) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1305&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            test.setClassIndex(classIndex - 1);</div>
<div>1306&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          } else {</div>
<div style="background-color:limegreen;">1307&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if ((test.classIndex() == -1) || (classIndexString.length() != 0)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1308&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              test.setClassIndex(test.numAttributes() - 1);</div>
<div>1309&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>1310&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1311&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          actualClassIndex = test.classIndex();</div>
<div>1312&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1313&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">1314&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (trainSetPresent) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1315&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        template = train = trainSource.getStructure();</div>
<div style="background-color:limegreen;">1316&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classIndex != -1) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1317&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          train.setClassIndex(classIndex - 1);</div>
<div>1318&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div style="background-color:limegreen;">1319&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if ((train.classIndex() == -1) || (classIndexString.length() != 0)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1320&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            train.setClassIndex(train.numAttributes() - 1);</div>
<div>1321&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1322&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1323&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        actualClassIndex = train.classIndex();</div>
<div style="background-color:limegreen;">1324&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (!(classifier instanceof weka.classifiers.misc.InputMappedClassifier)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1325&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if ((testSetPresent) && !test.equalHeaders(train)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1326&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            throw new IllegalArgumentException(</div>
<div>1327&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              "Train and test file not compatible!\n"</div>
<div>1328&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                + test.equalHeadersMsg(train));</div>
<div>1329&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1330&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1331&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">1332&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (template == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1333&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception("No actual dataset provided to use as template");</div>
<div>1334&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1335&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      costMatrix =</div>
<div>1336&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        handleCostOption(Utils.getOption('m', options), template.numClasses());</div>
<div>1337&emsp;&emsp;</div>
<div>1338&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classStatistics =</div>
<div style="background-color:limegreen;">1339&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        !Utils.getFlag("do-not-output-per-class-statistics", options);&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1340&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      noOutput = Utils.getFlag('o', options);</div>
<div style="background-color:limegreen;">1341&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      trainStatistics = !Utils.getFlag('v', options);&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1342&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      printComplexityStatistics = Utils.getFlag('k', options);</div>
<div>1343&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      printMargins = Utils.getFlag('r', options);</div>
<div>1344&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      printGraph = Utils.getFlag('g', options);</div>
<div>1345&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      sourceClass = Utils.getOption('z', options);</div>
<div style="background-color:limegreen;">1346&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      printSource = (sourceClass.length() != 0);&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1347&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      thresholdFile = Utils.getOption("threshold-file", options);</div>
<div>1348&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      thresholdLabel = Utils.getOption("threshold-label", options);</div>
<div>1349&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      forceBatchTraining = Utils.getFlag("force-batch-training", options);</div>
<div>1350&emsp;&emsp;</div>
<div>1351&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      String classifications = Utils.getOption("classifications", options);</div>
<div>1352&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      String classificationsOld = Utils.getOption("p", options);</div>
<div style="background-color:limegreen;">1353&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (classifications.length() > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1354&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        noOutput = true;</div>
<div>1355&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classificationOutput = AbstractOutput.fromCommandline(classifications);</div>
<div style="background-color:limegreen;">1356&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classificationOutput == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1357&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          throw new Exception(</div>
<div>1358&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            "Failed to instantiate class for classification output: "</div>
<div>1359&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + classifications);</div>
<div>1360&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1361&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classificationOutput.setHeader(template);</div>
<div>1362&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1363&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // backwards compatible with old "-p range" and "-distribution" options</div>
<div style="background-color:limegreen;">1364&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      else if (classificationsOld.length() > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1365&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        noOutput = true;</div>
<div>1366&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classificationOutput = new PlainText();</div>
<div>1367&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classificationOutput.setHeader(template);</div>
<div style="background-color:limegreen;">1368&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (!classificationsOld.equals("0")) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1369&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          classificationOutput.setAttributes(classificationsOld);</div>
<div>1370&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1371&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classificationOutput.setOutputDistribution(Utils.getFlag(</div>
<div>1372&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          "distribution", options));</div>
<div>1373&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1374&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // -distribution flag needs -p option</div>
<div>1375&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      else {</div>
<div style="background-color:limegreen;">1376&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (Utils.getFlag("distribution", options)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1377&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          throw new Exception("Cannot print distribution without '-p' option!");</div>
<div>1378&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1379&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1380&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      discardPredictions = Utils.getFlag("no-predictions", options);</div>
<div style="background-color:limegreen;">1381&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (discardPredictions && (classificationOutput != null)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1382&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception(</div>
<div>1383&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          "Cannot discard predictions ('-no-predictions') and output predictions at the same time ('-classifications/-p')!");</div>
<div>1384&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1385&emsp;&emsp;</div>
<div>1386&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // if no training file given, we don't have any priors</div>
<div style="background-color:limegreen;">1387&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if ((!trainSetPresent) && (printComplexityStatistics)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1388&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception(</div>
<div>1389&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          "Cannot print complexity statistics ('-k') without training file ('-t')!");</div>
<div>1390&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1391&emsp;&emsp;</div>
<div>1392&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // If a model file is given, we can't process</div>
<div>1393&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // scheme-specific options</div>
<div style="background-color:limegreen;">1394&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (objectInputFileName.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1395&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Utils.checkForRemainingOptions(options);</div>
<div>1396&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>1397&emsp;&emsp;</div>
<div>1398&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // Set options for classifier</div>
<div style="background-color:limegreen;">1399&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classifier instanceof OptionHandler) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1400&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          for (String option : options) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1401&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (option.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1402&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              if (schemeOptionsText == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1403&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                schemeOptionsText = new StringBuffer();</div>
<div>1404&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div style="background-color:limegreen;">1405&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              if (option.indexOf(' ') != -1) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1406&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                schemeOptionsText.append('"' + option + "\" ");</div>
<div>1407&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              } else {</div>
<div>1408&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                schemeOptionsText.append(option + " ");</div>
<div>1409&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div>1410&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>1411&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1412&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          ((OptionHandler) classifier).setOptions(options);</div>
<div>1413&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1414&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1415&emsp;&emsp;</div>
<div>1416&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Utils.checkForRemainingOptions(options);</div>
<div>1417&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } catch (Exception e) {</div>
<div>1418&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("\nWeka exception: " + e.getMessage()</div>
<div>1419&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + makeOptionString(classifier, false));</div>
<div>1420&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1421&emsp;&emsp;</div>
<div>1422&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean serializedClassifierLoaded = false;</div>
<div style="background-color:limegreen;">1423&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (objectInputFileName.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1424&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Load classifier from file</div>
<div style="background-color:limegreen;">1425&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (objectInputStream != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1426&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classifier = (Classifier) objectInputStream.readObject();</div>
<div>1427&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // try and read a header (if present)</div>
<div>1428&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Instances savedStructure = null;</div>
<div>1429&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        try {</div>
<div>1430&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          savedStructure = (Instances) objectInputStream.readObject();</div>
<div>1431&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } catch (Exception ex) {</div>
<div>1432&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // don't make a fuss</div>
<div>1433&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">1434&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (savedStructure != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1435&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // test for compatibility with template</div>
<div style="background-color:limegreen;">1436&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (!template.equalHeaders(savedStructure)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1437&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            throw new Exception("training and test set are not compatible\n"</div>
<div>1438&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + template.equalHeadersMsg(savedStructure));</div>
<div>1439&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1440&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1441&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        objectInputStream.close();</div>
<div>1442&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        serializedClassifierLoaded = true;</div>
<div style="background-color:limegreen;">1443&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      } else if (xmlInputStream != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1444&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // whether KOML is available has already been checked (objectInputStream</div>
<div>1445&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // would null otherwise)!</div>
<div>1446&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classifier = (Classifier) KOML.read(xmlInputStream);</div>
<div>1447&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        xmlInputStream.close();</div>
<div>1448&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        serializedClassifierLoaded = true;</div>
<div>1449&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1450&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1451&emsp;&emsp;</div>
<div>1452&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Setup up evaluation objects</div>
<div>1453&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Evaluation trainingEvaluation =</div>
<div>1454&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      new Evaluation(new Instances(template, 0), costMatrix);</div>
<div>1455&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Evaluation testingEvaluation =</div>
<div>1456&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      new Evaluation(new Instances(template, 0), costMatrix);</div>
<div style="background-color:limegreen;">1457&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classifier instanceof weka.classifiers.misc.InputMappedClassifier) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1458&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Instances mappedClassifierHeader =</div>
<div>1459&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        ((weka.classifiers.misc.InputMappedClassifier) classifier)</div>
<div>1460&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          .getModelHeader(new Instances(template, 0));</div>
<div>1461&emsp;&emsp;</div>
<div>1462&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trainingEvaluation =</div>
<div>1463&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        new Evaluation(new Instances(mappedClassifierHeader, 0), costMatrix);</div>
<div>1464&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      testingEvaluation =</div>
<div>1465&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        new Evaluation(new Instances(mappedClassifierHeader, 0), costMatrix);</div>
<div>1466&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1467&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    trainingEvaluation.setDiscardPredictions(discardPredictions);</div>
<div>1468&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    trainingEvaluation.toggleEvalMetrics(toggleList);</div>
<div>1469&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    testingEvaluation.setDiscardPredictions(discardPredictions);</div>
<div>1470&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    testingEvaluation.toggleEvalMetrics(toggleList);</div>
<div>1471&emsp;&emsp;</div>
<div>1472&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // disable use of priors if no training file given</div>
<div style="background-color:limegreen;">1473&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!trainSetPresent) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1474&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      testingEvaluation.useNoPriors();</div>
<div>1475&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1476&emsp;&emsp;</div>
<div style="background-color:limegreen;">1477&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!serializedClassifierLoaded) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1478&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // backup of fully setup classifier for cross-validation</div>
<div>1479&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classifierBackup = AbstractClassifier.makeCopy(classifier);</div>
<div>1480&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1481&emsp;&emsp;</div>
<div>1482&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Build the classifier if no object file provided</div>
<div style="background-color:limegreen;">1483&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if ((classifier instanceof UpdateableClassifier)&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1484&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      && (testSetPresent || noCrossValidation) && (costMatrix == null)</div>
<div>1485&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      && (trainSetPresent) && !forceBatchTraining) {</div>
<div>1486&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Build classifier incrementally</div>
<div>1487&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trainingEvaluation.setPriors(train);</div>
<div>1488&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      testingEvaluation.setPriors(train);</div>
<div>1489&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trainTimeStart = System.currentTimeMillis();</div>
<div style="background-color:limegreen;">1490&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (objectInputFileName.length() == 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1491&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classifier.buildClassifier(train);</div>
<div>1492&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1493&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Instance trainInst;</div>
<div style="background-color:limegreen;">1494&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      while (trainSource.hasMoreElements(train)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1495&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        trainInst = trainSource.nextElement(train);</div>
<div>1496&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        trainingEvaluation.updatePriors(trainInst);</div>
<div>1497&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        testingEvaluation.updatePriors(trainInst);</div>
<div>1498&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        ((UpdateableClassifier) classifier).updateClassifier(trainInst);</div>
<div>1499&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">1500&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (classifier instanceof UpdateableBatchProcessor) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1501&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        ((UpdateableBatchProcessor) classifier).batchFinished();</div>
<div>1502&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1503&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trainTimeElapsed = System.currentTimeMillis() - trainTimeStart;</div>
<div style="background-color:limegreen;">1504&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    } else if (objectInputFileName.length() == 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1505&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Build classifier in one go</div>
<div>1506&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      tempTrain = trainSource.getDataSet(actualClassIndex);</div>
<div>1507&emsp;&emsp;</div>
<div style="background-color:limegreen;">1508&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (classifier instanceof weka.classifiers.misc.InputMappedClassifier&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1509&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        && !trainingEvaluation.getHeader().equalHeaders(tempTrain)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1510&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // we need to make a new dataset that maps the training instances to</div>
<div>1511&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // the structure expected by the mapped classifier - this is only</div>
<div>1512&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // to ensure that the structure and priors computed by the *testing*</div>
<div>1513&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // evaluation object is correct with respect to the mapped classifier</div>
<div>1514&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Instances mappedClassifierDataset =</div>
<div>1515&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          ((weka.classifiers.misc.InputMappedClassifier) classifier)</div>
<div>1516&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            .getModelHeader(new Instances(template, 0));</div>
<div style="background-color:limegreen;">1517&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        for (int zz = 0; zz &#60; tempTrain.numInstances(); zz++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1518&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          Instance mapped =</div>
<div>1519&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            ((weka.classifiers.misc.InputMappedClassifier) classifier)</div>
<div>1520&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              .constructMappedInstance(tempTrain.instance(zz));</div>
<div>1521&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          mappedClassifierDataset.add(mapped);</div>
<div>1522&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1523&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        tempTrain = mappedClassifierDataset;</div>
<div>1524&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1525&emsp;&emsp;</div>
<div>1526&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trainingEvaluation.setPriors(tempTrain);</div>
<div>1527&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      testingEvaluation.setPriors(tempTrain);</div>
<div>1528&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trainTimeStart = System.currentTimeMillis();</div>
<div>1529&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classifier.buildClassifier(tempTrain);</div>
<div>1530&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trainTimeElapsed = System.currentTimeMillis() - trainTimeStart;</div>
<div>1531&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1532&emsp;&emsp;</div>
<div>1533&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // backup of fully trained classifier for printing the classifications</div>
<div style="background-color:limegreen;">1534&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classificationOutput != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1535&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (classifier instanceof weka.classifiers.misc.InputMappedClassifier) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1536&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classificationOutput.setHeader(trainingEvaluation.getHeader());</div>
<div>1537&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1538&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1539&emsp;&emsp;</div>
<div>1540&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Save the classifier if an object output file is provided</div>
<div style="background-color:limegreen;">1541&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (objectOutputFileName.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1542&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      OutputStream os = new FileOutputStream(objectOutputFileName);</div>
<div>1543&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // binary</div>
<div style="background-color:limegreen;">1544&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!(objectOutputFileName.endsWith(".xml") || (objectOutputFileName&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1545&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        .endsWith(".koml") && KOML.isPresent()))) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1546&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (objectOutputFileName.endsWith(".gz")) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1547&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          os = new GZIPOutputStream(os);</div>
<div>1548&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1549&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        ObjectOutputStream objectOutputStream = new ObjectOutputStream(os);</div>
<div>1550&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        objectOutputStream.writeObject(classifier);</div>
<div style="background-color:limegreen;">1551&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (template != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1552&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          objectOutputStream.writeObject(template);</div>
<div>1553&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1554&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        objectOutputStream.flush();</div>
<div>1555&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        objectOutputStream.close();</div>
<div>1556&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1557&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // KOML/XML</div>
<div>1558&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      else {</div>
<div>1559&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        BufferedOutputStream xmlOutputStream = new BufferedOutputStream(os);</div>
<div style="background-color:limegreen;">1560&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (objectOutputFileName.endsWith(".xml")) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1561&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          XMLSerialization xmlSerial = new XMLClassifier();</div>
<div>1562&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          xmlSerial.write(xmlOutputStream, classifier);</div>
<div>1563&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else</div>
<div>1564&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // whether KOML is present has already been checked</div>
<div>1565&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // if not present -> ".koml" is interpreted as binary - see above</div>
<div style="background-color:limegreen;">1566&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (objectOutputFileName.endsWith(".koml")) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1567&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          KOML.write(xmlOutputStream, classifier);</div>
<div>1568&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1569&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        xmlOutputStream.close();</div>
<div>1570&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1571&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1572&emsp;&emsp;</div>
<div>1573&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // If classifier is drawable output string describing graph</div>
<div style="background-color:limegreen;">1574&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if ((classifier instanceof Drawable) && (printGraph)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1575&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return ((Drawable) classifier).graph();</div>
<div>1576&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1577&emsp;&emsp;</div>
<div>1578&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Output the classifier as equivalent source</div>
<div style="background-color:limegreen;">1579&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if ((classifier instanceof Sourcable) && (printSource)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1580&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return wekaStaticWrapper((Sourcable) classifier, sourceClass);</div>
<div>1581&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1582&emsp;&emsp;</div>
<div>1583&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Output model</div>
<div style="background-color:limegreen;">1584&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!(noOutput || printMargins)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1585&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (classifier instanceof OptionHandler) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1586&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (schemeOptionsText != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1587&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("\nOptions: " + schemeOptionsText);</div>
<div>1588&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("\n");</div>
<div>1589&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1590&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1591&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append("\n" + classifier.toString() + "\n");</div>
<div>1592&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1593&emsp;&emsp;</div>
<div style="background-color:limegreen;">1594&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!printMargins && (costMatrix != null)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1595&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append("\n=== Evaluation Cost Matrix ===\n\n");</div>
<div>1596&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(costMatrix.toString());</div>
<div>1597&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1598&emsp;&emsp;</div>
<div>1599&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Output test instance predictions only</div>
<div style="background-color:limegreen;">1600&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classificationOutput != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1601&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      DataSource source = testSource;</div>
<div>1602&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      predsBuff = new StringBuffer();</div>
<div>1603&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classificationOutput.setBuffer(predsBuff);</div>
<div>1604&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // no test set -> use train set</div>
<div style="background-color:limegreen;">1605&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (source == null && noCrossValidation) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1606&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        source = trainSource;</div>
<div>1607&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        predsBuff.append("\n=== Predictions on training data ===\n\n");</div>
<div>1608&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>1609&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        predsBuff.append("\n=== Predictions on test data ===\n\n");</div>
<div>1610&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">1611&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (source != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1612&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classificationOutput.print(classifier, source);</div>
<div>1613&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1614&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1615&emsp;&emsp;</div>
<div>1616&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Compute error estimate from training data</div>
<div style="background-color:limegreen;">1617&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if ((trainStatistics) && (trainSetPresent)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1618&emsp;&emsp;</div>
<div style="background-color:limegreen;">1619&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if ((classifier instanceof UpdateableClassifier)&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1620&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        && (testSetPresent || noCrossValidation) && (costMatrix == null)</div>
<div>1621&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        && !forceBatchTraining) {</div>
<div>1622&emsp;&emsp;</div>
<div>1623&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // Classifier was trained incrementally, so we have to</div>
<div>1624&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // reset the source.</div>
<div>1625&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        trainSource.reset();</div>
<div>1626&emsp;&emsp;</div>
<div>1627&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // Incremental testing</div>
<div>1628&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        train = trainSource.getStructure(actualClassIndex);</div>
<div>1629&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        testTimeStart = System.currentTimeMillis();</div>
<div>1630&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Instance trainInst;</div>
<div style="background-color:limegreen;">1631&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        while (trainSource.hasMoreElements(train)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1632&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          trainInst = trainSource.nextElement(train);</div>
<div>1633&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          trainingEvaluation.evaluateModelOnce(classifier, trainInst);</div>
<div>1634&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1635&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        testTimeElapsed = System.currentTimeMillis() - testTimeStart;</div>
<div>1636&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>1637&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        testTimeStart = System.currentTimeMillis();</div>
<div>1638&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        trainingEvaluation.evaluateModel(classifier,</div>
<div>1639&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          trainSource.getDataSet(actualClassIndex));</div>
<div>1640&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        testTimeElapsed = System.currentTimeMillis() - testTimeStart;</div>
<div>1641&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1642&emsp;&emsp;</div>
<div>1643&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Print the results of the training evaluation</div>
<div style="background-color:limegreen;">1644&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (printMargins) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1645&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        return trainingEvaluation.toCumulativeMarginDistributionString();</div>
<div>1646&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div style="background-color:limegreen;">1647&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classificationOutput == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1648&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("\nTime taken to build model: "</div>
<div>1649&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            + Utils.doubleToString(trainTimeElapsed / 1000.0, 2) + " seconds");</div>
<div>1650&emsp;&emsp;</div>
<div style="background-color:limegreen;">1651&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (splitPercentage > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1652&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("\nTime taken to test model on training split: ");</div>
<div>1653&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          } else {</div>
<div>1654&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("\nTime taken to test model on training data: ");</div>
<div>1655&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1656&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append(Utils.doubleToString(testTimeElapsed / 1000.0, 2)</div>
<div>1657&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            + " seconds");</div>
<div>1658&emsp;&emsp;</div>
<div style="background-color:limegreen;">1659&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (splitPercentage > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1660&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(trainingEvaluation.toSummaryString(</div>
<div>1661&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              "\n\n=== Error on training" + " split ===\n",</div>
<div>1662&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              printComplexityStatistics));</div>
<div>1663&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          } else {</div>
<div>1664&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(trainingEvaluation.toSummaryString(</div>
<div>1665&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              "\n\n=== Error on training" + " data ===\n",</div>
<div>1666&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              printComplexityStatistics));</div>
<div>1667&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1668&emsp;&emsp;</div>
<div style="background-color:limegreen;">1669&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (template.classAttribute().isNominal()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1670&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (classStatistics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1671&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append("\n\n" + trainingEvaluation.toClassDetailsString());</div>
<div>1672&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>1673&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("\n\n" + trainingEvaluation.toMatrixString());</div>
<div>1674&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1675&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1676&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1677&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1678&emsp;&emsp;</div>
<div>1679&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Compute proper error estimates</div>
<div style="background-color:limegreen;">1680&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (testSource != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1681&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Testing is on the supplied test data</div>
<div>1682&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      testSource.reset();</div>
<div>1683&emsp;&emsp;</div>
<div style="background-color:limegreen;">1684&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (classifier instanceof BatchPredictor&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1685&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        && ((BatchPredictor) classifier)</div>
<div style="background-color:limegreen;">1686&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          .implementsMoreEfficientBatchPrediction()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1687&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        testingEvaluation.evaluateModel(classifier,</div>
<div>1688&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testSource.getDataSet(test.classIndex()));</div>
<div>1689&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>1690&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        test = testSource.getStructure(test.classIndex());</div>
<div>1691&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Instance testInst;</div>
<div style="background-color:limegreen;">1692&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        while (testSource.hasMoreElements(test)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1693&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testInst = testSource.nextElement(test);</div>
<div>1694&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testingEvaluation.evaluateModelOnceAndRecordPrediction(classifier,</div>
<div>1695&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            testInst);</div>
<div>1696&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1697&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1698&emsp;&emsp;</div>
<div style="background-color:limegreen;">1699&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (splitPercentage > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1700&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classificationOutput == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1701&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("\n\n"</div>
<div>1702&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            + testingEvaluation.toSummaryString(</div>
<div>1703&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              "=== Error on test split ===\n", printComplexityStatistics));</div>
<div>1704&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1705&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div style="background-color:limegreen;">1706&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classificationOutput == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1707&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("\n\n"</div>
<div>1708&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            + testingEvaluation.toSummaryString("=== Error on test data ===\n",</div>
<div>1709&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              printComplexityStatistics));</div>
<div>1710&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1711&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1712&emsp;&emsp;</div>
<div style="background-color:limegreen;">1713&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    } else if (trainSource != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1714&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!noCrossValidation) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1715&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // Testing is via cross-validation on training data</div>
<div>1716&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Random random = new Random(seed);</div>
<div>1717&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // use untrained (!) classifier for cross-validation</div>
<div>1718&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classifier = AbstractClassifier.makeCopy(classifierBackup);</div>
<div style="background-color:limegreen;">1719&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classificationOutput == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1720&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testingEvaluation.crossValidateModel(classifier,</div>
<div>1721&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            trainSource.getDataSet(actualClassIndex), folds, random);</div>
<div style="background-color:limegreen;">1722&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (template.classAttribute().isNumeric()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1723&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("\n\n\n"</div>
<div>1724&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + testingEvaluation.toSummaryString("=== Cross-validation ===\n",</div>
<div>1725&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                printComplexityStatistics));</div>
<div>1726&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          } else {</div>
<div>1727&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("\n\n\n"</div>
<div>1728&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + testingEvaluation.toSummaryString("=== Stratified "</div>
<div>1729&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                + "cross-validation ===\n", printComplexityStatistics));</div>
<div>1730&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1731&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>1732&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          predsBuff = new StringBuffer();</div>
<div>1733&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          classificationOutput.setBuffer(predsBuff);</div>
<div>1734&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          predsBuff.append("\n=== Predictions under cross-validation ===\n\n");</div>
<div>1735&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          testingEvaluation.crossValidateModel(classifier,</div>
<div>1736&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            trainSource.getDataSet(actualClassIndex), folds, random,</div>
<div>1737&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            classificationOutput);</div>
<div>1738&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1739&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1740&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">1741&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (template.classAttribute().isNominal() && (classificationOutput == null)&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1742&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      && (!noCrossValidation || (testSource != null))) {</div>
<div style="background-color:limegreen;">1743&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (classStatistics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1744&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append("\n\n" + testingEvaluation.toClassDetailsString());</div>
<div>1745&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1746&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append("\n\n" + testingEvaluation.toMatrixString());</div>
<div>1747&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1748&emsp;&emsp;</div>
<div>1749&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // predictions from cross-validation?</div>
<div style="background-color:limegreen;">1750&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (predsBuff != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1751&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append("\n" + predsBuff);</div>
<div>1752&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1753&emsp;&emsp;</div>
<div style="background-color:limegreen;">1754&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if ((thresholdFile.length() != 0) && template.classAttribute().isNominal()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1755&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      int labelIndex = 0;</div>
<div style="background-color:limegreen;">1756&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (thresholdLabel.length() != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1757&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        labelIndex = template.classAttribute().indexOfValue(thresholdLabel);</div>
<div>1758&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">1759&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (labelIndex == -1) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1760&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new IllegalArgumentException("Class label '" + thresholdLabel</div>
<div>1761&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + "' is unknown!");</div>
<div>1762&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1763&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      ThresholdCurve tc = new ThresholdCurve();</div>
<div>1764&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Instances result =</div>
<div>1765&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        tc.getCurve(testingEvaluation.predictions(), labelIndex);</div>
<div>1766&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      DataSink.write(thresholdFile, result);</div>
<div>1767&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1768&emsp;&emsp;</div>
<div>1769&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return text.toString();</div>
<div>1770&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>1771&emsp;&emsp;</div>
<div>1772&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>1773&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Attempts to load a cost matrix.</div>
<div>1774&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1775&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param costFileName the filename of the cost matrix</div>
<div>1776&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param numClasses the number of classes that should be in the cost matrix</div>
<div>1777&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          (only used if the cost file is in old format).</div>
<div>1778&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return a &#60;code>CostMatrix&#60;/code> value, or null if costFileName is empty</div>
<div>1779&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if an error occurs.</div>
<div>1780&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>1781&emsp;&emsp;&nbsp;&nbsp;  protected static CostMatrix handleCostOption(String costFileName,</div>
<div>1782&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int numClasses) throws Exception {</div>
<div>1783&emsp;&emsp;</div>
<div style="background-color:limegreen;">1784&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if ((costFileName != null) && (costFileName.length() != 0)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1785&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      System.out</div>
<div>1786&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        .println("NOTE: The behaviour of the -m option has changed between WEKA 3.0"</div>
<div>1787&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + " and WEKA 3.1. -m now carries out cost-sensitive *evaluation*"</div>
<div>1788&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + " only. For cost-sensitive *prediction*, use one of the"</div>
<div>1789&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + " cost-sensitive metaschemes such as"</div>
<div>1790&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + " weka.classifiers.meta.CostSensitiveClassifier or"</div>
<div>1791&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + " weka.classifiers.meta.MetaCost");</div>
<div>1792&emsp;&emsp;</div>
<div>1793&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Reader costReader = null;</div>
<div>1794&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      try {</div>
<div>1795&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        costReader = new BufferedReader(new FileReader(costFileName));</div>
<div>1796&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } catch (Exception e) {</div>
<div>1797&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        throw new Exception("Can't open file " + e.getMessage() + '.');</div>
<div>1798&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1799&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      try {</div>
<div>1800&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // First try as a proper cost matrix format</div>
<div>1801&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        return new CostMatrix(costReader);</div>
<div>1802&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } catch (Exception ex) {</div>
<div>1803&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        try {</div>
<div>1804&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // Now try as the poxy old format :-)</div>
<div>1805&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // System.err.println("Attempting to read old format cost file");</div>
<div>1806&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          try {</div>
<div>1807&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            costReader.close(); // Close the old one</div>
<div>1808&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            costReader = new BufferedReader(new FileReader(costFileName));</div>
<div>1809&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          } catch (Exception e) {</div>
<div>1810&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            throw new Exception("Can't open file " + e.getMessage() + '.');</div>
<div>1811&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>1812&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          CostMatrix costMatrix = new CostMatrix(numClasses);</div>
<div>1813&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // System.err.println("Created default cost matrix");</div>
<div>1814&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          costMatrix.readOldFormat(costReader);</div>
<div>1815&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          return costMatrix;</div>
<div>1816&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // System.err.println("Read old format");</div>
<div>1817&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } catch (Exception e2) {</div>
<div>1818&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // re-throw the original exception</div>
<div>1819&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // System.err.println("Re-throwing original exception");</div>
<div>1820&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          throw ex;</div>
<div>1821&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1822&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1823&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>1824&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return null;</div>
<div>1825&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1826&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>1827&emsp;&emsp;</div>
<div>1828&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>1829&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates the classifier on a given set of instances. Note that the data</div>
<div>1830&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * must have exactly the same format (e.g. order of attributes) as the data</div>
<div>1831&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * used to train the classifier! Otherwise the results will generally be</div>
<div>1832&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * meaningless.</div>
<div>1833&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1834&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier machine learning classifier</div>
<div>1835&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param data set of test instances for evaluation</div>
<div>1836&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param forPredictionsPrinting varargs parameter that, if supplied, is</div>
<div>1837&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          expected to hold a</div>
<div>1838&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          weka.classifiers.evaluation.output.prediction.AbstractOutput</div>
<div>1839&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          object</div>
<div>1840&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the predictions</div>
<div>1841&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully</div>
<div>1842&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>1843&emsp;&emsp;&nbsp;&nbsp;  public double[] evaluateModel(Classifier classifier, Instances data,</div>
<div>1844&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Object... forPredictionsPrinting) throws Exception {</div>
<div>1845&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // for predictions printing</div>
<div>1846&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    AbstractOutput classificationOutput = null;</div>
<div>1847&emsp;&emsp;</div>
<div>1848&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double predictions[] = new double[data.numInstances()];</div>
<div>1849&emsp;&emsp;</div>
<div style="background-color:limegreen;">1850&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (forPredictionsPrinting.length > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1851&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classificationOutput = (AbstractOutput) forPredictionsPrinting[0];</div>
<div>1852&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1853&emsp;&emsp;</div>
<div style="background-color:limegreen;">1854&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classifier instanceof BatchPredictor&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1855&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      && ((BatchPredictor) classifier).implementsMoreEfficientBatchPrediction()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1856&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // make a copy and set the class to missing</div>
<div>1857&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Instances dataPred = new Instances(data);</div>
<div style="background-color:limegreen;">1858&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; data.numInstances(); i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1859&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        dataPred.instance(i).setClassMissing();</div>
<div>1860&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1861&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double[][] preds =</div>
<div>1862&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        ((BatchPredictor) classifier).distributionsForInstances(dataPred);</div>
<div style="background-color:limegreen;">1863&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; data.numInstances(); i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1864&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        double[] p = preds[i];</div>
<div>1865&emsp;&emsp;</div>
<div>1866&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        predictions[i] = evaluationForSingleInstance(p, data.instance(i), true);</div>
<div>1867&emsp;&emsp;</div>
<div style="background-color:limegreen;">1868&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classificationOutput != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1869&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          classificationOutput.printClassification(p, data.instance(i), i);</div>
<div>1870&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1871&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1872&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>1873&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Need to be able to collect predictions if appropriate (for AUC)</div>
<div>1874&emsp;&emsp;</div>
<div style="background-color:limegreen;">1875&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; data.numInstances(); i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1876&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        predictions[i] =</div>
<div>1877&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          evaluateModelOnceAndRecordPrediction(classifier, data.instance(i));</div>
<div style="background-color:limegreen;">1878&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classificationOutput != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1879&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          classificationOutput.printClassification(classifier,</div>
<div>1880&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            data.instance(i), i);</div>
<div>1881&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1882&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1883&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1884&emsp;&emsp;</div>
<div>1885&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return predictions;</div>
<div>1886&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>1887&emsp;&emsp;</div>
<div>1888&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>1889&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates the supplied distribution on a single instance.</div>
<div>1890&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1891&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param dist the supplied distribution</div>
<div>1892&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the test instance to be classified</div>
<div>1893&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param storePredictions whether to store predictions for nominal classifier</div>
<div>1894&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the prediction</div>
<div>1895&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully</div>
<div>1896&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>1897&emsp;&emsp;&nbsp;&nbsp;  public double evaluationForSingleInstance(double[] dist, Instance instance,</div>
<div>1898&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean storePredictions) throws Exception {</div>
<div>1899&emsp;&emsp;</div>
<div>1900&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double pred;</div>
<div>1901&emsp;&emsp;</div>
<div style="background-color:limegreen;">1902&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1903&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      pred = Utils.maxIndex(dist);</div>
<div style="background-color:limegreen;">1904&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (dist[(int) pred] &#60;= 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1905&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        pred = Utils.missingValue();</div>
<div>1906&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1907&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      updateStatsForClassifier(dist, instance);</div>
<div style="background-color:limegreen;">1908&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (storePredictions && !m_DiscardPredictions) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1909&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m_Predictions == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1910&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_Predictions = new ArrayList&#60;Prediction>();</div>
<div>1911&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1912&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_Predictions.add(new NominalPrediction(instance.classValue(), dist,</div>
<div>1913&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          instance.weight()));</div>
<div>1914&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1915&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>1916&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      pred = dist[0];</div>
<div>1917&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      updateStatsForPredictor(pred, instance);</div>
<div style="background-color:limegreen;">1918&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (storePredictions && !m_DiscardPredictions) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1919&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m_Predictions == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1920&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_Predictions = new ArrayList&#60;Prediction>();</div>
<div>1921&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1922&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_Predictions.add(new NumericPrediction(instance.classValue(), pred,</div>
<div>1923&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          instance.weight()));</div>
<div>1924&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1925&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1926&emsp;&emsp;</div>
<div>1927&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return pred;</div>
<div>1928&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>1929&emsp;&emsp;</div>
<div>1930&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>1931&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates the classifier on a single instance and records the prediction.</div>
<div>1932&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1933&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier machine learning classifier</div>
<div>1934&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the test instance to be classified</div>
<div>1935&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param storePredictions whether to store predictions for nominal classifier</div>
<div>1936&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the prediction made by the clasifier</div>
<div>1937&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully or the data</div>
<div>1938&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *           contains string attributes</div>
<div>1939&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>1940&emsp;&emsp;&nbsp;&nbsp;  protected double evaluationForSingleInstance(Classifier classifier,</div>
<div>1941&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Instance instance, boolean storePredictions) throws Exception {</div>
<div>1942&emsp;&emsp;</div>
<div>1943&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Instance classMissing = (Instance) instance.copy();</div>
<div>1944&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    classMissing.setDataset(instance.dataset());</div>
<div>1945&emsp;&emsp;</div>
<div style="background-color:limegreen;">1946&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classifier instanceof weka.classifiers.misc.InputMappedClassifier) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1947&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      instance = (Instance) instance.copy();</div>
<div>1948&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      instance =</div>
<div>1949&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        ((weka.classifiers.misc.InputMappedClassifier) classifier)</div>
<div>1950&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          .constructMappedInstance(instance);</div>
<div>1951&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // System.out.println("Mapped instance " + instance);</div>
<div>1952&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      int mappedClass =</div>
<div>1953&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        ((weka.classifiers.misc.InputMappedClassifier) classifier)</div>
<div>1954&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          .getMappedClassIndex();</div>
<div>1955&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classMissing.setMissing(mappedClass);</div>
<div>1956&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>1957&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classMissing.setClassMissing();</div>
<div>1958&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1959&emsp;&emsp;</div>
<div>1960&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // System.out.println("instance (to predict)" + classMissing);</div>
<div>1961&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double pred =</div>
<div>1962&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      evaluationForSingleInstance(</div>
<div>1963&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classifier.distributionForInstance(classMissing), instance,</div>
<div>1964&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        storePredictions);</div>
<div>1965&emsp;&emsp;</div>
<div>1966&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // We don't need to do the following if the class is nominal because in that</div>
<div>1967&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // case</div>
<div>1968&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // entropy and coverage statistics are always computed.</div>
<div style="background-color:limegreen;">1969&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1970&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!instance.classIsMissing() && !Utils.isMissingValue(pred)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">1971&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classifier instanceof IntervalEstimator) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1972&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          updateStatsForIntervalEstimator((IntervalEstimator) classifier,</div>
<div>1973&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            classMissing, instance.classValue());</div>
<div>1974&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>1975&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_CoverageStatisticsAvailable = false;</div>
<div>1976&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">1977&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (classifier instanceof ConditionalDensityEstimator) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>1978&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          updateStatsForConditionalDensityEstimator(</div>
<div>1979&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            (ConditionalDensityEstimator) classifier, classMissing,</div>
<div>1980&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            instance.classValue());</div>
<div>1981&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>1982&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_ComplexityStatisticsAvailable = false;</div>
<div>1983&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>1984&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>1985&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>1986&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return pred;</div>
<div>1987&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>1988&emsp;&emsp;</div>
<div>1989&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>1990&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates the classifier on a single instance and records the prediction.</div>
<div>1991&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>1992&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier machine learning classifier</div>
<div>1993&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the test instance to be classified</div>
<div>1994&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the prediction made by the clasifier</div>
<div>1995&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully or the data</div>
<div>1996&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *           contains string attributes</div>
<div>1997&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>1998&emsp;&emsp;&nbsp;&nbsp;  public double evaluateModelOnceAndRecordPrediction(Classifier classifier,</div>
<div>1999&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Instance instance) throws Exception {</div>
<div>2000&emsp;&emsp;</div>
<div>2001&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return evaluationForSingleInstance(classifier, instance, true);</div>
<div>2002&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2003&emsp;&emsp;</div>
<div>2004&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2005&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates the classifier on a single instance.</div>
<div>2006&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2007&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier machine learning classifier</div>
<div>2008&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the test instance to be classified</div>
<div>2009&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the prediction made by the clasifier</div>
<div>2010&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully or the data</div>
<div>2011&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *           contains string attributes</div>
<div>2012&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2013&emsp;&emsp;&nbsp;&nbsp;  public double evaluateModelOnce(Classifier classifier, Instance instance)</div>
<div>2014&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    throws Exception {</div>
<div>2015&emsp;&emsp;</div>
<div>2016&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return evaluationForSingleInstance(classifier, instance, false);</div>
<div>2017&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2018&emsp;&emsp;</div>
<div>2019&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2020&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates the supplied distribution on a single instance.</div>
<div>2021&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2022&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param dist the supplied distribution</div>
<div>2023&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the test instance to be classified</div>
<div>2024&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the prediction</div>
<div>2025&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully</div>
<div>2026&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2027&emsp;&emsp;&nbsp;&nbsp;  public double evaluateModelOnce(double[] dist, Instance instance)</div>
<div>2028&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    throws Exception {</div>
<div>2029&emsp;&emsp;</div>
<div>2030&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return evaluationForSingleInstance(dist, instance, false);</div>
<div>2031&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2032&emsp;&emsp;</div>
<div>2033&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2034&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates the supplied distribution on a single instance.</div>
<div>2035&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2036&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param dist the supplied distribution</div>
<div>2037&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the test instance to be classified</div>
<div>2038&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the prediction</div>
<div>2039&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully</div>
<div>2040&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2041&emsp;&emsp;&nbsp;&nbsp;  public double evaluateModelOnceAndRecordPrediction(double[] dist,</div>
<div>2042&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Instance instance) throws Exception {</div>
<div>2043&emsp;&emsp;</div>
<div>2044&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return evaluationForSingleInstance(dist, instance, true);</div>
<div>2045&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2046&emsp;&emsp;</div>
<div>2047&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2048&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Evaluates the supplied prediction on a single instance.</div>
<div>2049&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2050&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param prediction the supplied prediction</div>
<div>2051&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the test instance to be classified</div>
<div>2052&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if model could not be evaluated successfully</div>
<div>2053&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2054&emsp;&emsp;&nbsp;&nbsp;  public void evaluateModelOnce(double prediction, Instance instance)</div>
<div>2055&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    throws Exception {</div>
<div>2056&emsp;&emsp;</div>
<div>2057&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    evaluateModelOnce(makeDistribution(prediction), instance);</div>
<div>2058&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2059&emsp;&emsp;</div>
<div>2060&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2061&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the predictions that have been collected.</div>
<div>2062&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2063&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return a reference to the FastVector containing the predictions that have</div>
<div>2064&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *         been collected. This should be null if no predictions have been</div>
<div>2065&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *         collected.</div>
<div>2066&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2067&emsp;&emsp;&nbsp;&nbsp;  public ArrayList&#60;Prediction> predictions() {</div>
<div style="background-color:limegreen;">2068&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_DiscardPredictions) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2069&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return null;</div>
<div>2070&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>2071&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return m_Predictions;</div>
<div>2072&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2073&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2074&emsp;&emsp;</div>
<div>2075&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2076&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Wraps a static classifier in enough source to test using the weka class</div>
<div>2077&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * libraries.</div>
<div>2078&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2079&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier a Sourcable Classifier</div>
<div>2080&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param className the name to give to the source code class</div>
<div>2081&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the source for a static classifier that can be tested with weka</div>
<div>2082&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *         libraries.</div>
<div>2083&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if code-generation fails</div>
<div>2084&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2085&emsp;&emsp;&nbsp;&nbsp;  public static String</div>
<div>2086&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    wekaStaticWrapper(Sourcable classifier, String className) throws Exception {</div>
<div>2087&emsp;&emsp;</div>
<div>2088&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    StringBuffer result = new StringBuffer();</div>
<div>2089&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String staticClassifier = classifier.toSource(className);</div>
<div>2090&emsp;&emsp;</div>
<div>2091&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("// Generated with Weka " + Version.VERSION + "\n");</div>
<div>2092&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("//\n");</div>
<div>2093&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result</div>
<div>2094&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("// This code is public domain and comes with no warranty.\n");</div>
<div>2095&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("//\n");</div>
<div>2096&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("// Timestamp: " + new Date() + "\n");</div>
<div>2097&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2098&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("package weka.classifiers;\n");</div>
<div>2099&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2100&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("import weka.core.Attribute;\n");</div>
<div>2101&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("import weka.core.Capabilities;\n");</div>
<div>2102&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("import weka.core.Capabilities.Capability;\n");</div>
<div>2103&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("import weka.core.Instance;\n");</div>
<div>2104&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("import weka.core.Instances;\n");</div>
<div>2105&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("import weka.core.RevisionUtils;\n");</div>
<div>2106&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result</div>
<div>2107&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("import weka.classifiers.Classifier;\nimport weka.classifiers.AbstractClassifier;\n");</div>
<div>2108&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2109&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("public class WekaWrapper\n");</div>
<div>2110&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  extends AbstractClassifier {\n");</div>
<div>2111&emsp;&emsp;</div>
<div>2112&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // globalInfo</div>
<div>2113&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2114&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  /**\n");</div>
<div>2115&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * Returns only the toString() method.\n");</div>
<div>2116&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   *\n");</div>
<div>2117&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * @return a string describing the classifier\n");</div>
<div>2118&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   */\n");</div>
<div>2119&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  public String globalInfo() {\n");</div>
<div>2120&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    return toString();\n");</div>
<div>2121&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  }\n");</div>
<div>2122&emsp;&emsp;</div>
<div>2123&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // getCapabilities</div>
<div>2124&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2125&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  /**\n");</div>
<div>2126&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * Returns the capabilities of this classifier.\n");</div>
<div>2127&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   *\n");</div>
<div>2128&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * @return the capabilities\n");</div>
<div>2129&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   */\n");</div>
<div>2130&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  public Capabilities getCapabilities() {\n");</div>
<div>2131&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append(((Classifier) classifier).getCapabilities().toSource(</div>
<div>2132&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      "result", 4));</div>
<div>2133&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    return result;\n");</div>
<div>2134&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  }\n");</div>
<div>2135&emsp;&emsp;</div>
<div>2136&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // buildClassifier</div>
<div>2137&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2138&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  /**\n");</div>
<div>2139&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * only checks the data against its capabilities.\n");</div>
<div>2140&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   *\n");</div>
<div>2141&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * @param i the training data\n");</div>
<div>2142&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   */\n");</div>
<div>2143&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result</div>
<div>2144&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("  public void buildClassifier(Instances i) throws Exception {\n");</div>
<div>2145&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    // can classifier handle the data?\n");</div>
<div>2146&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    getCapabilities().testWithFail(i);\n");</div>
<div>2147&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  }\n");</div>
<div>2148&emsp;&emsp;</div>
<div>2149&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // classifyInstance</div>
<div>2150&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2151&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  /**\n");</div>
<div>2152&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * Classifies the given instance.\n");</div>
<div>2153&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   *\n");</div>
<div>2154&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * @param i the instance to classify\n");</div>
<div>2155&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * @return the classification result\n");</div>
<div>2156&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   */\n");</div>
<div>2157&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result</div>
<div>2158&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("  public double classifyInstance(Instance i) throws Exception {\n");</div>
<div>2159&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    Object[] s = new Object[i.numAttributes()];\n");</div>
<div>2160&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    \n");</div>
<div>2161&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    for (int j = 0; j &#60; s.length; j++) {\n");</div>
<div>2162&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("      if (!i.isMissing(j)) {\n");</div>
<div>2163&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("        if (i.attribute(j).isNominal())\n");</div>
<div>2164&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("          s[j] = new String(i.stringValue(j));\n");</div>
<div>2165&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("        else if (i.attribute(j).isNumeric())\n");</div>
<div>2166&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("          s[j] = new Double(i.value(j));\n");</div>
<div>2167&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("      }\n");</div>
<div>2168&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    }\n");</div>
<div>2169&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    \n");</div>
<div>2170&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    // set class value to missing\n");</div>
<div>2171&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    s[i.classIndex()] = null;\n");</div>
<div>2172&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    \n");</div>
<div>2173&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    return " + className + ".classify(s);\n");</div>
<div>2174&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  }\n");</div>
<div>2175&emsp;&emsp;</div>
<div>2176&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // getRevision</div>
<div>2177&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2178&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  /**\n");</div>
<div>2179&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * Returns the revision string.\n");</div>
<div>2180&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * \n");</div>
<div>2181&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * @return        the revision\n");</div>
<div>2182&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   */\n");</div>
<div>2183&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  public String getRevision() {\n");</div>
<div>2184&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    return RevisionUtils.extract(\"1.0\");\n");</div>
<div>2185&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  }\n");</div>
<div>2186&emsp;&emsp;</div>
<div>2187&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // toString</div>
<div>2188&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2189&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  /**\n");</div>
<div>2190&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result</div>
<div>2191&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("   * Returns only the classnames and what classifier it is based on.\n");</div>
<div>2192&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   *\n");</div>
<div>2193&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * @return a short description\n");</div>
<div>2194&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   */\n");</div>
<div>2195&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  public String toString() {\n");</div>
<div>2196&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    return \"Auto-generated classifier wrapper, based on "</div>
<div>2197&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      + classifier.getClass().getName() + " (generated with Weka "</div>
<div>2198&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      + Version.VERSION + ").\\n" + "\" + this.getClass().getName() + \"/"</div>
<div>2199&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      + className + "\";\n");</div>
<div>2200&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  }\n");</div>
<div>2201&emsp;&emsp;</div>
<div>2202&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // main</div>
<div>2203&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2204&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  /**\n");</div>
<div>2205&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * Runs the classfier from commandline.\n");</div>
<div>2206&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   *\n");</div>
<div>2207&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   * @param args the commandline arguments\n");</div>
<div>2208&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("   */\n");</div>
<div>2209&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  public static void main(String args[]) {\n");</div>
<div>2210&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("    runClassifier(new WekaWrapper(), args);\n");</div>
<div>2211&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("  }\n");</div>
<div>2212&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("}\n");</div>
<div>2213&emsp;&emsp;</div>
<div>2214&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // actual classifier code</div>
<div>2215&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append("\n");</div>
<div>2216&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    result.append(staticClassifier);</div>
<div>2217&emsp;&emsp;</div>
<div>2218&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return result.toString();</div>
<div>2219&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2220&emsp;&emsp;</div>
<div>2221&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2222&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the number of test instances that had a known class value (actually</div>
<div>2223&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * the sum of the weights of test instances with known class value).</div>
<div>2224&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2225&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the number of test instances with known class</div>
<div>2226&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2227&emsp;&emsp;&nbsp;&nbsp;  public final double numInstances() {</div>
<div>2228&emsp;&emsp;</div>
<div>2229&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_WithClass;</div>
<div>2230&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2231&emsp;&emsp;</div>
<div>2232&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2233&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the coverage of the test cases by the predicted regions at the</div>
<div>2234&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * confidence level specified when evaluation was performed.</div>
<div>2235&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2236&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the coverage of the test cases by the predicted regions</div>
<div>2237&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2238&emsp;&emsp;&nbsp;&nbsp;  public final double coverageOfTestCasesByPredictedRegions() {</div>
<div>2239&emsp;&emsp;</div>
<div style="background-color:limegreen;">2240&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_CoverageStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2241&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2242&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2243&emsp;&emsp;</div>
<div>2244&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 100 * m_TotalCoverage / m_WithClass;</div>
<div>2245&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2246&emsp;&emsp;</div>
<div>2247&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2248&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the average size of the predicted regions, relative to the range of</div>
<div>2249&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * the target in the training data, at the confidence level specified when</div>
<div>2250&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * evaluation was performed.</div>
<div>2251&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2252&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the average size of the predicted regions</div>
<div>2253&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2254&emsp;&emsp;&nbsp;&nbsp;  public final double sizeOfPredictedRegions() {</div>
<div>2255&emsp;&emsp;</div>
<div style="background-color:limegreen;">2256&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors || !m_CoverageStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2257&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2258&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2259&emsp;&emsp;</div>
<div>2260&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 100 * m_TotalSizeOfRegions / m_WithClass;</div>
<div>2261&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2262&emsp;&emsp;</div>
<div>2263&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2264&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the weight of the instances that had a non-missing class value</div>
<div>2265&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *</div>
<div>2266&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weight of the instances that had a non-missing class value</div>
<div>2267&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2268&emsp;&emsp;&nbsp;&nbsp;  public final double withClass() {</div>
<div>2269&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_WithClass;</div>
<div>2270&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2271&emsp;&emsp;</div>
<div>2272&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2273&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the weight of the instances that had missing class values</div>
<div>2274&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *</div>
<div>2275&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weight of the instances that had missing class values</div>
<div>2276&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2277&emsp;&emsp;&nbsp;&nbsp;  public final double missingClass() {</div>
<div>2278&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_MissingClass;</div>
<div>2279&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2280&emsp;&emsp;</div>
<div>2281&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2282&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the number of instances incorrectly classified (that is, for which an</div>
<div>2283&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * incorrect prediction was made). (Actually the sum of the weights of these</div>
<div>2284&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * instances)</div>
<div>2285&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2286&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the number of incorrectly classified instances</div>
<div>2287&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2288&emsp;&emsp;&nbsp;&nbsp;  public final double incorrect() {</div>
<div>2289&emsp;&emsp;</div>
<div>2290&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_Incorrect;</div>
<div>2291&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2292&emsp;&emsp;</div>
<div>2293&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2294&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the percentage of instances incorrectly classified (that is, for which</div>
<div>2295&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * an incorrect prediction was made).</div>
<div>2296&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2297&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the percent of incorrectly classified instances (between 0 and 100)</div>
<div>2298&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2299&emsp;&emsp;&nbsp;&nbsp;  public final double pctIncorrect() {</div>
<div>2300&emsp;&emsp;</div>
<div>2301&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 100 * m_Incorrect / m_WithClass;</div>
<div>2302&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2303&emsp;&emsp;</div>
<div>2304&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2305&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the total cost, that is, the cost of each prediction times the weight</div>
<div>2306&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * of the instance, summed over all instances.</div>
<div>2307&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2308&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the total cost</div>
<div>2309&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2310&emsp;&emsp;&nbsp;&nbsp;  public final double totalCost() {</div>
<div>2311&emsp;&emsp;</div>
<div>2312&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_TotalCost;</div>
<div>2313&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2314&emsp;&emsp;</div>
<div>2315&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2316&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the average cost, that is, total cost of misclassifications (incorrect</div>
<div>2317&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * plus unclassified) over the total number of instances.</div>
<div>2318&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2319&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the average cost.</div>
<div>2320&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2321&emsp;&emsp;&nbsp;&nbsp;  public final double avgCost() {</div>
<div>2322&emsp;&emsp;</div>
<div>2323&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_TotalCost / m_WithClass;</div>
<div>2324&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2325&emsp;&emsp;</div>
<div>2326&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2327&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the number of instances correctly classified (that is, for which a</div>
<div>2328&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * correct prediction was made). (Actually the sum of the weights of these</div>
<div>2329&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * instances)</div>
<div>2330&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2331&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the number of correctly classified instances</div>
<div>2332&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2333&emsp;&emsp;&nbsp;&nbsp;  public final double correct() {</div>
<div>2334&emsp;&emsp;</div>
<div>2335&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_Correct;</div>
<div>2336&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2337&emsp;&emsp;</div>
<div>2338&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2339&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the percentage of instances correctly classified (that is, for which a</div>
<div>2340&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * correct prediction was made).</div>
<div>2341&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2342&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the percent of correctly classified instances (between 0 and 100)</div>
<div>2343&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2344&emsp;&emsp;&nbsp;&nbsp;  public final double pctCorrect() {</div>
<div>2345&emsp;&emsp;</div>
<div>2346&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 100 * m_Correct / m_WithClass;</div>
<div>2347&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2348&emsp;&emsp;</div>
<div>2349&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2350&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the number of instances not classified (that is, for which no</div>
<div>2351&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * prediction was made by the classifier). (Actually the sum of the weights of</div>
<div>2352&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * these instances)</div>
<div>2353&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2354&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the number of unclassified instances</div>
<div>2355&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2356&emsp;&emsp;&nbsp;&nbsp;  public final double unclassified() {</div>
<div>2357&emsp;&emsp;</div>
<div>2358&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_Unclassified;</div>
<div>2359&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2360&emsp;&emsp;</div>
<div>2361&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2362&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Gets the percentage of instances not classified (that is, for which no</div>
<div>2363&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * prediction was made by the classifier).</div>
<div>2364&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2365&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the percent of unclassified instances (between 0 and 100)</div>
<div>2366&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2367&emsp;&emsp;&nbsp;&nbsp;  public final double pctUnclassified() {</div>
<div>2368&emsp;&emsp;</div>
<div>2369&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 100 * m_Unclassified / m_WithClass;</div>
<div>2370&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2371&emsp;&emsp;</div>
<div>2372&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2373&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the estimated error rate or the root mean squared error (if the</div>
<div>2374&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * class is numeric). If a cost matrix was given this error rate gives the</div>
<div>2375&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * average cost.</div>
<div>2376&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2377&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the estimated error rate (between 0 and 1, or between 0 and maximum</div>
<div>2378&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *         cost)</div>
<div>2379&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2380&emsp;&emsp;&nbsp;&nbsp;  public final double errorRate() {</div>
<div>2381&emsp;&emsp;</div>
<div>2382&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (!m_ClassIsNominal) {</div>
<div>2383&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Math.sqrt(m_SumSqrErr / (m_WithClass - m_Unclassified));</div>
<div>2384&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2385&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_CostMatrix == null) {</div>
<div>2386&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return m_Incorrect / m_WithClass;</div>
<div>2387&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>2388&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return avgCost();</div>
<div>2389&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2390&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2391&emsp;&emsp;</div>
<div>2392&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2393&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns value of kappa statistic if class is nominal.</div>
<div>2394&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2395&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the value of the kappa statistic</div>
<div>2396&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2397&emsp;&emsp;&nbsp;&nbsp;  public final double kappa() {</div>
<div>2398&emsp;&emsp;</div>
<div>2399&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] sumRows = new double[m_ConfusionMatrix.length];</div>
<div>2400&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] sumColumns = new double[m_ConfusionMatrix.length];</div>
<div>2401&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double sumOfWeights = 0;</div>
<div style="background-color:limegreen;">2402&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_ConfusionMatrix.length; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2403&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_ConfusionMatrix.length; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2404&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        sumRows[i] += m_ConfusionMatrix[i][j];</div>
<div>2405&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        sumColumns[j] += m_ConfusionMatrix[i][j];</div>
<div>2406&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        sumOfWeights += m_ConfusionMatrix[i][j];</div>
<div>2407&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>2408&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2409&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double correct = 0, chanceAgreement = 0;</div>
<div style="background-color:limegreen;">2410&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_ConfusionMatrix.length; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2411&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      chanceAgreement += (sumRows[i] * sumColumns[i]);</div>
<div>2412&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      correct += m_ConfusionMatrix[i][i];</div>
<div>2413&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2414&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    chanceAgreement /= (sumOfWeights * sumOfWeights);</div>
<div>2415&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    correct /= sumOfWeights;</div>
<div>2416&emsp;&emsp;</div>
<div style="background-color:limegreen;">2417&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (chanceAgreement &#60; 1) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2418&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return (correct - chanceAgreement) / (1 - chanceAgreement);</div>
<div>2419&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>2420&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return 1;</div>
<div>2421&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2422&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2423&emsp;&emsp;</div>
<div>2424&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2425&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the correlation coefficient if the class is numeric.</div>
<div>2426&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2427&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the correlation coefficient</div>
<div>2428&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if class is not numeric</div>
<div>2429&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2430&emsp;&emsp;&nbsp;&nbsp;  public final double correlationCoefficient() throws Exception {</div>
<div>2431&emsp;&emsp;</div>
<div style="background-color:limegreen;">2432&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2433&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Can't compute correlation coefficient: "</div>
<div>2434&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + "class is nominal!");</div>
<div>2435&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2436&emsp;&emsp;</div>
<div>2437&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double correlation = 0;</div>
<div>2438&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double varActual =</div>
<div>2439&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumSqrClass - m_SumClass * m_SumClass / (m_WithClass - m_Unclassified);</div>
<div>2440&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double varPredicted =</div>
<div>2441&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumSqrPredicted - m_SumPredicted * m_SumPredicted</div>
<div>2442&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        / (m_WithClass - m_Unclassified);</div>
<div>2443&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double varProd =</div>
<div>2444&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumClassPredicted - m_SumClass * m_SumPredicted</div>
<div>2445&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        / (m_WithClass - m_Unclassified);</div>
<div>2446&emsp;&emsp;</div>
<div style="background-color:limegreen;">2447&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (varActual * varPredicted &#60;= 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2448&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      correlation = 0.0;</div>
<div>2449&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>2450&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      correlation = varProd / Math.sqrt(varActual * varPredicted);</div>
<div>2451&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2452&emsp;&emsp;</div>
<div>2453&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return correlation;</div>
<div>2454&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2455&emsp;&emsp;</div>
<div>2456&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2457&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the mean absolute error. Refers to the error of the predicted</div>
<div>2458&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * values for numeric classes, and the error of the predicted probability</div>
<div>2459&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * distribution for nominal classes.</div>
<div>2460&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2461&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the mean absolute error</div>
<div>2462&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2463&emsp;&emsp;&nbsp;&nbsp;  public final double meanAbsoluteError() {</div>
<div>2464&emsp;&emsp;</div>
<div>2465&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumAbsErr / (m_WithClass - m_Unclassified);</div>
<div>2466&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2467&emsp;&emsp;</div>
<div>2468&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2469&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the mean absolute error of the prior.</div>
<div>2470&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2471&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the mean absolute error</div>
<div>2472&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2473&emsp;&emsp;&nbsp;&nbsp;  public final double meanPriorAbsoluteError() {</div>
<div>2474&emsp;&emsp;</div>
<div style="background-color:limegreen;">2475&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2476&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2477&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2478&emsp;&emsp;</div>
<div>2479&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumPriorAbsErr / m_WithClass;</div>
<div>2480&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2481&emsp;&emsp;</div>
<div>2482&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2483&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the relative absolute error.</div>
<div>2484&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2485&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the relative absolute error</div>
<div>2486&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if it can't be computed</div>
<div>2487&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2488&emsp;&emsp;&nbsp;&nbsp;  public final double relativeAbsoluteError() throws Exception {</div>
<div>2489&emsp;&emsp;</div>
<div style="background-color:limegreen;">2490&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2491&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2492&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2493&emsp;&emsp;</div>
<div>2494&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 100 * meanAbsoluteError() / meanPriorAbsoluteError();</div>
<div>2495&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2496&emsp;&emsp;</div>
<div>2497&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2498&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the root mean squared error.</div>
<div>2499&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2500&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the root mean squared error</div>
<div>2501&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2502&emsp;&emsp;&nbsp;&nbsp;  public final double rootMeanSquaredError() {</div>
<div>2503&emsp;&emsp;</div>
<div>2504&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return Math.sqrt(m_SumSqrErr / (m_WithClass - m_Unclassified));</div>
<div>2505&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2506&emsp;&emsp;</div>
<div>2507&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2508&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the root mean prior squared error.</div>
<div>2509&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2510&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the root mean prior squared error</div>
<div>2511&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2512&emsp;&emsp;&nbsp;&nbsp;  public final double rootMeanPriorSquaredError() {</div>
<div>2513&emsp;&emsp;</div>
<div style="background-color:limegreen;">2514&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2515&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2516&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2517&emsp;&emsp;</div>
<div>2518&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return Math.sqrt(m_SumPriorSqrErr / m_WithClass);</div>
<div>2519&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2520&emsp;&emsp;</div>
<div>2521&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2522&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the root relative squared error if the class is numeric.</div>
<div>2523&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2524&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the root relative squared error</div>
<div>2525&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2526&emsp;&emsp;&nbsp;&nbsp;  public final double rootRelativeSquaredError() {</div>
<div>2527&emsp;&emsp;</div>
<div style="background-color:limegreen;">2528&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2529&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2530&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2531&emsp;&emsp;</div>
<div>2532&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 100.0 * rootMeanSquaredError() / rootMeanPriorSquaredError();</div>
<div>2533&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2534&emsp;&emsp;</div>
<div>2535&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2536&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the entropy of the prior distribution.</div>
<div>2537&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2538&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the entropy of the prior distribution</div>
<div>2539&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class is not nominal</div>
<div>2540&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2541&emsp;&emsp;&nbsp;&nbsp;  public final double priorEntropy() throws Exception {</div>
<div>2542&emsp;&emsp;</div>
<div style="background-color:limegreen;">2543&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2544&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Can't compute entropy of class prior: "</div>
<div>2545&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + "class numeric!");</div>
<div>2546&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2547&emsp;&emsp;</div>
<div style="background-color:limegreen;">2548&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2549&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2550&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2551&emsp;&emsp;</div>
<div>2552&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double entropy = 0;</div>
<div style="background-color:limegreen;">2553&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2554&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      entropy -=</div>
<div>2555&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_ClassPriors[i] / m_ClassPriorsSum</div>
<div>2556&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          * Utils.log2(m_ClassPriors[i] / m_ClassPriorsSum);</div>
<div>2557&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2558&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return entropy;</div>
<div>2559&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2560&emsp;&emsp;</div>
<div>2561&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2562&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Return the total Kononenko & Bratko Information score in bits.</div>
<div>2563&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2564&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the K&B information score</div>
<div>2565&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class is not nominal</div>
<div>2566&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2567&emsp;&emsp;&nbsp;&nbsp;  public final double KBInformation() throws Exception {</div>
<div>2568&emsp;&emsp;</div>
<div style="background-color:limegreen;">2569&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2570&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Can't compute K&B Info score: " + "class numeric!");</div>
<div>2571&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2572&emsp;&emsp;</div>
<div style="background-color:limegreen;">2573&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2574&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2575&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2576&emsp;&emsp;</div>
<div>2577&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumKBInfo;</div>
<div>2578&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2579&emsp;&emsp;</div>
<div>2580&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2581&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Return the Kononenko & Bratko Information score in bits per instance.</div>
<div>2582&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2583&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the K&B information score</div>
<div>2584&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class is not nominal</div>
<div>2585&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2586&emsp;&emsp;&nbsp;&nbsp;  public final double KBMeanInformation() throws Exception {</div>
<div>2587&emsp;&emsp;</div>
<div style="background-color:limegreen;">2588&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2589&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Can't compute K&B Info score: class numeric!");</div>
<div>2590&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2591&emsp;&emsp;</div>
<div style="background-color:limegreen;">2592&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2593&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2594&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2595&emsp;&emsp;</div>
<div>2596&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumKBInfo / (m_WithClass - m_Unclassified);</div>
<div>2597&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2598&emsp;&emsp;</div>
<div>2599&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2600&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Return the Kononenko & Bratko Relative Information score.</div>
<div>2601&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2602&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the K&B relative information score</div>
<div>2603&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class is not nominal</div>
<div>2604&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2605&emsp;&emsp;&nbsp;&nbsp;  public final double KBRelativeInformation() throws Exception {</div>
<div>2606&emsp;&emsp;</div>
<div style="background-color:limegreen;">2607&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2608&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Can't compute K&B Info score: " + "class numeric!");</div>
<div>2609&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2610&emsp;&emsp;</div>
<div style="background-color:limegreen;">2611&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2612&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2613&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2614&emsp;&emsp;</div>
<div>2615&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 100.0 * KBInformation() / priorEntropy();</div>
<div>2616&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2617&emsp;&emsp;</div>
<div>2618&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2619&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the total entropy for the null model.</div>
<div>2620&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2621&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the total null model entropy</div>
<div>2622&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2623&emsp;&emsp;&nbsp;&nbsp;  public final double SFPriorEntropy() {</div>
<div>2624&emsp;&emsp;</div>
<div style="background-color:limegreen;">2625&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors || !m_ComplexityStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2626&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2627&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2628&emsp;&emsp;</div>
<div>2629&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumPriorEntropy;</div>
<div>2630&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2631&emsp;&emsp;</div>
<div>2632&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2633&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the entropy per instance for the null model.</div>
<div>2634&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2635&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the null model entropy per instance</div>
<div>2636&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2637&emsp;&emsp;&nbsp;&nbsp;  public final double SFMeanPriorEntropy() {</div>
<div>2638&emsp;&emsp;</div>
<div style="background-color:limegreen;">2639&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors || !m_ComplexityStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2640&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2641&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2642&emsp;&emsp;</div>
<div>2643&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumPriorEntropy / m_WithClass;</div>
<div>2644&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2645&emsp;&emsp;</div>
<div>2646&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2647&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the total entropy for the scheme.</div>
<div>2648&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2649&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the total scheme entropy</div>
<div>2650&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2651&emsp;&emsp;&nbsp;&nbsp;  public final double SFSchemeEntropy() {</div>
<div>2652&emsp;&emsp;</div>
<div style="background-color:limegreen;">2653&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ComplexityStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2654&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2655&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2656&emsp;&emsp;</div>
<div>2657&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumSchemeEntropy;</div>
<div>2658&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2659&emsp;&emsp;</div>
<div>2660&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2661&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the entropy per instance for the scheme.</div>
<div>2662&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2663&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the scheme entropy per instance</div>
<div>2664&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2665&emsp;&emsp;&nbsp;&nbsp;  public final double SFMeanSchemeEntropy() {</div>
<div>2666&emsp;&emsp;</div>
<div style="background-color:limegreen;">2667&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ComplexityStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2668&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2669&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2670&emsp;&emsp;</div>
<div>2671&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumSchemeEntropy / (m_WithClass - m_Unclassified);</div>
<div>2672&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2673&emsp;&emsp;</div>
<div>2674&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2675&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the total SF, which is the null model entropy minus the scheme</div>
<div>2676&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * entropy.</div>
<div>2677&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2678&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the total SF</div>
<div>2679&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2680&emsp;&emsp;&nbsp;&nbsp;  public final double SFEntropyGain() {</div>
<div>2681&emsp;&emsp;</div>
<div style="background-color:limegreen;">2682&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors || !m_ComplexityStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2683&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2684&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2685&emsp;&emsp;</div>
<div>2686&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_SumPriorEntropy - m_SumSchemeEntropy;</div>
<div>2687&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2688&emsp;&emsp;</div>
<div>2689&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2690&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the SF per instance, which is the null model entropy minus the</div>
<div>2691&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * scheme entropy, per instance.</div>
<div>2692&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2693&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the SF per instance</div>
<div>2694&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2695&emsp;&emsp;&nbsp;&nbsp;  public final double SFMeanEntropyGain() {</div>
<div>2696&emsp;&emsp;</div>
<div style="background-color:limegreen;">2697&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NoPriors || !m_ComplexityStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2698&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return Double.NaN;</div>
<div>2699&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2700&emsp;&emsp;</div>
<div>2701&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return (m_SumPriorEntropy - m_SumSchemeEntropy)</div>
<div>2702&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      / (m_WithClass - m_Unclassified);</div>
<div>2703&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2704&emsp;&emsp;</div>
<div>2705&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2706&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Output the cumulative margin distribution as a string suitable for input</div>
<div>2707&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * for gnuplot or similar package.</div>
<div>2708&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2709&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the cumulative margin distribution</div>
<div>2710&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class attribute is nominal</div>
<div>2711&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2712&emsp;&emsp;&nbsp;&nbsp;  public String toCumulativeMarginDistributionString() throws Exception {</div>
<div>2713&emsp;&emsp;</div>
<div style="background-color:limegreen;">2714&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2715&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Class must be nominal for margin distributions");</div>
<div>2716&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2717&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String result = "";</div>
<div>2718&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double cumulativeCount = 0;</div>
<div>2719&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double margin;</div>
<div style="background-color:limegreen;">2720&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60;= k_MarginResolution; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2721&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (m_MarginCounts[i] != 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2722&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        cumulativeCount += m_MarginCounts[i];</div>
<div>2723&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        margin = i * 2.0 / k_MarginResolution - 1.0;</div>
<div>2724&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        result =</div>
<div>2725&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          result + Utils.doubleToString(margin, 7, 3) + ' '</div>
<div>2726&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            + Utils.doubleToString(cumulativeCount * 100 / m_WithClass, 7, 3)</div>
<div>2727&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            + '\n';</div>
<div style="background-color:limegreen;">2728&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      } else if (i == 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2729&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        result =</div>
<div>2730&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          Utils.doubleToString(-1.0, 7, 3) + ' '</div>
<div>2731&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            + Utils.doubleToString(0, 7, 3) + '\n';</div>
<div>2732&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>2733&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2734&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return result;</div>
<div>2735&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2736&emsp;&emsp;</div>
<div>2737&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2738&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calls toSummaryString() with no title and no complexity stats.</div>
<div>2739&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2740&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return a summary description of the classifier evaluation</div>
<div>2741&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2742&emsp;&emsp;&nbsp;&nbsp;  @Override</div>
<div>2743&emsp;&emsp;&nbsp;&nbsp;  public String toSummaryString() {</div>
<div>2744&emsp;&emsp;</div>
<div>2745&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return toSummaryString("", false);</div>
<div>2746&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2747&emsp;&emsp;</div>
<div>2748&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2749&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calls toSummaryString() with a default title.</div>
<div>2750&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2751&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param printComplexityStatistics if true, complexity statistics are</div>
<div>2752&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          returned as well</div>
<div>2753&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the summary string</div>
<div>2754&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2755&emsp;&emsp;&nbsp;&nbsp;  public String toSummaryString(boolean printComplexityStatistics) {</div>
<div>2756&emsp;&emsp;</div>
<div>2757&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return toSummaryString("=== Summary ===\n", printComplexityStatistics);</div>
<div>2758&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>2759&emsp;&emsp;</div>
<div>2760&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>2761&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs the performance statistics in summary form. Lists number (and</div>
<div>2762&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * percentage) of instances classified correctly, incorrectly and</div>
<div>2763&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * unclassified. Outputs the total number of instances classified, and the</div>
<div>2764&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * number of instances (if any) that had no class value provided.</div>
<div>2765&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>2766&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param title the title for the statistics</div>
<div>2767&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param printComplexityStatistics if true, complexity statistics are</div>
<div>2768&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          returned as well</div>
<div>2769&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the summary as a String</div>
<div>2770&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>2771&emsp;&emsp;&nbsp;&nbsp;  public String</div>
<div>2772&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    toSummaryString(String title, boolean printComplexityStatistics) {</div>
<div>2773&emsp;&emsp;</div>
<div>2774&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    StringBuffer text = new StringBuffer();</div>
<div>2775&emsp;&emsp;</div>
<div style="background-color:limegreen;">2776&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (printComplexityStatistics && m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2777&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      printComplexityStatistics = false;</div>
<div>2778&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      System.err</div>
<div>2779&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        .println("Priors disabled, cannot print complexity statistics!");</div>
<div>2780&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>2781&emsp;&emsp;</div>
<div>2782&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    text.append(title + "\n");</div>
<div>2783&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    try {</div>
<div style="background-color:limegreen;">2784&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (m_WithClass > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2785&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2786&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayCorrect = m_metricsToDisplay.contains("correct");</div>
<div>2787&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayIncorrect = m_metricsToDisplay.contains("incorrect");</div>
<div>2788&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayKappa = m_metricsToDisplay.contains("kappa");</div>
<div>2789&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayTotalCost = m_metricsToDisplay.contains("total cost");</div>
<div>2790&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayAverageCost =</div>
<div>2791&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            m_metricsToDisplay.contains("average cost");</div>
<div>2792&emsp;&emsp;</div>
<div style="background-color:limegreen;">2793&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayCorrect) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2794&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Correctly Classified Instances     ");</div>
<div>2795&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(correct(), 12, 4) + "     "</div>
<div>2796&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + Utils.doubleToString(pctCorrect(), 12, 4) + " %\n");</div>
<div>2797&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div style="background-color:limegreen;">2798&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayIncorrect) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2799&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Incorrectly Classified Instances   ");</div>
<div>2800&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(incorrect(), 12, 4) + "     "</div>
<div>2801&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + Utils.doubleToString(pctIncorrect(), 12, 4) + " %\n");</div>
<div>2802&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div style="background-color:limegreen;">2803&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayKappa) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2804&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Kappa statistic                    ");</div>
<div>2805&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(kappa(), 12, 4) + "\n");</div>
<div>2806&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2807&emsp;&emsp;</div>
<div style="background-color:limegreen;">2808&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (m_CostMatrix != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2809&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (displayTotalCost) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2810&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append("Total Cost                         ");</div>
<div>2811&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append(Utils.doubleToString(totalCost(), 12, 4) + "\n");</div>
<div>2812&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div style="background-color:limegreen;">2813&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (displayAverageCost) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2814&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append("Average Cost                       ");</div>
<div>2815&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append(Utils.doubleToString(avgCost(), 12, 4) + "\n");</div>
<div>2816&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>2817&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div style="background-color:limegreen;">2818&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (printComplexityStatistics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2819&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            boolean displayKBRelative =</div>
<div>2820&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              m_metricsToDisplay.contains("kb relative");</div>
<div>2821&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            boolean displayKBInfo =</div>
<div>2822&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              m_metricsToDisplay.contains("kb information");</div>
<div style="background-color:limegreen;">2823&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (displayKBRelative) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2824&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append("K&B Relative Info Score            ");</div>
<div>2825&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append(Utils.doubleToString(KBRelativeInformation(), 12, 4)</div>
<div>2826&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                + " %\n");</div>
<div>2827&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div style="background-color:limegreen;">2828&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (displayKBInfo) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2829&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append("K&B Information Score              ");</div>
<div>2830&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append(Utils.doubleToString(KBInformation(), 12, 4)</div>
<div>2831&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                + " bits");</div>
<div>2832&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append(Utils.doubleToString(KBMeanInformation(), 12, 4)</div>
<div>2833&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                + " bits/instance\n");</div>
<div>2834&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>2835&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2836&emsp;&emsp;</div>
<div style="background-color:limegreen;">2837&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (m_pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2838&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2839&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              if (m instanceof StandardEvaluationMetric&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2840&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                && m.appliesToNominalClass() && !m.appliesToNumericClass()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2841&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                String metricName = m.getMetricName().toLowerCase();</div>
<div>2842&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                boolean display = m_metricsToDisplay.contains(metricName);</div>
<div>2843&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                // For the GUI and the command line StandardEvaluationMetrics</div>
<div>2844&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                // are an "all or nothing" jobby (because we need the user to</div>
<div>2845&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                // supply how they should be displayed and formatted via the</div>
<div>2846&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                // toSummaryString() method</div>
<div style="background-color:limegreen;">2847&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                if (display) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2848&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  String formattedS =</div>
<div>2849&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    ((StandardEvaluationMetric) m).toSummaryString();</div>
<div>2850&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  text.append(formattedS);</div>
<div>2851&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                }</div>
<div>2852&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div>2853&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>2854&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2855&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>2856&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayCorrelation =</div>
<div>2857&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            m_metricsToDisplay.contains("correlation");</div>
<div style="background-color:limegreen;">2858&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayCorrelation) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2859&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Correlation coefficient            ");</div>
<div>2860&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(correlationCoefficient(), 12, 4)</div>
<div>2861&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + "\n");</div>
<div>2862&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2863&emsp;&emsp;</div>
<div style="background-color:limegreen;">2864&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (m_pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2865&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2866&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              if (m instanceof StandardEvaluationMetric&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2867&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                && !m.appliesToNominalClass() && m.appliesToNumericClass()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2868&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                String metricName = m.getMetricName().toLowerCase();</div>
<div>2869&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                boolean display = m_metricsToDisplay.contains(metricName);</div>
<div>2870&emsp;&emsp;</div>
<div style="background-color:limegreen;">2871&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                if (display) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2872&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  String formattedS =</div>
<div>2873&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    ((StandardEvaluationMetric) m).toSummaryString();</div>
<div>2874&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  text.append(formattedS);</div>
<div>2875&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                }</div>
<div>2876&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div>2877&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>2878&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2879&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">2880&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (printComplexityStatistics && m_ComplexityStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2881&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayComplexityOrder0 =</div>
<div>2882&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            m_metricsToDisplay.contains("complexity 0");</div>
<div>2883&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayComplexityScheme =</div>
<div>2884&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            m_metricsToDisplay.contains("complexity scheme");</div>
<div>2885&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayComplexityImprovement =</div>
<div>2886&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            m_metricsToDisplay.contains("complexity improvement");</div>
<div style="background-color:limegreen;">2887&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayComplexityOrder0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2888&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Class complexity | order 0         ");</div>
<div>2889&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text</div>
<div>2890&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              .append(Utils.doubleToString(SFPriorEntropy(), 12, 4) + " bits");</div>
<div>2891&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(SFMeanPriorEntropy(), 12, 4)</div>
<div>2892&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + " bits/instance\n");</div>
<div>2893&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div style="background-color:limegreen;">2894&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayComplexityScheme) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2895&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Class complexity | scheme          ");</div>
<div>2896&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(SFSchemeEntropy(), 12, 4)</div>
<div>2897&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + " bits");</div>
<div>2898&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(SFMeanSchemeEntropy(), 12, 4)</div>
<div>2899&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + " bits/instance\n");</div>
<div>2900&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div style="background-color:limegreen;">2901&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayComplexityImprovement) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2902&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Complexity improvement     (Sf)    ");</div>
<div>2903&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(SFEntropyGain(), 12, 4) + " bits");</div>
<div>2904&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(SFMeanEntropyGain(), 12, 4)</div>
<div>2905&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + " bits/instance\n");</div>
<div>2906&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2907&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>2908&emsp;&emsp;</div>
<div style="background-color:limegreen;">2909&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (printComplexityStatistics && m_pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2910&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2911&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (m instanceof InformationTheoreticEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2912&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              if ((m_ClassIsNominal && m.appliesToNominalClass())&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2913&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                || (!m_ClassIsNominal && m.appliesToNumericClass())) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2914&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                String metricName = m.getMetricName().toLowerCase();</div>
<div>2915&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                boolean display = m_metricsToDisplay.contains(metricName);</div>
<div>2916&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                List&#60;String> statNames = m.getStatisticNames();</div>
<div style="background-color:limegreen;">2917&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                for (String s : statNames) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2918&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                  display =&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2919&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                    (display && m_metricsToDisplay.contains(s.toLowerCase()));&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2920&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                }</div>
<div style="background-color:limegreen;">2921&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                if (display) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2922&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  String formattedS =</div>
<div>2923&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    ((InformationTheoreticEvaluationMetric) m)</div>
<div>2924&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      .toSummaryString();</div>
<div>2925&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  text.append(formattedS);</div>
<div>2926&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                }</div>
<div>2927&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div>2928&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>2929&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2930&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>2931&emsp;&emsp;</div>
<div>2932&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        boolean displayMAE = m_metricsToDisplay.contains("mae");</div>
<div>2933&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        boolean displayRMSE = m_metricsToDisplay.contains("rmse");</div>
<div>2934&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        boolean displayRAE = m_metricsToDisplay.contains("rae");</div>
<div>2935&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        boolean displayRRSE = m_metricsToDisplay.contains("rrse");</div>
<div>2936&emsp;&emsp;</div>
<div style="background-color:limegreen;">2937&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (displayMAE) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2938&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("Mean absolute error                ");</div>
<div>2939&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append(Utils.doubleToString(meanAbsoluteError(), 12, 4) + "\n");</div>
<div>2940&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">2941&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (displayRMSE) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2942&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("Root mean squared error            ");</div>
<div>2943&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append(Utils.doubleToString(rootMeanSquaredError(), 12, 4)</div>
<div>2944&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            + "\n");</div>
<div>2945&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">2946&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (!m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2947&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayRAE) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2948&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Relative absolute error            ");</div>
<div>2949&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(relativeAbsoluteError(), 12, 4)</div>
<div>2950&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + " %\n");</div>
<div>2951&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div style="background-color:limegreen;">2952&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayRRSE) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2953&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Root relative squared error        ");</div>
<div>2954&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(rootRelativeSquaredError(), 12, 4)</div>
<div>2955&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + " %\n");</div>
<div>2956&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2957&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">2958&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m_pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2959&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2960&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (m instanceof StandardEvaluationMetric&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2961&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              && m.appliesToNominalClass() && m.appliesToNumericClass()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2962&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              String metricName = m.getMetricName().toLowerCase();</div>
<div>2963&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              boolean display = m_metricsToDisplay.contains(metricName);</div>
<div>2964&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              List&#60;String> statNames = m.getStatisticNames();</div>
<div style="background-color:limegreen;">2965&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              for (String s : statNames) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2966&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                display =&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2967&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                  (display && m_metricsToDisplay.contains(s.toLowerCase()));&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2968&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div style="background-color:limegreen;">2969&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              if (display) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2970&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                String formattedS =</div>
<div>2971&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  ((StandardEvaluationMetric) m).toSummaryString();</div>
<div>2972&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                text.append(formattedS);</div>
<div>2973&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div>2974&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>2975&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2976&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>2977&emsp;&emsp;</div>
<div style="background-color:limegreen;">2978&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m_CoverageStatisticsAvailable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2979&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayCoverage = m_metricsToDisplay.contains("coverage");</div>
<div>2980&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          boolean displayRegionSize =</div>
<div>2981&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            m_metricsToDisplay.contains("region size");</div>
<div>2982&emsp;&emsp;</div>
<div style="background-color:limegreen;">2983&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (displayCoverage) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2984&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append("Coverage of cases ("</div>
<div>2985&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              + Utils.doubleToString(m_ConfLevel, 4, 2) + " level)     ");</div>
<div>2986&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            text.append(Utils.doubleToString(</div>
<div>2987&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              coverageOfTestCasesByPredictedRegions(), 12, 4) + " %\n");</div>
<div>2988&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div style="background-color:limegreen;">2989&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (!m_NoPriors) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">2990&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (displayRegionSize) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>2991&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append("Mean rel. region size ("</div>
<div>2992&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                + Utils.doubleToString(m_ConfLevel, 4, 2) + " level) ");</div>
<div>2993&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              text.append(Utils.doubleToString(sizeOfPredictedRegions(), 12, 4)</div>
<div>2994&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                + " %\n");</div>
<div>2995&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>2996&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>2997&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>2998&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">2999&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (Utils.gr(unclassified(), 0)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3000&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append("UnClassified Instances             ");</div>
<div>3001&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(Utils.doubleToString(unclassified(), 12, 4) + "     "</div>
<div>3002&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          + Utils.doubleToString(pctUnclassified(), 12, 4) + " %\n");</div>
<div>3003&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3004&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append("Total Number of Instances          ");</div>
<div>3005&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(Utils.doubleToString(m_WithClass, 12, 4) + "\n");</div>
<div style="background-color:limegreen;">3006&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (m_MissingClass > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3007&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append("Ignored Class Unknown Instances            ");</div>
<div>3008&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(Utils.doubleToString(m_MissingClass, 12, 4) + "\n");</div>
<div>3009&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3010&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } catch (Exception ex) {</div>
<div>3011&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Should never occur since the class is known to be nominal</div>
<div>3012&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // here</div>
<div>3013&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      System.err.println("Arggh - Must be a bug in Evaluation class");</div>
<div>3014&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      ex.printStackTrace();</div>
<div>3015&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3016&emsp;&emsp;</div>
<div>3017&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return text.toString();</div>
<div>3018&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3019&emsp;&emsp;</div>
<div>3020&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3021&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calls toMatrixString() with a default title.</div>
<div>3022&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3023&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the confusion matrix as a string</div>
<div>3024&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class is numeric</div>
<div>3025&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3026&emsp;&emsp;&nbsp;&nbsp;  public String toMatrixString() throws Exception {</div>
<div>3027&emsp;&emsp;</div>
<div>3028&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return toMatrixString("=== Confusion Matrix ===\n");</div>
<div>3029&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3030&emsp;&emsp;</div>
<div>3031&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3032&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Outputs the performance statistics as a classification confusion matrix.</div>
<div>3033&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * For each class value, shows the distribution of predicted class values.</div>
<div>3034&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3035&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param title the title for the confusion matrix</div>
<div>3036&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the confusion matrix as a String</div>
<div>3037&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class is numeric</div>
<div>3038&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3039&emsp;&emsp;&nbsp;&nbsp;  public String toMatrixString(String title) throws Exception {</div>
<div>3040&emsp;&emsp;</div>
<div>3041&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    StringBuffer text = new StringBuffer();</div>
<div>3042&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    char[] IDChars =</div>
<div>3043&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',</div>
<div>3044&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z' };</div>
<div>3045&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int IDWidth;</div>
<div>3046&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean fractional = false;</div>
<div>3047&emsp;&emsp;</div>
<div style="background-color:limegreen;">3048&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3049&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Evaluation: No confusion matrix possible!");</div>
<div>3050&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3051&emsp;&emsp;</div>
<div>3052&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Find the maximum value in the matrix</div>
<div>3053&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // and check for fractional display requirement</div>
<div>3054&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double maxval = 0;</div>
<div style="background-color:limegreen;">3055&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3056&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3057&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        double current = m_ConfusionMatrix[i][j];</div>
<div style="background-color:limegreen;">3058&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (current &#60; 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3059&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          current *= -10;</div>
<div>3060&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div style="background-color:limegreen;">3061&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (current > maxval) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3062&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          maxval = current;</div>
<div>3063&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3064&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        double fract = current - Math.rint(current);</div>
<div style="background-color:limegreen;">3065&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (!fractional && ((Math.log(fract) / Math.log(10)) >= -2)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3066&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          fractional = true;</div>
<div>3067&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3068&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3069&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3070&emsp;&emsp;</div>
<div>3071&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    IDWidth =</div>
<div>3072&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      1 + Math.max(</div>
<div style="background-color:limegreen;">3073&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        (int) (Math.log(maxval) / Math.log(10) + (fractional ? 3 : 0)),&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3074&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        (int) (Math.log(m_NumClasses) / Math.log(IDChars.length)));</div>
<div>3075&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    text.append(title).append("\n");</div>
<div style="background-color:limegreen;">3076&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3077&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (fractional) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3078&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(" ").append(num2ShortID(i, IDChars, IDWidth - 3))</div>
<div>3079&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          .append("   ");</div>
<div>3080&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>3081&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(" ").append(num2ShortID(i, IDChars, IDWidth));</div>
<div>3082&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3083&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3084&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    text.append("   &#60;-- classified as\n");</div>
<div style="background-color:limegreen;">3085&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3086&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3087&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        text.append(" ").append(&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3088&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          Utils.doubleToString(m_ConfusionMatrix[i][j], IDWidth,</div>
<div>3089&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            (fractional ? 2 : 0)));</div>
<div>3090&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3091&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(" | ").append(num2ShortID(i, IDChars, IDWidth)).append(" = ")</div>
<div>3092&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        .append(m_ClassNames[i]).append("\n");</div>
<div>3093&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3094&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return text.toString();</div>
<div>3095&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3096&emsp;&emsp;</div>
<div>3097&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3098&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Generates a breakdown of the accuracy for each class (with default title),</div>
<div>3099&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * incorporating various information-retrieval statistics, such as true/false</div>
<div>3100&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * positive rate, precision/recall/F-Measure. Should be useful for ROC curves,</div>
<div>3101&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * recall/precision curves.</div>
<div>3102&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3103&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the statistics presented as a string</div>
<div>3104&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if class is not nominal</div>
<div>3105&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3106&emsp;&emsp;&nbsp;&nbsp;  public String toClassDetailsString() throws Exception {</div>
<div>3107&emsp;&emsp;</div>
<div>3108&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return toClassDetailsString("=== Detailed Accuracy By Class ===\n");</div>
<div>3109&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3110&emsp;&emsp;</div>
<div>3111&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3112&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Generates a breakdown of the accuracy for each class, incorporating various</div>
<div>3113&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * information-retrieval statistics, such as true/false positive rate,</div>
<div>3114&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * precision/recall/F-Measure. Should be useful for ROC curves,</div>
<div>3115&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * recall/precision curves.</div>
<div>3116&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3117&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param title the title to prepend the stats string with</div>
<div>3118&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the statistics presented as a string</div>
<div>3119&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if class is not nominal</div>
<div>3120&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3121&emsp;&emsp;&nbsp;&nbsp;  public String toClassDetailsString(String title) throws Exception {</div>
<div>3122&emsp;&emsp;</div>
<div style="background-color:limegreen;">3123&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3124&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      throw new Exception("Evaluation: No per class statistics possible!");</div>
<div>3125&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3126&emsp;&emsp;</div>
<div>3127&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean displayTP = m_metricsToDisplay.contains("tp rate");</div>
<div>3128&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean displayFP = m_metricsToDisplay.contains("fp rate");</div>
<div>3129&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean displayP = m_metricsToDisplay.contains("precision");</div>
<div>3130&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean displayR = m_metricsToDisplay.contains("recall");</div>
<div>3131&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean displayFM = m_metricsToDisplay.contains("f-measure");</div>
<div>3132&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean displayMCC = m_metricsToDisplay.contains("mcc");</div>
<div>3133&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean displayROC = m_metricsToDisplay.contains("roc area");</div>
<div>3134&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean displayPRC = m_metricsToDisplay.contains("prc area");</div>
<div>3135&emsp;&emsp;</div>
<div style="background-color:limegreen;">3136&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    StringBuffer text =&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3137&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      new StringBuffer(title + "\n                 "</div>
<div>3138&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + (displayTP ? "TP Rate  " : "") + (displayFP ? "FP Rate  " : "")</div>
<div>3139&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + (displayP ? "Precision  " : "") + (displayR ? "Recall   " : "")</div>
<div>3140&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + (displayFM ? "F-Measure  " : "") + (displayMCC ? "MCC      " : "")</div>
<div>3141&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + (displayROC ? "ROC Area  " : "") + (displayPRC ? "PRC Area  " : ""));</div>
<div>3142&emsp;&emsp;</div>
<div style="background-color:limegreen;">3143&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_pluginMetrics != null && m_pluginMetrics.size() > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3144&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3145&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m instanceof InformationRetrievalEvaluationMetric&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3146&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          && m.appliesToNominalClass()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3147&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          String metricName = m.getMetricName().toLowerCase();</div>
<div style="background-color:limegreen;">3148&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (m_metricsToDisplay.contains(metricName)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3149&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            List&#60;String> statNames = m.getStatisticNames();</div>
<div style="background-color:limegreen;">3150&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            for (String name : statNames) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3151&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              if (m_metricsToDisplay.contains(name.toLowerCase())) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3152&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                if (name.length() &#60; 7) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3153&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  name = Utils.padRight(name, 7);</div>
<div>3154&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                }</div>
<div>3155&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                text.append(name).append("  ");</div>
<div>3156&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div>3157&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>3158&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3159&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3160&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3161&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3162&emsp;&emsp;</div>
<div>3163&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    text.append("Class\n");</div>
<div style="background-color:limegreen;">3164&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3165&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append("                 ");</div>
<div style="background-color:limegreen;">3166&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (displayTP) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3167&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(String.format("%-9.3f", truePositiveRate(i)));</div>
<div>3168&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">3169&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (displayFP) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3170&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(String.format("%-9.3f", falsePositiveRate(i)));</div>
<div>3171&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">3172&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (displayP) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3173&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(String.format("%-11.3f", precision(i)));</div>
<div>3174&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">3175&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (displayR) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3176&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(String.format("%-9.3f", recall(i)));</div>
<div>3177&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">3178&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (displayFM) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3179&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        text.append(String.format("%-11.3f", fMeasure(i)));</div>
<div>3180&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">3181&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (displayMCC) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3182&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        double mat = matthewsCorrelationCoefficient(i);</div>
<div style="background-color:limegreen;">3183&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (Utils.isMissingValue(mat)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3184&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("?       ");</div>
<div>3185&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>3186&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append(String</div>
<div>3187&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            .format("%-9.3f", matthewsCorrelationCoefficient(i)));</div>
<div>3188&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3189&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3190&emsp;&emsp;</div>
<div style="background-color:limegreen;">3191&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (displayROC) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3192&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        double rocVal = areaUnderROC(i);</div>
<div style="background-color:limegreen;">3193&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (Utils.isMissingValue(rocVal)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3194&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("?         ");</div>
<div>3195&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>3196&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append(String.format("%-10.3f", rocVal));</div>
<div>3197&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3198&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">3199&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (displayPRC) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3200&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        double prcVal = areaUnderPRC(i);</div>
<div style="background-color:limegreen;">3201&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (Utils.isMissingValue(prcVal)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3202&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append("?         ");</div>
<div>3203&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>3204&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          text.append(String.format("%-10.3f", prcVal));</div>
<div>3205&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3206&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3207&emsp;&emsp;</div>
<div style="background-color:limegreen;">3208&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (m_pluginMetrics != null && m_pluginMetrics.size() > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3209&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3210&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (m instanceof InformationRetrievalEvaluationMetric&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3211&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            && m.appliesToNominalClass()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3212&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            String metricName = m.getMetricName().toLowerCase();</div>
<div style="background-color:limegreen;">3213&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            if (m_metricsToDisplay.contains(metricName)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3214&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              List&#60;String> statNames = m.getStatisticNames();</div>
<div style="background-color:limegreen;">3215&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              for (String name : statNames) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3216&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                if (m_metricsToDisplay.contains(name.toLowerCase())) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3217&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  double stat =</div>
<div>3218&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    ((InformationRetrievalEvaluationMetric) m).getStatistic(</div>
<div>3219&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      name, i);</div>
<div style="background-color:limegreen;">3220&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                  if (name.length() &#60; 7) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3221&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    name = Utils.padRight(name, 7);</div>
<div>3222&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  }</div>
<div style="background-color:limegreen;">3223&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                  if (Utils.isMissingValue(stat)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3224&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    Utils.padRight("?", name.length());</div>
<div>3225&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  } else {</div>
<div>3226&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    text.append(</div>
<div>3227&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      String.format("%-" + name.length() + ".3f", stat))</div>
<div>3228&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      .append("  ");</div>
<div>3229&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  }</div>
<div>3230&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                }</div>
<div>3231&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div>3232&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>3233&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3234&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3235&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3236&emsp;&emsp;</div>
<div>3237&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(m_ClassNames[i]).append('\n');</div>
<div>3238&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3239&emsp;&emsp;</div>
<div>3240&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    text.append("Weighted Avg.    ");</div>
<div style="background-color:limegreen;">3241&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (displayTP) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3242&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(String.format("%-9.3f", weightedTruePositiveRate()));</div>
<div>3243&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3244&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (displayFP) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3245&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(String.format("%-9.3f", weightedFalsePositiveRate()));</div>
<div>3246&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3247&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (displayP) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3248&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(String.format("%-11.3f", weightedPrecision()));</div>
<div>3249&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3250&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (displayR) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3251&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(String.format("%-9.3f", weightedRecall()));</div>
<div>3252&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3253&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (displayFM) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3254&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(String.format("%-11.3f", weightedFMeasure()));</div>
<div>3255&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3256&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (displayMCC) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3257&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(String.format("%-9.3f", weightedMatthewsCorrelation()));</div>
<div>3258&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3259&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (displayROC) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3260&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(String.format("%-10.3f", weightedAreaUnderROC()));</div>
<div>3261&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3262&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (displayPRC) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3263&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      text.append(String.format("%-10.3f", weightedAreaUnderPRC()));</div>
<div>3264&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3265&emsp;&emsp;</div>
<div style="background-color:limegreen;">3266&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_pluginMetrics != null && m_pluginMetrics.size() > 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3267&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3268&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m instanceof InformationRetrievalEvaluationMetric&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3269&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          && m.appliesToNominalClass()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3270&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          String metricName = m.getMetricName().toLowerCase();</div>
<div style="background-color:limegreen;">3271&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (m_metricsToDisplay.contains(metricName)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3272&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            List&#60;String> statNames = m.getStatisticNames();</div>
<div style="background-color:limegreen;">3273&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>            for (String name : statNames) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3274&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>              if (m_metricsToDisplay.contains(name.toLowerCase())) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3275&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                double stat =</div>
<div>3276&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  ((InformationRetrievalEvaluationMetric) m)</div>
<div>3277&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    .getClassWeightedAverageStatistic(name);</div>
<div style="background-color:limegreen;">3278&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                if (name.length() &#60; 7) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3279&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  name = Utils.padRight(name, 7);</div>
<div>3280&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                }</div>
<div style="background-color:limegreen;">3281&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>                if (Utils.isMissingValue(stat)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3282&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  Utils.padRight("?", name.length());</div>
<div>3283&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                } else {</div>
<div>3284&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  text</div>
<div>3285&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    .append(String.format("%-" + name.length() + ".3f", stat))</div>
<div>3286&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                    .append("  ");</div>
<div>3287&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                }</div>
<div>3288&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              }</div>
<div>3289&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            }</div>
<div>3290&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3291&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3292&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3293&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3294&emsp;&emsp;</div>
<div>3295&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    text.append("\n");</div>
<div>3296&emsp;&emsp;</div>
<div>3297&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return text.toString();</div>
<div>3298&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3299&emsp;&emsp;</div>
<div>3300&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3301&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the number of true positives with respect to a particular class.</div>
<div>3302&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * This is defined as</div>
<div>3303&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3304&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3305&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3306&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * correctly classified positives</div>
<div>3307&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3308&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3309&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3310&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the true positive rate</div>
<div>3311&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3312&emsp;&emsp;&nbsp;&nbsp;  public double numTruePositives(int classIndex) {</div>
<div>3313&emsp;&emsp;</div>
<div>3314&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double correct = 0;</div>
<div style="background-color:limegreen;">3315&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3316&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (j == classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3317&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        correct += m_ConfusionMatrix[classIndex][j];</div>
<div>3318&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3319&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3320&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return correct;</div>
<div>3321&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3322&emsp;&emsp;</div>
<div>3323&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3324&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the true positive rate with respect to a particular class. This</div>
<div>3325&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * is defined as</div>
<div>3326&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3327&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3328&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3329&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * correctly classified positives</div>
<div>3330&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * ------------------------------</div>
<div>3331&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *       total positives</div>
<div>3332&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3333&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3334&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3335&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the true positive rate</div>
<div>3336&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3337&emsp;&emsp;&nbsp;&nbsp;  public double truePositiveRate(int classIndex) {</div>
<div>3338&emsp;&emsp;</div>
<div>3339&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double correct = 0, total = 0;</div>
<div style="background-color:limegreen;">3340&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3341&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (j == classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3342&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        correct += m_ConfusionMatrix[classIndex][j];</div>
<div>3343&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3344&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      total += m_ConfusionMatrix[classIndex][j];</div>
<div>3345&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3346&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (total == 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3347&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return 0;</div>
<div>3348&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3349&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return correct / total;</div>
<div>3350&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3351&emsp;&emsp;</div>
<div>3352&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3353&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) true positive rate.</div>
<div>3354&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3355&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted true positive rate.</div>
<div>3356&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3357&emsp;&emsp;&nbsp;&nbsp;  public double weightedTruePositiveRate() {</div>
<div>3358&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>3359&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>3360&emsp;&emsp;</div>
<div style="background-color:limegreen;">3361&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3362&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3363&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>3364&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3365&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>3366&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3367&emsp;&emsp;</div>
<div>3368&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double truePosTotal = 0;</div>
<div style="background-color:limegreen;">3369&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3370&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = truePositiveRate(i);</div>
<div>3371&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      truePosTotal += (temp * classCounts[i]);</div>
<div>3372&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3373&emsp;&emsp;</div>
<div>3374&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return truePosTotal / classCountSum;</div>
<div>3375&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3376&emsp;&emsp;</div>
<div>3377&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3378&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the number of true negatives with respect to a particular class.</div>
<div>3379&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * This is defined as</div>
<div>3380&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3381&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3382&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3383&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * correctly classified negatives</div>
<div>3384&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3385&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3386&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3387&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the true positive rate</div>
<div>3388&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3389&emsp;&emsp;&nbsp;&nbsp;  public double numTrueNegatives(int classIndex) {</div>
<div>3390&emsp;&emsp;</div>
<div>3391&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double correct = 0;</div>
<div style="background-color:limegreen;">3392&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3393&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (i != classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3394&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3395&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (j != classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3396&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            correct += m_ConfusionMatrix[i][j];</div>
<div>3397&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3398&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3399&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3400&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3401&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return correct;</div>
<div>3402&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3403&emsp;&emsp;</div>
<div>3404&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3405&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the true negative rate with respect to a particular class. This</div>
<div>3406&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * is defined as</div>
<div>3407&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3408&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3409&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3410&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * correctly classified negatives</div>
<div>3411&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * ------------------------------</div>
<div>3412&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *       total negatives</div>
<div>3413&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3414&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3415&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3416&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the true positive rate</div>
<div>3417&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3418&emsp;&emsp;&nbsp;&nbsp;  public double trueNegativeRate(int classIndex) {</div>
<div>3419&emsp;&emsp;</div>
<div>3420&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double correct = 0, total = 0;</div>
<div>3421&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int i = 0; i &#60; m_NumClasses; i++) {</div>
<div>3422&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (i != classIndex) {</div>
<div>3423&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        for (int j = 0; j &#60; m_NumClasses; j++) {</div>
<div>3424&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          if (j != classIndex) {</div>
<div>3425&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            correct += m_ConfusionMatrix[i][j];</div>
<div>3426&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3427&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          total += m_ConfusionMatrix[i][j];</div>
<div>3428&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3429&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3430&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3431&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (total == 0) {</div>
<div>3432&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return 0;</div>
<div>3433&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3434&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return correct / total;</div>
<div>3435&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3436&emsp;&emsp;</div>
<div>3437&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3438&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) true negative rate.</div>
<div>3439&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3440&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted true negative rate.</div>
<div>3441&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3442&emsp;&emsp;&nbsp;&nbsp;  public double weightedTrueNegativeRate() {</div>
<div>3443&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>3444&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>3445&emsp;&emsp;</div>
<div>3446&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int i = 0; i &#60; m_NumClasses; i++) {</div>
<div>3447&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for (int j = 0; j &#60; m_NumClasses; j++) {</div>
<div>3448&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>3449&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3450&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>3451&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3452&emsp;&emsp;</div>
<div>3453&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double trueNegTotal = 0;</div>
<div>3454&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int i = 0; i &#60; m_NumClasses; i++) {</div>
<div>3455&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = trueNegativeRate(i);</div>
<div>3456&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      trueNegTotal += (temp * classCounts[i]);</div>
<div>3457&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3458&emsp;&emsp;</div>
<div>3459&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return trueNegTotal / classCountSum;</div>
<div>3460&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3461&emsp;&emsp;</div>
<div>3462&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3463&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate number of false positives with respect to a particular class.</div>
<div>3464&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * This is defined as</div>
<div>3465&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3466&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3467&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3468&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * incorrectly classified negatives</div>
<div>3469&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3470&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3471&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3472&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the false positive rate</div>
<div>3473&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3474&emsp;&emsp;&nbsp;&nbsp;  public double numFalsePositives(int classIndex) {</div>
<div>3475&emsp;&emsp;</div>
<div>3476&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double incorrect = 0;</div>
<div style="background-color:limegreen;">3477&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3478&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (i != classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3479&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3480&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (j == classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3481&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            incorrect += m_ConfusionMatrix[i][j];</div>
<div>3482&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3483&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3484&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3485&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3486&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return incorrect;</div>
<div>3487&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3488&emsp;&emsp;</div>
<div>3489&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3490&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the false positive rate with respect to a particular class. This</div>
<div>3491&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * is defined as</div>
<div>3492&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3493&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3494&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3495&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * incorrectly classified negatives</div>
<div>3496&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * --------------------------------</div>
<div>3497&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *        total negatives</div>
<div>3498&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3499&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3500&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3501&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the false positive rate</div>
<div>3502&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3503&emsp;&emsp;&nbsp;&nbsp;  public double falsePositiveRate(int classIndex) {</div>
<div>3504&emsp;&emsp;</div>
<div>3505&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double incorrect = 0, total = 0;</div>
<div style="background-color:limegreen;">3506&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3507&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (i != classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3508&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3509&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (j == classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3510&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            incorrect += m_ConfusionMatrix[i][j];</div>
<div>3511&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3512&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          total += m_ConfusionMatrix[i][j];</div>
<div>3513&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3514&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3515&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3516&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (total == 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3517&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return 0;</div>
<div>3518&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3519&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return incorrect / total;</div>
<div>3520&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3521&emsp;&emsp;</div>
<div>3522&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3523&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) false positive rate.</div>
<div>3524&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3525&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted false positive rate.</div>
<div>3526&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3527&emsp;&emsp;&nbsp;&nbsp;  public double weightedFalsePositiveRate() {</div>
<div>3528&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>3529&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>3530&emsp;&emsp;</div>
<div style="background-color:limegreen;">3531&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3532&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3533&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>3534&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3535&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>3536&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3537&emsp;&emsp;</div>
<div>3538&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double falsePosTotal = 0;</div>
<div style="background-color:limegreen;">3539&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3540&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = falsePositiveRate(i);</div>
<div>3541&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      falsePosTotal += (temp * classCounts[i]);</div>
<div>3542&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3543&emsp;&emsp;</div>
<div>3544&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return falsePosTotal / classCountSum;</div>
<div>3545&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3546&emsp;&emsp;</div>
<div>3547&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3548&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate number of false negatives with respect to a particular class.</div>
<div>3549&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * This is defined as</div>
<div>3550&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3551&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3552&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3553&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * incorrectly classified positives</div>
<div>3554&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3555&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3556&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3557&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the false positive rate</div>
<div>3558&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3559&emsp;&emsp;&nbsp;&nbsp;  public double numFalseNegatives(int classIndex) {</div>
<div>3560&emsp;&emsp;</div>
<div>3561&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double incorrect = 0;</div>
<div style="background-color:limegreen;">3562&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3563&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (i == classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3564&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3565&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          if (j != classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3566&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            incorrect += m_ConfusionMatrix[i][j];</div>
<div>3567&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3568&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3569&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3570&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3571&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return incorrect;</div>
<div>3572&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3573&emsp;&emsp;</div>
<div>3574&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3575&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the false negative rate with respect to a particular class. This</div>
<div>3576&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * is defined as</div>
<div>3577&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3578&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3579&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3580&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * incorrectly classified positives</div>
<div>3581&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * --------------------------------</div>
<div>3582&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *        total positives</div>
<div>3583&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3584&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3585&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3586&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the false positive rate</div>
<div>3587&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3588&emsp;&emsp;&nbsp;&nbsp;  public double falseNegativeRate(int classIndex) {</div>
<div>3589&emsp;&emsp;</div>
<div>3590&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double incorrect = 0, total = 0;</div>
<div>3591&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int i = 0; i &#60; m_NumClasses; i++) {</div>
<div>3592&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (i == classIndex) {</div>
<div>3593&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        for (int j = 0; j &#60; m_NumClasses; j++) {</div>
<div>3594&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          if (j != classIndex) {</div>
<div>3595&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            incorrect += m_ConfusionMatrix[i][j];</div>
<div>3596&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>3597&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          total += m_ConfusionMatrix[i][j];</div>
<div>3598&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3599&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3600&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3601&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (total == 0) {</div>
<div>3602&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return 0;</div>
<div>3603&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3604&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return incorrect / total;</div>
<div>3605&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3606&emsp;&emsp;</div>
<div>3607&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3608&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) false negative rate.</div>
<div>3609&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3610&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted false negative rate.</div>
<div>3611&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3612&emsp;&emsp;&nbsp;&nbsp;  public double weightedFalseNegativeRate() {</div>
<div>3613&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>3614&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>3615&emsp;&emsp;</div>
<div>3616&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int i = 0; i &#60; m_NumClasses; i++) {</div>
<div>3617&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for (int j = 0; j &#60; m_NumClasses; j++) {</div>
<div>3618&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>3619&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3620&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>3621&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3622&emsp;&emsp;</div>
<div>3623&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double falseNegTotal = 0;</div>
<div>3624&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int i = 0; i &#60; m_NumClasses; i++) {</div>
<div>3625&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = falseNegativeRate(i);</div>
<div>3626&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      falseNegTotal += (temp * classCounts[i]);</div>
<div>3627&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3628&emsp;&emsp;</div>
<div>3629&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return falseNegTotal / classCountSum;</div>
<div>3630&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3631&emsp;&emsp;</div>
<div>3632&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3633&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the matthews correlation coefficient (sometimes called phi</div>
<div>3634&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * coefficient) for the supplied class</div>
<div>3635&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3636&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to compute the matthews</div>
<div>3637&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          correlation coefficient for</div>
<div>3638&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3639&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the mathews correlation coefficient</div>
<div>3640&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3641&emsp;&emsp;&nbsp;&nbsp;  public double matthewsCorrelationCoefficient(int classIndex) {</div>
<div>3642&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double numTP = numTruePositives(classIndex);</div>
<div>3643&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double numTN = numTrueNegatives(classIndex);</div>
<div>3644&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double numFP = numFalsePositives(classIndex);</div>
<div>3645&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double numFN = numFalseNegatives(classIndex);</div>
<div>3646&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double n = (numTP * numTN) - (numFP * numFN);</div>
<div>3647&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double d =</div>
<div>3648&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      (numTP + numFP) * (numTP + numFN) * (numTN + numFP) * (numTN + numFN);</div>
<div>3649&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    d = Math.sqrt(d);</div>
<div style="background-color:limegreen;">3650&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (d == 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3651&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      d = 1;</div>
<div>3652&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3653&emsp;&emsp;</div>
<div>3654&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return n / d;</div>
<div>3655&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3656&emsp;&emsp;</div>
<div>3657&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3658&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) matthews correlation coefficient.</div>
<div>3659&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3660&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted matthews correlation coefficient.</div>
<div>3661&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3662&emsp;&emsp;&nbsp;&nbsp;  public double weightedMatthewsCorrelation() {</div>
<div>3663&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>3664&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>3665&emsp;&emsp;</div>
<div style="background-color:limegreen;">3666&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3667&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3668&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>3669&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3670&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>3671&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3672&emsp;&emsp;</div>
<div>3673&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double mccTotal = 0;</div>
<div style="background-color:limegreen;">3674&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3675&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = matthewsCorrelationCoefficient(i);</div>
<div style="background-color:limegreen;">3676&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!Utils.isMissingValue(temp)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3677&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        mccTotal += (temp * classCounts[i]);</div>
<div>3678&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3679&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3680&emsp;&emsp;</div>
<div>3681&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return mccTotal / classCountSum;</div>
<div>3682&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3683&emsp;&emsp;</div>
<div>3684&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3685&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the recall with respect to a particular class. This is defined as</div>
<div>3686&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3687&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3688&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3689&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * correctly classified positives</div>
<div>3690&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * ------------------------------</div>
<div>3691&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *       total positives</div>
<div>3692&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3693&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3694&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * (Which is also the same as the truePositiveRate.)</div>
<div>3695&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3696&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3697&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the recall</div>
<div>3698&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3699&emsp;&emsp;&nbsp;&nbsp;  public double recall(int classIndex) {</div>
<div>3700&emsp;&emsp;</div>
<div>3701&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return truePositiveRate(classIndex);</div>
<div>3702&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3703&emsp;&emsp;</div>
<div>3704&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3705&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) recall.</div>
<div>3706&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3707&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted recall.</div>
<div>3708&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3709&emsp;&emsp;&nbsp;&nbsp;  public double weightedRecall() {</div>
<div>3710&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return weightedTruePositiveRate();</div>
<div>3711&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3712&emsp;&emsp;</div>
<div>3713&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3714&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the precision with respect to a particular class. This is defined</div>
<div>3715&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * as</div>
<div>3716&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3717&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3718&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3719&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * correctly classified positives</div>
<div>3720&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * ------------------------------</div>
<div>3721&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *  total predicted as positive</div>
<div>3722&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3723&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3724&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3725&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the precision</div>
<div>3726&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3727&emsp;&emsp;&nbsp;&nbsp;  public double precision(int classIndex) {</div>
<div>3728&emsp;&emsp;</div>
<div>3729&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double correct = 0, total = 0;</div>
<div style="background-color:limegreen;">3730&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3731&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (i == classIndex) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3732&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        correct += m_ConfusionMatrix[i][classIndex];</div>
<div>3733&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3734&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      total += m_ConfusionMatrix[i][classIndex];</div>
<div>3735&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">3736&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (total == 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3737&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return 0;</div>
<div>3738&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3739&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return correct / total;</div>
<div>3740&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3741&emsp;&emsp;</div>
<div>3742&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3743&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the weighted (by class size) precision.</div>
<div>3744&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3745&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted precision.</div>
<div>3746&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3747&emsp;&emsp;&nbsp;&nbsp;  public double weightedPrecision() {</div>
<div>3748&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>3749&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>3750&emsp;&emsp;</div>
<div style="background-color:limegreen;">3751&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3752&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3753&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>3754&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3755&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>3756&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3757&emsp;&emsp;</div>
<div>3758&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double precisionTotal = 0;</div>
<div style="background-color:limegreen;">3759&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3760&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = precision(i);</div>
<div>3761&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      precisionTotal += (temp * classCounts[i]);</div>
<div>3762&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3763&emsp;&emsp;</div>
<div>3764&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return precisionTotal / classCountSum;</div>
<div>3765&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3766&emsp;&emsp;</div>
<div>3767&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3768&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculate the F-Measure with respect to a particular class. This is defined</div>
<div>3769&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * as</div>
<div>3770&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;p/></div>
<div>3771&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3772&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;pre></div>
<div>3773&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * 2 * recall * precision</div>
<div>3774&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * ----------------------</div>
<div>3775&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *   recall + precision</div>
<div>3776&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * &#60;/pre></div>
<div>3777&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3778&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classIndex the index of the class to consider as "positive"</div>
<div>3779&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the F-Measure</div>
<div>3780&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3781&emsp;&emsp;&nbsp;&nbsp;  public double fMeasure(int classIndex) {</div>
<div>3782&emsp;&emsp;</div>
<div>3783&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double precision = precision(classIndex);</div>
<div>3784&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double recall = recall(classIndex);</div>
<div style="background-color:limegreen;">3785&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if ((precision + recall) == 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3786&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return 0;</div>
<div>3787&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3788&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 2 * precision * recall / (precision + recall);</div>
<div>3789&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3790&emsp;&emsp;</div>
<div>3791&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3792&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Calculates the macro weighted (by class size) average F-Measure.</div>
<div>3793&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3794&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted F-Measure.</div>
<div>3795&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3796&emsp;&emsp;&nbsp;&nbsp;  public double weightedFMeasure() {</div>
<div>3797&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] classCounts = new double[m_NumClasses];</div>
<div>3798&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classCountSum = 0;</div>
<div>3799&emsp;&emsp;</div>
<div style="background-color:limegreen;">3800&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3801&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int j = 0; j &#60; m_NumClasses; j++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3802&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        classCounts[i] += m_ConfusionMatrix[i][j];</div>
<div>3803&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3804&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classCountSum += classCounts[i];</div>
<div>3805&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3806&emsp;&emsp;</div>
<div>3807&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double fMeasureTotal = 0;</div>
<div style="background-color:limegreen;">3808&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3809&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double temp = fMeasure(i);</div>
<div>3810&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      fMeasureTotal += (temp * classCounts[i]);</div>
<div>3811&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3812&emsp;&emsp;</div>
<div>3813&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return fMeasureTotal / classCountSum;</div>
<div>3814&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3815&emsp;&emsp;</div>
<div>3816&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3817&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Unweighted macro-averaged F-measure. If some classes not present in the</div>
<div>3818&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * test set, they're just skipped (since recall is undefined there anyway) .</div>
<div>3819&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3820&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return unweighted macro-averaged F-measure.</div>
<div>3821&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * */</div>
<div>3822&emsp;&emsp;&nbsp;&nbsp;  public double unweightedMacroFmeasure() {</div>
<div>3823&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    weka.experiment.Stats rr = new weka.experiment.Stats();</div>
<div>3824&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int c = 0; c &#60; m_NumClasses; c++) {</div>
<div>3825&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // skip if no testing positive cases of this class</div>
<div>3826&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if (numTruePositives(c) + numFalseNegatives(c) > 0) {</div>
<div>3827&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        rr.add(fMeasure(c));</div>
<div>3828&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3829&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3830&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    rr.calculateDerived();</div>
<div>3831&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return rr.mean;</div>
<div>3832&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3833&emsp;&emsp;</div>
<div>3834&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3835&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Unweighted micro-averaged F-measure. If some classes not present in the</div>
<div>3836&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * test set, they have no effect.</div>
<div>3837&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3838&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Note: if the test set is *single-label*, then this is the same as accuracy.</div>
<div>3839&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3840&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return unweighted micro-averaged F-measure.</div>
<div>3841&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3842&emsp;&emsp;&nbsp;&nbsp;  public double unweightedMicroFmeasure() {</div>
<div>3843&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double tp = 0;</div>
<div>3844&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double fn = 0;</div>
<div>3845&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double fp = 0;</div>
<div>3846&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    for (int c = 0; c &#60; m_NumClasses; c++) {</div>
<div>3847&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      tp += numTruePositives(c);</div>
<div>3848&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      fn += numFalseNegatives(c);</div>
<div>3849&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      fp += numFalsePositives(c);</div>
<div>3850&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3851&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return 2 * tp / (2 * tp + fn + fp);</div>
<div>3852&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3853&emsp;&emsp;</div>
<div>3854&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3855&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Sets the class prior probabilities.</div>
<div>3856&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3857&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param train the training instances used to determine the prior</div>
<div>3858&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          probabilities</div>
<div>3859&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class attribute of the instances is not set</div>
<div>3860&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3861&emsp;&emsp;&nbsp;&nbsp;  public void setPriors(Instances train) throws Exception {</div>
<div>3862&emsp;&emsp;</div>
<div>3863&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_NoPriors = false;</div>
<div>3864&emsp;&emsp;</div>
<div style="background-color:limegreen;">3865&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3866&emsp;&emsp;</div>
<div>3867&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_NumTrainClassVals = 0;</div>
<div>3868&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_TrainClassVals = null;</div>
<div>3869&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_TrainClassWeights = null;</div>
<div>3870&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_PriorEstimator = null;</div>
<div>3871&emsp;&emsp;</div>
<div>3872&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_MinTarget = Double.MAX_VALUE;</div>
<div>3873&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_MaxTarget = -Double.MAX_VALUE;</div>
<div>3874&emsp;&emsp;</div>
<div style="background-color:limegreen;">3875&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; train.numInstances(); i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3876&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Instance currentInst = train.instance(i);</div>
<div style="background-color:limegreen;">3877&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (!currentInst.classIsMissing()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3878&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          addNumericTrainClass(currentInst.classValue(), currentInst.weight());</div>
<div>3879&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3880&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3881&emsp;&emsp;</div>
<div>3882&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_ClassPriors[0] = m_ClassPriorsSum = 0;</div>
<div style="background-color:limegreen;">3883&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; train.numInstances(); i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3884&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (!train.instance(i).classIsMissing()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3885&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_ClassPriors[0] +=</div>
<div>3886&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            train.instance(i).classValue() * train.instance(i).weight();</div>
<div>3887&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_ClassPriorsSum += train.instance(i).weight();</div>
<div>3888&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3889&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3890&emsp;&emsp;</div>
<div>3891&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div style="background-color:limegreen;">3892&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3893&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_ClassPriors[i] = 1;</div>
<div>3894&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3895&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_ClassPriorsSum = m_NumClasses;</div>
<div style="background-color:limegreen;">3896&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; train.numInstances(); i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3897&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (!train.instance(i).classIsMissing()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3898&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_ClassPriors[(int) train.instance(i).classValue()] +=</div>
<div>3899&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            train.instance(i).weight();</div>
<div>3900&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_ClassPriorsSum += train.instance(i).weight();</div>
<div>3901&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>3902&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3903&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_MaxTarget = m_NumClasses;</div>
<div>3904&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_MinTarget = 0;</div>
<div>3905&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3906&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3907&emsp;&emsp;</div>
<div>3908&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3909&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Get the current weighted class counts.</div>
<div>3910&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3911&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the weighted class counts</div>
<div>3912&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3913&emsp;&emsp;&nbsp;&nbsp;  public double[] getClassPriors() {</div>
<div>3914&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return m_ClassPriors;</div>
<div>3915&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3916&emsp;&emsp;</div>
<div>3917&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3918&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Updates the class prior probabilities or the mean respectively (when</div>
<div>3919&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * incrementally training).</div>
<div>3920&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3921&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the new training instance seen</div>
<div>3922&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class of the instance is not set</div>
<div>3923&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3924&emsp;&emsp;&nbsp;&nbsp;  public void updatePriors(Instance instance) throws Exception {</div>
<div style="background-color:limegreen;">3925&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!instance.classIsMissing()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">3926&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (!m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>3927&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        addNumericTrainClass(instance.classValue(), instance.weight());</div>
<div>3928&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_ClassPriors[0] += instance.classValue() * instance.weight();</div>
<div>3929&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_ClassPriorsSum += instance.weight();</div>
<div>3930&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>3931&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_ClassPriors[(int) instance.classValue()] += instance.weight();</div>
<div>3932&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_ClassPriorsSum += instance.weight();</div>
<div>3933&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>3934&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3935&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3936&emsp;&emsp;</div>
<div>3937&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3938&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * disables the use of priors, e.g., in case of de-serialized schemes that</div>
<div>3939&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * have no access to the original training set, but are evaluated on a set</div>
<div>3940&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * set.</div>
<div>3941&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3942&emsp;&emsp;&nbsp;&nbsp;  public void useNoPriors() {</div>
<div>3943&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_NoPriors = true;</div>
<div>3944&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>3945&emsp;&emsp;</div>
<div>3946&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>3947&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Tests whether the current evaluation object is equal to another evaluation</div>
<div>3948&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * object.</div>
<div>3949&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>3950&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param obj the object to compare against</div>
<div>3951&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return true if the two objects are equal</div>
<div>3952&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>3953&emsp;&emsp;&nbsp;&nbsp;  @Override</div>
<div>3954&emsp;&emsp;&nbsp;&nbsp;  public boolean equals(Object obj) {</div>
<div>3955&emsp;&emsp;</div>
<div>3956&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if ((obj == null) || !(obj.getClass().equals(this.getClass()))) {</div>
<div>3957&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3958&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3959&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Evaluation cmp = (Evaluation) obj;</div>
<div>3960&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_ClassIsNominal != cmp.m_ClassIsNominal) {</div>
<div>3961&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3962&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3963&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_NumClasses != cmp.m_NumClasses) {</div>
<div>3964&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3965&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3966&emsp;&emsp;</div>
<div>3967&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_Incorrect != cmp.m_Incorrect) {</div>
<div>3968&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3969&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3970&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_Correct != cmp.m_Correct) {</div>
<div>3971&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3972&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3973&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_Unclassified != cmp.m_Unclassified) {</div>
<div>3974&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3975&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3976&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_MissingClass != cmp.m_MissingClass) {</div>
<div>3977&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3978&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3979&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_WithClass != cmp.m_WithClass) {</div>
<div>3980&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3981&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3982&emsp;&emsp;</div>
<div>3983&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_SumErr != cmp.m_SumErr) {</div>
<div>3984&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3985&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3986&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_SumAbsErr != cmp.m_SumAbsErr) {</div>
<div>3987&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3988&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3989&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_SumSqrErr != cmp.m_SumSqrErr) {</div>
<div>3990&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3991&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3992&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_SumClass != cmp.m_SumClass) {</div>
<div>3993&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3994&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3995&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_SumSqrClass != cmp.m_SumSqrClass) {</div>
<div>3996&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>3997&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>3998&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_SumPredicted != cmp.m_SumPredicted) {</div>
<div>3999&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>4000&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4001&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_SumSqrPredicted != cmp.m_SumSqrPredicted) {</div>
<div>4002&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>4003&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4004&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_SumClassPredicted != cmp.m_SumClassPredicted) {</div>
<div>4005&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return false;</div>
<div>4006&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4007&emsp;&emsp;</div>
<div>4008&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    if (m_ClassIsNominal) {</div>
<div>4009&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for (int i = 0; i &#60; m_NumClasses; i++) {</div>
<div>4010&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        for (int j = 0; j &#60; m_NumClasses; j++) {</div>
<div>4011&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          if (m_ConfusionMatrix[i][j] != cmp.m_ConfusionMatrix[i][j]) {</div>
<div>4012&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            return false;</div>
<div>4013&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>4014&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4015&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4016&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4017&emsp;&emsp;</div>
<div>4018&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return true;</div>
<div>4019&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4020&emsp;&emsp;</div>
<div>4021&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4022&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Make up the help string giving all the command line options.</div>
<div>4023&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4024&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier the classifier to include options for</div>
<div>4025&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param globalInfo include the global information string for the classifier</div>
<div>4026&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          (if available).</div>
<div>4027&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return a string detailing the valid command line options</div>
<div>4028&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4029&emsp;&emsp;&nbsp;&nbsp;  protected static String makeOptionString(Classifier classifier,</div>
<div>4030&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    boolean globalInfo) {</div>
<div>4031&emsp;&emsp;</div>
<div>4032&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    StringBuffer optionsText = new StringBuffer("");</div>
<div>4033&emsp;&emsp;</div>
<div>4034&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // General options</div>
<div>4035&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\n\nGeneral options:\n\n");</div>
<div>4036&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-h or -help\n");</div>
<div>4037&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tOutput help information.\n");</div>
<div>4038&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-synopsis or -info\n");</div>
<div>4039&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tOutput synopsis for classifier (use in conjunction "</div>
<div>4040&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      + " with -h)\n");</div>
<div>4041&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-t &#60;name of training file>\n");</div>
<div>4042&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tSets training file.\n");</div>
<div>4043&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-T &#60;name of test file>\n");</div>
<div>4044&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4045&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tSets test file. If missing, a cross-validation will be performed\n");</div>
<div>4046&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\ton the training data.\n");</div>
<div>4047&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-c &#60;class index>\n");</div>
<div>4048&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tSets index of class attribute (default: last).\n");</div>
<div>4049&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-x &#60;number of folds>\n");</div>
<div>4050&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4051&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tSets number of folds for cross-validation (default: 10).\n");</div>
<div>4052&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-no-cv\n");</div>
<div>4053&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tDo not perform any cross validation.\n");</div>
<div>4054&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-force-batch-training\n");</div>
<div>4055&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4056&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tAlways train classifier in batch mode, never incrementally.\n");</div>
<div>4057&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-split-percentage &#60;percentage>\n");</div>
<div>4058&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4059&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tSets the percentage for the train/test set split, e.g., 66.\n");</div>
<div>4060&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-preserve-order\n");</div>
<div>4061&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tPreserves the order in the percentage split.\n");</div>
<div>4062&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-s &#60;random number seed>\n");</div>
<div>4063&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4064&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tSets random number seed for cross-validation or percentage split\n");</div>
<div>4065&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\t(default: 1).\n");</div>
<div>4066&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-m &#60;name of file with cost matrix>\n");</div>
<div>4067&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tSets file with cost matrix.\n");</div>
<div>4068&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4069&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("-toggle &#60;comma-separated list of evaluation metric names>\n");</div>
<div>4070&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4071&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tComma separated list of metric names to toggle in the output.\n\t"</div>
<div>4072&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + "All metrics are output by default with the exception of 'Coverage' and "</div>
<div>4073&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + "'Region size'.\n\t");</div>
<div>4074&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("Available metrics:\n\t");</div>
<div>4075&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    List&#60;String> metricsToDisplay =</div>
<div>4076&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      new ArrayList&#60;String>(Arrays.asList(BUILT_IN_EVAL_METRICS));</div>
<div>4077&emsp;&emsp;</div>
<div>4078&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    List&#60;AbstractEvaluationMetric> pluginMetrics =</div>
<div>4079&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      AbstractEvaluationMetric.getPluginMetrics();</div>
<div style="background-color:limegreen;">4080&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4081&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (AbstractEvaluationMetric m : pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4082&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m instanceof InformationRetrievalEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4083&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          List&#60;String> statNames = m.getStatisticNames();</div>
<div style="background-color:limegreen;">4084&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>          for (String s : statNames) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4085&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            metricsToDisplay.add(s.toLowerCase());</div>
<div>4086&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          }</div>
<div>4087&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>4088&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          metricsToDisplay.add(m.getMetricName().toLowerCase());</div>
<div>4089&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4090&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4091&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4092&emsp;&emsp;</div>
<div>4093&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int length = 0;</div>
<div style="background-color:limegreen;">4094&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; metricsToDisplay.size(); i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4095&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      optionsText.append(metricsToDisplay.get(i));</div>
<div>4096&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      length += metricsToDisplay.get(i).length();</div>
<div style="background-color:limegreen;">4097&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (i != metricsToDisplay.size() - 1) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4098&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        optionsText.append(",");</div>
<div>4099&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div style="background-color:limegreen;">4100&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (length >= 60) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4101&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        optionsText.append("\n\t");</div>
<div>4102&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        length = 0;</div>
<div>4103&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4104&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4105&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\n");</div>
<div>4106&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-l &#60;name of input file>\n");</div>
<div>4107&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4108&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tSets model input file. In case the filename ends with '.xml',\n");</div>
<div>4109&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4110&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\ta PMML file is loaded or, if that fails, options are loaded\n");</div>
<div>4111&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tfrom the XML file.\n");</div>
<div>4112&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-d &#60;name of output file>\n");</div>
<div>4113&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4114&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tSets model output file. In case the filename ends with '.xml',\n");</div>
<div>4115&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4116&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tonly the options are saved to the XML file, not the model.\n");</div>
<div>4117&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-v\n");</div>
<div>4118&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tOutputs no statistics for training data.\n");</div>
<div>4119&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-o\n");</div>
<div>4120&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tOutputs statistics only, not the classifier.\n");</div>
<div>4121&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-do-not-output-per-class-statistics\n");</div>
<div>4122&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tDo not output statistics for each class.\n");</div>
<div>4123&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-k\n");</div>
<div>4124&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tOutputs information-theoretic statistics.\n");</div>
<div>4125&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4126&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("-classifications \"weka.classifiers.evaluation.output.prediction.AbstractOutput + options\"\n");</div>
<div>4127&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4128&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tUses the specified class for generating the classification output.\n");</div>
<div>4129&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tE.g.: " + PlainText.class.getName() + "\n");</div>
<div>4130&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-p range\n");</div>
<div>4131&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4132&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tOutputs predictions for test instances (or the train instances if\n");</div>
<div>4133&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4134&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tno test instances provided and -no-cv is used), along with the \n");</div>
<div>4135&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4136&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tattributes in the specified range (and nothing else). \n");</div>
<div>4137&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tUse '-p 0' if no attributes are desired.\n");</div>
<div>4138&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tDeprecated: use \"-classifications ...\" instead.\n");</div>
<div>4139&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-distribution\n");</div>
<div>4140&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4141&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tOutputs the distribution instead of only the prediction\n");</div>
<div>4142&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4143&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tin conjunction with the '-p' option (only nominal classes).\n");</div>
<div>4144&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tDeprecated: use \"-classifications ...\" instead.\n");</div>
<div>4145&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-r\n");</div>
<div>4146&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("\tOnly outputs cumulative margin distribution.\n");</div>
<div style="background-color:limegreen;">4147&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classifier instanceof Sourcable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4148&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      optionsText.append("-z &#60;class name>\n");</div>
<div>4149&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      optionsText.append("\tOnly outputs the source representation"</div>
<div>4150&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + " of the classifier,\n\tgiving it the supplied" + " name.\n");</div>
<div>4151&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">4152&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classifier instanceof Drawable) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4153&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      optionsText.append("-g\n");</div>
<div>4154&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      optionsText.append("\tOnly outputs the graph representation"</div>
<div>4155&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + " of the classifier.\n");</div>
<div>4156&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4157&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-xml filename | xml-string\n");</div>
<div>4158&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4159&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tRetrieves the options from the XML-data instead of the "</div>
<div>4160&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + "command line.\n");</div>
<div>4161&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-threshold-file &#60;file>\n");</div>
<div>4162&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4163&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tThe file to save the threshold data to.\n"</div>
<div>4164&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + "\tThe format is determined by the extensions, e.g., '.arff' for ARFF \n"</div>
<div>4165&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + "\tformat or '.csv' for CSV.\n");</div>
<div>4166&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-threshold-label &#60;label>\n");</div>
<div>4167&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4168&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tThe class label to determine the threshold data for\n"</div>
<div>4169&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + "\t(default is the first label)\n");</div>
<div>4170&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText.append("-no-predictions\n");</div>
<div>4171&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    optionsText</div>
<div>4172&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      .append("\tTurns off the collection of predictions in order to conserve memory.\n");</div>
<div>4173&emsp;&emsp;</div>
<div>4174&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Get scheme-specific options</div>
<div style="background-color:limegreen;">4175&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classifier instanceof OptionHandler) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4176&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      optionsText.append("\nOptions specific to "</div>
<div>4177&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        + classifier.getClass().getName() + ":\n\n");</div>
<div>4178&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Enumeration&#60;Option> enu = ((OptionHandler) classifier).listOptions();</div>
<div style="background-color:limegreen;">4179&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      while (enu.hasMoreElements()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4180&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Option option = enu.nextElement();</div>
<div>4181&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        optionsText.append(option.synopsis() + '\n');</div>
<div>4182&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        optionsText.append(option.description() + "\n");</div>
<div>4183&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4184&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4185&emsp;&emsp;</div>
<div>4186&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Get global information (if available)</div>
<div style="background-color:limegreen;">4187&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (globalInfo) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4188&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      try {</div>
<div>4189&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        String gi = getGlobalInfo(classifier);</div>
<div>4190&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        optionsText.append(gi);</div>
<div>4191&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } catch (Exception ex) {</div>
<div>4192&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        // quietly ignore</div>
<div>4193&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4194&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4195&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return optionsText.toString();</div>
<div>4196&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4197&emsp;&emsp;</div>
<div>4198&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4199&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Return the global info (if it exists) for the supplied classifier.</div>
<div>4200&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4201&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier the classifier to get the global info for</div>
<div>4202&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the global info (synopsis) for the classifier</div>
<div>4203&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if there is a problem reflecting on the classifier</div>
<div>4204&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4205&emsp;&emsp;&nbsp;&nbsp;  protected static String getGlobalInfo(Classifier classifier) throws Exception {</div>
<div>4206&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    BeanInfo bi = Introspector.getBeanInfo(classifier.getClass());</div>
<div>4207&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    MethodDescriptor[] methods;</div>
<div>4208&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    methods = bi.getMethodDescriptors();</div>
<div>4209&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Object[] args = {};</div>
<div>4210&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    String result =</div>
<div>4211&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      "\nSynopsis for " + classifier.getClass().getName() + ":\n\n";</div>
<div>4212&emsp;&emsp;</div>
<div style="background-color:limegreen;">4213&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (MethodDescriptor method : methods) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4214&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      String name = method.getDisplayName();</div>
<div>4215&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Method meth = method.getMethod();</div>
<div style="background-color:limegreen;">4216&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (name.equals("globalInfo")) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4217&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        String globalInfo = (String) (meth.invoke(classifier, args));</div>
<div>4218&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        result += globalInfo;</div>
<div>4219&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        break;</div>
<div>4220&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4221&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4222&emsp;&emsp;</div>
<div>4223&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return result;</div>
<div>4224&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4225&emsp;&emsp;</div>
<div>4226&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4227&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Method for generating indices for the confusion matrix.</div>
<div>4228&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4229&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param num integer to format</div>
<div>4230&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param IDChars the characters to use</div>
<div>4231&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param IDWidth the width of the entry</div>
<div>4232&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the formatted integer as a string</div>
<div>4233&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4234&emsp;&emsp;&nbsp;&nbsp;  protected String num2ShortID(int num, char[] IDChars, int IDWidth) {</div>
<div>4235&emsp;&emsp;</div>
<div>4236&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    char ID[] = new char[IDWidth];</div>
<div>4237&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int i;</div>
<div>4238&emsp;&emsp;</div>
<div style="background-color:limegreen;">4239&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (i = IDWidth - 1; i >= 0; i--) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4240&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      ID[i] = IDChars[num % IDChars.length];</div>
<div>4241&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      num = num / IDChars.length - 1;</div>
<div style="background-color:limegreen;">4242&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (num &#60; 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4243&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        break;</div>
<div>4244&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4245&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">4246&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (i--; i >= 0; i--) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4247&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      ID[i] = ' ';</div>
<div>4248&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4249&emsp;&emsp;</div>
<div>4250&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return new String(ID);</div>
<div>4251&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4252&emsp;&emsp;</div>
<div>4253&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4254&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Convert a single prediction into a probability distribution with all zero</div>
<div>4255&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * probabilities except the predicted value which has probability 1.0.</div>
<div>4256&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4257&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param predictedClass the index of the predicted class</div>
<div>4258&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the probability distribution</div>
<div>4259&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4260&emsp;&emsp;&nbsp;&nbsp;  protected double[] makeDistribution(double predictedClass) {</div>
<div>4261&emsp;&emsp;</div>
<div>4262&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[] result = new double[m_NumClasses];</div>
<div style="background-color:limegreen;">4263&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (Utils.isMissingValue(predictedClass)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4264&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      return result;</div>
<div>4265&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">4266&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_ClassIsNominal) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4267&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      result[(int) predictedClass] = 1.0;</div>
<div>4268&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>4269&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      result[0] = predictedClass;</div>
<div>4270&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4271&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return result;</div>
<div>4272&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4273&emsp;&emsp;</div>
<div>4274&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4275&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Updates all the statistics about a classifiers performance for the current</div>
<div>4276&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * test instance.</div>
<div>4277&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4278&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param predictedDistribution the probabilities assigned to each class</div>
<div>4279&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the instance to be classified</div>
<div>4280&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class of the instance is not set</div>
<div>4281&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4282&emsp;&emsp;&nbsp;&nbsp;  protected void updateStatsForClassifier(double[] predictedDistribution,</div>
<div>4283&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Instance instance) throws Exception {</div>
<div>4284&emsp;&emsp;</div>
<div>4285&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int actualClass = (int) instance.classValue();</div>
<div>4286&emsp;&emsp;</div>
<div style="background-color:limegreen;">4287&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!instance.classIsMissing()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4288&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      updateMargins(predictedDistribution, actualClass, instance.weight());</div>
<div>4289&emsp;&emsp;</div>
<div>4290&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Determine the predicted class (doesn't detect multiple</div>
<div>4291&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // classifications)</div>
<div>4292&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      int predictedClass = -1;</div>
<div>4293&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double bestProb = 0.0;</div>
<div style="background-color:limegreen;">4294&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4295&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (predictedDistribution[i] > bestProb) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4296&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          predictedClass = i;</div>
<div>4297&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          bestProb = predictedDistribution[i];</div>
<div>4298&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4299&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4300&emsp;&emsp;</div>
<div>4301&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_WithClass += instance.weight();</div>
<div>4302&emsp;&emsp;</div>
<div>4303&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Determine misclassification cost</div>
<div style="background-color:limegreen;">4304&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (m_CostMatrix != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4305&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (predictedClass &#60; 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4306&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // For missing predictions, we assume the worst possible cost.</div>
<div>4307&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // This is pretty harsh.</div>
<div>4308&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // Perhaps we could take the negative of the cost of a correct</div>
<div>4309&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // prediction (-m_CostMatrix.getElement(actualClass,actualClass)),</div>
<div>4310&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          // although often this will be zero</div>
<div>4311&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_TotalCost +=</div>
<div>4312&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            instance.weight() * m_CostMatrix.getMaxCost(actualClass, instance);</div>
<div>4313&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        } else {</div>
<div>4314&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_TotalCost +=</div>
<div>4315&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            instance.weight()</div>
<div>4316&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              * m_CostMatrix.getElement(actualClass, predictedClass, instance);</div>
<div>4317&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4318&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4319&emsp;&emsp;</div>
<div>4320&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Update counts when no class was predicted</div>
<div style="background-color:limegreen;">4321&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (predictedClass &#60; 0) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4322&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_Unclassified += instance.weight();</div>
<div>4323&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        return;</div>
<div>4324&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4325&emsp;&emsp;</div>
<div>4326&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double predictedProb =</div>
<div>4327&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Math.max(MIN_SF_PROB, predictedDistribution[actualClass]);</div>
<div>4328&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double priorProb =</div>
<div>4329&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Math.max(MIN_SF_PROB, m_ClassPriors[actualClass] / m_ClassPriorsSum);</div>
<div style="background-color:limegreen;">4330&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (predictedProb >= priorProb) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4331&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_SumKBInfo +=</div>
<div>4332&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          (Utils.log2(predictedProb) - Utils.log2(priorProb))</div>
<div>4333&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            * instance.weight();</div>
<div>4334&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>4335&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_SumKBInfo -=</div>
<div>4336&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          (Utils.log2(1.0 - predictedProb) - Utils.log2(1.0 - priorProb))</div>
<div>4337&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            * instance.weight();</div>
<div>4338&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4339&emsp;&emsp;</div>
<div>4340&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumSchemeEntropy -= Utils.log2(predictedProb) * instance.weight();</div>
<div>4341&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumPriorEntropy -= Utils.log2(priorProb) * instance.weight();</div>
<div>4342&emsp;&emsp;</div>
<div>4343&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      updateNumericScores(predictedDistribution,</div>
<div>4344&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        makeDistribution(instance.classValue()), instance.weight());</div>
<div>4345&emsp;&emsp;</div>
<div>4346&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Update coverage stats</div>
<div>4347&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      int[] indices = Utils.stableSort(predictedDistribution);</div>
<div>4348&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double sum = 0, sizeOfRegions = 0;</div>
<div style="background-color:limegreen;">4349&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (int i = predictedDistribution.length - 1; i >= 0; i--) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4350&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (sum >= m_ConfLevel) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4351&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          break;</div>
<div>4352&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4353&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        sum += predictedDistribution[indices[i]];</div>
<div>4354&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        sizeOfRegions++;</div>
<div style="background-color:limegreen;">4355&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (actualClass == indices[i]) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4356&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          m_TotalCoverage += instance.weight();</div>
<div>4357&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4358&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4359&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_TotalSizeOfRegions += instance.weight() * sizeOfRegions / (m_MaxTarget - m_MinTarget);</div>
<div>4360&emsp;&emsp;</div>
<div>4361&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Update other stats</div>
<div>4362&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_ConfusionMatrix[actualClass][predictedClass] += instance.weight();</div>
<div style="background-color:limegreen;">4363&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (predictedClass != actualClass) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4364&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_Incorrect += instance.weight();</div>
<div>4365&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      } else {</div>
<div>4366&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_Correct += instance.weight();</div>
<div>4367&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4368&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>4369&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_MissingClass += instance.weight();</div>
<div>4370&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4371&emsp;&emsp;</div>
<div style="background-color:limegreen;">4372&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4373&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4374&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m instanceof StandardEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4375&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          ((StandardEvaluationMetric) m).updateStatsForClassifier(</div>
<div>4376&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            predictedDistribution, instance);</div>
<div style="background-color:limegreen;">4377&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        } else if (m instanceof InformationRetrievalEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4378&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          ((InformationRetrievalEvaluationMetric) m).updateStatsForClassifier(</div>
<div>4379&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            predictedDistribution, instance);</div>
<div style="background-color:limegreen;">4380&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        } else if (m instanceof InformationTheoreticEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4381&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          ((InformationTheoreticEvaluationMetric) m).updateStatsForClassifier(</div>
<div>4382&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            predictedDistribution, instance);</div>
<div>4383&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4384&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4385&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4386&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4387&emsp;&emsp;</div>
<div>4388&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4389&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Updates stats for interval estimator based on current test instance.</div>
<div>4390&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4391&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier the interval estimator</div>
<div>4392&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classMissing the instance for which the intervals are computed,</div>
<div>4393&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          without a class value</div>
<div>4394&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classValue the class value of this instance</div>
<div>4395&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if intervals could not be computed successfully</div>
<div>4396&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4397&emsp;&emsp;&nbsp;&nbsp;  protected void updateStatsForIntervalEstimator(IntervalEstimator classifier,</div>
<div>4398&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Instance classMissing, double classValue) throws Exception {</div>
<div>4399&emsp;&emsp;</div>
<div>4400&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double[][] preds = classifier.predictIntervals(classMissing, m_ConfLevel);</div>
<div style="background-color:limegreen;">4401&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_Predictions != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4402&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      ((NumericPrediction) m_Predictions.get(m_Predictions.size() - 1))</div>
<div>4403&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        .setPredictionIntervals(preds);</div>
<div>4404&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">4405&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (double[] pred : preds) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4406&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_TotalSizeOfRegions += classMissing.weight() * (pred[1] - pred[0]) / (m_MaxTarget - m_MinTarget);</div>
<div>4407&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">4408&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (double[] pred : preds) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4409&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if ((pred[1] >= classValue) && (pred[0] &#60;= classValue)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4410&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_TotalCoverage += classMissing.weight();</div>
<div>4411&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        break;</div>
<div>4412&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4413&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4414&emsp;&emsp;</div>
<div style="background-color:limegreen;">4415&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4416&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4417&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m instanceof IntervalBasedEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4418&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          ((IntervalBasedEvaluationMetric) m).updateStatsForIntervalEstimator(</div>
<div>4419&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            classifier, classMissing, classValue);</div>
<div>4420&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4421&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4422&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4423&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4424&emsp;&emsp;</div>
<div>4425&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4426&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Updates stats for conditional density estimator based on current test</div>
<div>4427&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * instance.</div>
<div>4428&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4429&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classifier the conditional density estimator</div>
<div>4430&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classMissing the instance for which density is to be computed,</div>
<div>4431&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          without a class value</div>
<div>4432&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classValue the class value of this instance</div>
<div>4433&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if density could not be computed successfully</div>
<div>4434&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4435&emsp;&emsp;&nbsp;&nbsp;  protected void updateStatsForConditionalDensityEstimator(</div>
<div>4436&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    ConditionalDensityEstimator classifier, Instance classMissing,</div>
<div>4437&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double classValue) throws Exception {</div>
<div>4438&emsp;&emsp;</div>
<div style="background-color:limegreen;">4439&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_PriorEstimator == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4440&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      setNumericPriorsFromBuffer();</div>
<div>4441&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4442&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_SumSchemeEntropy -=</div>
<div>4443&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      classifier.logDensity(classMissing, classValue) * classMissing.weight()</div>
<div>4444&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        / Utils.log2;</div>
<div>4445&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_SumPriorEntropy -=</div>
<div>4446&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_PriorEstimator.logDensity(classValue) * classMissing.weight()</div>
<div>4447&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        / Utils.log2;</div>
<div>4448&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4449&emsp;&emsp;</div>
<div>4450&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4451&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Updates all the statistics about a predictors performance for the current</div>
<div>4452&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * test instance.</div>
<div>4453&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4454&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param predictedValue the numeric value the classifier predicts</div>
<div>4455&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param instance the instance to be classified</div>
<div>4456&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @throws Exception if the class of the instance is not set</div>
<div>4457&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4458&emsp;&emsp;&nbsp;&nbsp;  protected void updateStatsForPredictor(double predictedValue,</div>
<div>4459&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    Instance instance) throws Exception {</div>
<div>4460&emsp;&emsp;</div>
<div style="background-color:limegreen;">4461&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (!instance.classIsMissing()) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4462&emsp;&emsp;</div>
<div>4463&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      // Update stats</div>
<div>4464&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_WithClass += instance.weight();</div>
<div style="background-color:limegreen;">4465&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if (Utils.isMissingValue(predictedValue)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4466&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_Unclassified += instance.weight();</div>
<div>4467&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        return;</div>
<div>4468&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4469&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumClass += instance.weight() * instance.classValue();</div>
<div>4470&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumSqrClass +=</div>
<div>4471&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        instance.weight() * instance.classValue() * instance.classValue();</div>
<div>4472&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumClassPredicted +=</div>
<div>4473&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        instance.weight() * instance.classValue() * predictedValue;</div>
<div>4474&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumPredicted += instance.weight() * predictedValue;</div>
<div>4475&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_SumSqrPredicted += instance.weight() * predictedValue * predictedValue;</div>
<div>4476&emsp;&emsp;</div>
<div>4477&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      updateNumericScores(makeDistribution(predictedValue),</div>
<div>4478&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        makeDistribution(instance.classValue()), instance.weight());</div>
<div>4479&emsp;&emsp;</div>
<div>4480&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    } else {</div>
<div>4481&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_MissingClass += instance.weight();</div>
<div>4482&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4483&emsp;&emsp;</div>
<div style="background-color:limegreen;">4484&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_pluginMetrics != null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4485&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      for (AbstractEvaluationMetric m : m_pluginMetrics) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4486&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        if (m instanceof StandardEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4487&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          ((StandardEvaluationMetric) m).updateStatsForPredictor(</div>
<div>4488&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            predictedValue, instance);</div>
<div style="background-color:limegreen;">4489&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>        } else if (m instanceof InformationTheoreticEvaluationMetric) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4490&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          ((InformationTheoreticEvaluationMetric) m).updateStatsForPredictor(</div>
<div>4491&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            predictedValue, instance);</div>
<div>4492&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        }</div>
<div>4493&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4494&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4495&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4496&emsp;&emsp;</div>
<div>4497&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4498&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Update the cumulative record of classification margins.</div>
<div>4499&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4500&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param predictedDistribution the probability distribution predicted for the</div>
<div>4501&emsp;&emsp;&nbsp;&nbsp;&nbsp;   *          current instance</div>
<div>4502&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param actualClass the index of the actual instance class</div>
<div>4503&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param weight the weight assigned to the instance</div>
<div>4504&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4505&emsp;&emsp;&nbsp;&nbsp;  protected void updateMargins(double[] predictedDistribution, int actualClass,</div>
<div>4506&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double weight) {</div>
<div>4507&emsp;&emsp;</div>
<div>4508&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double probActual = predictedDistribution[actualClass];</div>
<div>4509&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double probNext = 0;</div>
<div>4510&emsp;&emsp;</div>
<div style="background-color:limegreen;">4511&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div style="background-color:limegreen;">4512&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>      if ((i != actualClass) && (predictedDistribution[i] > probNext)) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES] & [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4513&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        probNext = predictedDistribution[i];</div>
<div>4514&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</div>
<div>4515&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4516&emsp;&emsp;</div>
<div>4517&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double margin = probActual - probNext;</div>
<div>4518&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    int bin = (int) ((margin + 1.0) / 2.0 * k_MarginResolution);</div>
<div>4519&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_MarginCounts[bin] += weight;</div>
<div>4520&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4521&emsp;&emsp;</div>
<div>4522&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4523&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Update the numeric accuracy measures. For numeric classes, the accuracy is</div>
<div>4524&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * between the actual and predicted class values. For nominal classes, the</div>
<div>4525&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * accuracy is between the actual and predicted class probabilities.</div>
<div>4526&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4527&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param predicted the predicted values</div>
<div>4528&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param actual the actual value</div>
<div>4529&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param weight the weight associated with this prediction</div>
<div>4530&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4531&emsp;&emsp;&nbsp;&nbsp;  protected void updateNumericScores(double[] predicted, double[] actual,</div>
<div>4532&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double weight) {</div>
<div>4533&emsp;&emsp;</div>
<div>4534&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double diff;</div>
<div>4535&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double sumErr = 0, sumAbsErr = 0, sumSqrErr = 0;</div>
<div>4536&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    double sumPriorAbsErr = 0, sumPriorSqrErr = 0;</div>
<div style="background-color:limegreen;">4537&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumClasses; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4538&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      diff = predicted[i] - actual[i];</div>
<div>4539&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      sumErr += diff;</div>
<div>4540&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      sumAbsErr += Math.abs(diff);</div>
<div>4541&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      sumSqrErr += diff * diff;</div>
<div>4542&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      diff = (m_ClassPriors[i] / m_ClassPriorsSum) - actual[i];</div>
<div>4543&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      sumPriorAbsErr += Math.abs(diff);</div>
<div>4544&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      sumPriorSqrErr += diff * diff;</div>
<div>4545&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4546&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_SumErr += weight * sumErr / m_NumClasses;</div>
<div>4547&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_SumAbsErr += weight * sumAbsErr / m_NumClasses;</div>
<div>4548&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_SumSqrErr += weight * sumSqrErr / m_NumClasses;</div>
<div>4549&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_SumPriorAbsErr += weight * sumPriorAbsErr / m_NumClasses;</div>
<div>4550&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_SumPriorSqrErr += weight * sumPriorSqrErr / m_NumClasses;</div>
<div>4551&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4552&emsp;&emsp;</div>
<div>4553&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4554&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Adds a numeric (non-missing) training class value and weight to the buffer</div>
<div>4555&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * of stored values. Also updates minimum and maximum target value.</div>
<div>4556&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4557&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param classValue the class value</div>
<div>4558&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @param weight the instance weight</div>
<div>4559&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4560&emsp;&emsp;&nbsp;&nbsp;  protected void addNumericTrainClass(double classValue, double weight) {</div>
<div>4561&emsp;&emsp;</div>
<div>4562&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Update minimum and maximum target value</div>
<div style="background-color:limegreen;">4563&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classValue > m_MaxTarget) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4564&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_MaxTarget = classValue;</div>
<div>4565&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">4566&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (classValue &#60; m_MinTarget) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4567&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_MinTarget = classValue;</div>
<div>4568&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4569&emsp;&emsp;</div>
<div>4570&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    // Update buffer</div>
<div style="background-color:limegreen;">4571&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_TrainClassVals == null) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4572&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_TrainClassVals = new double[100];</div>
<div>4573&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_TrainClassWeights = new double[100];</div>
<div>4574&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div style="background-color:limegreen;">4575&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    if (m_NumTrainClassVals == m_TrainClassVals.length) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4576&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      double[] temp = new double[m_TrainClassVals.length * 2];</div>
<div>4577&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      System.arraycopy(m_TrainClassVals, 0, temp, 0, m_TrainClassVals.length);</div>
<div>4578&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_TrainClassVals = temp;</div>
<div>4579&emsp;&emsp;</div>
<div>4580&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      temp = new double[m_TrainClassWeights.length * 2];</div>
<div>4581&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      System.arraycopy(m_TrainClassWeights, 0, temp, 0,</div>
<div>4582&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        m_TrainClassWeights.length);</div>
<div>4583&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_TrainClassWeights = temp;</div>
<div>4584&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4585&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_TrainClassVals[m_NumTrainClassVals] = classValue;</div>
<div>4586&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_TrainClassWeights[m_NumTrainClassVals] = weight;</div>
<div>4587&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_NumTrainClassVals++;</div>
<div>4588&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4589&emsp;&emsp;</div>
<div>4590&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4591&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Sets up the priors for numeric class attributes from the training class</div>
<div>4592&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * values that have been seen so far.</div>
<div>4593&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4594&emsp;&emsp;&nbsp;&nbsp;  protected void setNumericPriorsFromBuffer() {</div>
<div>4595&emsp;&emsp;</div>
<div>4596&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    m_PriorEstimator = new UnivariateKernelEstimator();</div>
<div style="background-color:limegreen;">4597&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>    for (int i = 0; i &#60; m_NumTrainClassVals; i++) {&nbsp;&#8594; [OPTIMIZATIONS, BATCHSIZE, NUMDECIMAL, PRUNE, SEED, CHECKERROR, MINNO, DEBUG, FOLDS, NOCHECKCAPABILITIES]</b></div>
<div>4598&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      m_PriorEstimator.addValue(m_TrainClassVals[i], m_TrainClassWeights[i]);</div>
<div>4599&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    }</div>
<div>4600&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4601&emsp;&emsp;</div>
<div>4602&emsp;&emsp;&nbsp;&nbsp;  /**</div>
<div>4603&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * Returns the revision string.</div>
<div>4604&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * </div>
<div>4605&emsp;&emsp;&nbsp;&nbsp;&nbsp;   * @return the revision</div>
<div>4606&emsp;&emsp;&nbsp;&nbsp;&nbsp;   */</div>
<div>4607&emsp;&emsp;&nbsp;&nbsp;  @Override</div>
<div>4608&emsp;&emsp;&nbsp;&nbsp;  public String getRevision() {</div>
<div>4609&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;    return RevisionUtils.extract("$Revision: 13477 $");</div>
<div>4610&emsp;&emsp;&nbsp;&nbsp;  }</div>
<div>4611&emsp;&emsp;}</div>
</div>
</div>
</body>
</html>