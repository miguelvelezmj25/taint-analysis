digraph <init> {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {2112983773}" -> "snapshotSerializers := @parameter0: java.util.Map {137833487}";
"snapshotSerializers := @parameter0: java.util.Map {137833487}" -> "primarySnapshotSuffix := @parameter1: java.lang.String {1166295177}";
"primarySnapshotSuffix := @parameter1: java.lang.String {1166295177}" -> "newPrevalentSystem := @parameter2: java.lang.Object {609383714}";
"newPrevalentSystem := @parameter2: java.lang.Object {609383714}" -> "directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {1708957033}";
"directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {1708957033}" -> "journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {1689521081}";
"journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {1689521081}" -> "specialinvoke this.<java.lang.Object: void <init>()>() {685612529}";
"specialinvoke this.<java.lang.Object: void <init>()>() {685612529}" -> "$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {361930855}";
"$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {361930855}" -> "iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {2007020666}";
"iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {2007020666}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1929598696}";
"$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1929598696}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1956756848}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1956756848}" -> "if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {39281804}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {39281804}" -> "$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {175512726}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {39281804}" -> "$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {2137739670}";
"$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {175512726}" -> "suffix = (java.lang.String) $r1 {437855372}";
"suffix = (java.lang.String) $r1 {437855372}" -> "staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {509464666}";
"staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {509464666}" -> "goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1255049302}";
"goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1255049302}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1929598696}";
"$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {2137739670}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1315128695}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1315128695}" -> "if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1628661868}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1628661868}" -> "$r2 = new java.lang.IllegalArgumentException {1639988213}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1628661868}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {206685213}";
"$r2 = new java.lang.IllegalArgumentException {1639988213}" -> "$r3 = new java.lang.StringBuilder {814858192}";
"$r3 = new java.lang.StringBuilder {814858192}" -> "specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {1699050729}";
"specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {1699050729}" -> "$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {2046125325}";
"$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {2046125325}" -> "$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {634424030}";
"$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {634424030}" -> "$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {384621598}";
"$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {384621598}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {533893326}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {533893326}" -> "specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {1047887760}";
"specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {1047887760}" -> "throw $r2 {1651387208}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {206685213}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {1777115355}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {1777115355}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {558321895}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {558321895}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {959222343}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {959222343}" -> "virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {1189451644}";
"virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {1189451644}" -> "$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {2123302978}";
"$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {2123302978}" -> "latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1710489427}";
"latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1710489427}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {691673518}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {691673518}" -> "if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {546094669}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {546094669}" -> "$l0 = 0L {673999930}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {546094669}" -> "$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {902510828}";
"$l0 = 0L {673999930}" -> "goto [?= recoveredVersion = $l0] {1390352139}";
"goto [?= recoveredVersion = $l0] {1390352139}" -> "recoveredVersion = $l0 {1417738334}";
"$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {902510828}" -> "recoveredVersion = $l0 {1417738334}";
"recoveredVersion = $l0 {1417738334}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1408089842}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1408089842}" -> "if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1285023579}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1285023579}" -> "$r10 = newPrevalentSystem {1546947149}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1285023579}" -> "$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {431011095}";
"$r10 = newPrevalentSystem {1546947149}" -> "goto [?= recoveredPrevalentSystem = $r10] {254139293}";
"goto [?= recoveredPrevalentSystem = $r10] {254139293}" -> "recoveredPrevalentSystem = $r10 {794981152}";
"$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {431011095}" -> "recoveredPrevalentSystem = $r10 {794981152}";
"recoveredPrevalentSystem = $r10 {794981152}" -> "$r11 = new org.prevayler.implementation.PrevalentSystemGuard {590672888}";
"$r11 = new org.prevayler.implementation.PrevalentSystemGuard {590672888}" -> "specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {616989291}";
"specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {616989291}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {549152185}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {549152185}" -> "return {545296252}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1956756848}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1315128695}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {691673518}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1408089842}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph readSnapshot {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {172876816}" -> "snapshotFile := @parameter0: java.io.File {415564157}";
"snapshotFile := @parameter0: java.io.File {415564157}" -> "$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {165335827}";
"$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {165335827}" -> "$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {471140463}";
"$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {471140463}" -> "$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {896810763}";
"$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {896810763}" -> "$i1 = $i0 + 1 {34125975}";
"$i1 = $i0 + 1 {34125975}" -> "suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {113747919}";
"suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {113747919}" -> "$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1234429486}";
"$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1234429486}" -> "$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {700293591}";
"$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {700293591}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1887084235}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1887084235}" -> "if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {193941275}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {193941275}" -> "$r3 = new java.io.IOException {1576757970}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {193941275}" -> "$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {429527339}";
"$r3 = new java.io.IOException {1576757970}" -> "$r4 = new java.lang.StringBuilder {2008140566}";
"$r4 = new java.lang.StringBuilder {2008140566}" -> "specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {6778438}";
"specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {6778438}" -> "$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {1112554144}";
"$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {1112554144}" -> "$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {633325578}";
"$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {633325578}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {1489098388}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {1489098388}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1084430068}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1084430068}" -> "$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {1386057194}";
"$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {1386057194}" -> "$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {71210075}";
"$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {71210075}" -> "$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {604586248}";
"$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {604586248}" -> "$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {1107941220}";
"$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {1107941220}" -> "$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {845487922}";
"$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {845487922}" -> "specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {1544165751}";
"specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {1544165751}" -> "throw $r3 {253908610}";
"$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {429527339}" -> "$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {140288160}";
"$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {140288160}" -> "serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {201429089}";
"serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {201429089}" -> "$r16 = new java.io.FileInputStream {1630890209}";
"$r16 = new java.io.FileInputStream {1630890209}" -> "specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {2060382669}";
"specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {2060382669}" -> "in = $r16 {1967322215}";
"in = $r16 {1967322215}" -> "l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {1828628030}";
"l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {1828628030}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {1637220253}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {1637220253}" -> "return l5 {21136307}";
"$r17 := @caughtexception {554079199}" -> "l6 = $r17 {819607098}";
"l6 = $r17 {819607098}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {494038550}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {494038550}" -> "throw l6 {1755973776}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1887084235}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph recoveredPrevalentSystem {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {1671400026}" -> "$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {1155292565}";
"$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {1155292565}" -> "return $r0 {1536086542}";
}


