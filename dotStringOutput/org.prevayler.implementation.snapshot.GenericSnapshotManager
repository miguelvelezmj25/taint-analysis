digraph <init> {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {849974020}" -> "snapshotSerializers := @parameter0: java.util.Map {1852377035}";
"snapshotSerializers := @parameter0: java.util.Map {1852377035}" -> "primarySnapshotSuffix := @parameter1: java.lang.String {1112920779}";
"primarySnapshotSuffix := @parameter1: java.lang.String {1112920779}" -> "newPrevalentSystem := @parameter2: java.lang.Object {415348831}";
"newPrevalentSystem := @parameter2: java.lang.Object {415348831}" -> "directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {438658583}";
"directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {438658583}" -> "journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {872474028}";
"journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {872474028}" -> "specialinvoke this.<java.lang.Object: void <init>()>() {907217268}";
"specialinvoke this.<java.lang.Object: void <init>()>() {907217268}" -> "$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {492145520}";
"$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {492145520}" -> "iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {1423730267}";
"iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {1423730267}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1828572707}";
"$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1828572707}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {272364566}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {272364566}" -> "if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {2081454448}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {2081454448}" -> "$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {899260532}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {2081454448}" -> "$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1772003542}";
"$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {899260532}" -> "suffix = (java.lang.String) $r1 {1254667990}";
"suffix = (java.lang.String) $r1 {1254667990}" -> "staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {978627056}";
"staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {978627056}" -> "goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1827884915}";
"goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1827884915}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1828572707}";
"$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1772003542}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {580080623}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {580080623}" -> "if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {465517578}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {465517578}" -> "$r2 = new java.lang.IllegalArgumentException {1024405408}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {465517578}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1642091217}";
"$r2 = new java.lang.IllegalArgumentException {1024405408}" -> "$r3 = new java.lang.StringBuilder {1537869875}";
"$r3 = new java.lang.StringBuilder {1537869875}" -> "specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {658739716}";
"specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {658739716}" -> "$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {1370788868}";
"$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {1370788868}" -> "$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {1992530910}";
"$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {1992530910}" -> "$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {819524043}";
"$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {819524043}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {578771350}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {578771350}" -> "specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {1216883564}";
"specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {1216883564}" -> "throw $r2 {1206942744}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1642091217}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {658381278}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {658381278}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {1908108949}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {1908108949}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1059581525}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1059581525}" -> "virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {79288688}";
"virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {79288688}" -> "$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1808352299}";
"$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1808352299}" -> "latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1765130747}";
"latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1765130747}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1743078774}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1743078774}" -> "if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1094430182}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1094430182}" -> "$l0 = 0L {1140708862}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1094430182}" -> "$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {828006824}";
"$l0 = 0L {1140708862}" -> "goto [?= recoveredVersion = $l0] {67169891}";
"goto [?= recoveredVersion = $l0] {67169891}" -> "recoveredVersion = $l0 {525702729}";
"$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {828006824}" -> "recoveredVersion = $l0 {525702729}";
"recoveredVersion = $l0 {525702729}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1722035096}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1722035096}" -> "if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1168190236}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1168190236}" -> "$r10 = newPrevalentSystem {1899119648}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1168190236}" -> "$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1752770942}";
"$r10 = newPrevalentSystem {1899119648}" -> "goto [?= recoveredPrevalentSystem = $r10] {1114006417}";
"goto [?= recoveredPrevalentSystem = $r10] {1114006417}" -> "recoveredPrevalentSystem = $r10 {1019293027}";
"$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1752770942}" -> "recoveredPrevalentSystem = $r10 {1019293027}";
"recoveredPrevalentSystem = $r10 {1019293027}" -> "$r11 = new org.prevayler.implementation.PrevalentSystemGuard {1575000846}";
"$r11 = new org.prevayler.implementation.PrevalentSystemGuard {1575000846}" -> "specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {933674725}";
"specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {933674725}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1148379021}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1148379021}" -> "return {325742624}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1722035096}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {272364566}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {580080623}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1743078774}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph readSnapshot {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {1430576724}" -> "snapshotFile := @parameter0: java.io.File {2020598832}";
"snapshotFile := @parameter0: java.io.File {2020598832}" -> "$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {1867968334}";
"$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {1867968334}" -> "$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {895815995}";
"$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {895815995}" -> "$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {4433836}";
"$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {4433836}" -> "$i1 = $i0 + 1 {2103551538}";
"$i1 = $i0 + 1 {2103551538}" -> "suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {1874353592}";
"suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {1874353592}" -> "$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {2007679502}";
"$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {2007679502}" -> "$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {842247562}";
"$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {842247562}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1548219231}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1548219231}" -> "if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1825046505}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1825046505}" -> "$r3 = new java.io.IOException {1297939149}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1825046505}" -> "$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {661146237}";
"$r3 = new java.io.IOException {1297939149}" -> "$r4 = new java.lang.StringBuilder {647069613}";
"$r4 = new java.lang.StringBuilder {647069613}" -> "specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {1490752304}";
"specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {1490752304}" -> "$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {1474550511}";
"$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {1474550511}" -> "$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {1596450360}";
"$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {1596450360}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {2034584313}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {2034584313}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1347351957}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1347351957}" -> "$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {649997623}";
"$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {649997623}" -> "$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {1979689371}";
"$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {1979689371}" -> "$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {61710475}";
"$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {61710475}" -> "$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {1944607001}";
"$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {1944607001}" -> "$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {2069071246}";
"$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {2069071246}" -> "specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {353684375}";
"specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {353684375}" -> "throw $r3 {1910597564}";
"$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {661146237}" -> "$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {1857371357}";
"$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {1857371357}" -> "serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {1110110558}";
"serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {1110110558}" -> "$r16 = new java.io.FileInputStream {96366098}";
"$r16 = new java.io.FileInputStream {96366098}" -> "specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {19056571}";
"specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {19056571}" -> "in = $r16 {1795433255}";
"in = $r16 {1795433255}" -> "l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {60262361}";
"l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {60262361}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {756780218}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {756780218}" -> "return l5 {590279792}";
"$r17 := @caughtexception {1950938852}" -> "l6 = $r17 {1128935944}";
"l6 = $r17 {1128935944}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {1274870377}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {1274870377}" -> "throw l6 {1138657230}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1548219231}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph recoveredPrevalentSystem {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {490179187}" -> "$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {589806758}";
"$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {589806758}" -> "return $r0 {40029859}";
}


