digraph <init> {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {1302525760}" -> "snapshotSerializers := @parameter0: java.util.Map {716231746}";
"snapshotSerializers := @parameter0: java.util.Map {716231746}" -> "primarySnapshotSuffix := @parameter1: java.lang.String {194163601}";
"primarySnapshotSuffix := @parameter1: java.lang.String {194163601}" -> "newPrevalentSystem := @parameter2: java.lang.Object {294337163}";
"newPrevalentSystem := @parameter2: java.lang.Object {294337163}" -> "directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {1554564093}";
"directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {1554564093}" -> "journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {113588051}";
"journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {113588051}" -> "specialinvoke this.<java.lang.Object: void <init>()>() {1194513541}";
"specialinvoke this.<java.lang.Object: void <init>()>() {1194513541}" -> "$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {799191007}";
"$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {799191007}" -> "iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {937781838}";
"iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {937781838}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1893835062}";
"$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1893835062}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {723152310}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {723152310}" -> "if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1734576973}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1734576973}" -> "$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {1776330881}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1734576973}" -> "$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {562874003}";
"$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {1776330881}" -> "suffix = (java.lang.String) $r1 {1435665451}";
"suffix = (java.lang.String) $r1 {1435665451}" -> "staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {133501061}";
"staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {133501061}" -> "goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1421104789}";
"goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1421104789}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1893835062}";
"$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {562874003}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1457290193}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1457290193}" -> "if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {91330757}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {91330757}" -> "$r2 = new java.lang.IllegalArgumentException {1579916609}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {91330757}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1529187829}";
"$r2 = new java.lang.IllegalArgumentException {1579916609}" -> "$r3 = new java.lang.StringBuilder {377884494}";
"$r3 = new java.lang.StringBuilder {377884494}" -> "specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {753664440}";
"specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {753664440}" -> "$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {881262609}";
"$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {881262609}" -> "$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {666325956}";
"$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {666325956}" -> "$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {361521848}";
"$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {361521848}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {769135193}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {769135193}" -> "specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {812404053}";
"specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {812404053}" -> "throw $r2 {305781295}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1529187829}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {1443354034}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {1443354034}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {66158152}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {66158152}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {536380325}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {536380325}" -> "virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {617405998}";
"virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {617405998}" -> "$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1536022033}";
"$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1536022033}" -> "latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1369837199}";
"latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1369837199}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1672836922}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1672836922}" -> "if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {2015011052}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {2015011052}" -> "$l0 = 0L {1525916743}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {2015011052}" -> "$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {32932383}";
"$l0 = 0L {1525916743}" -> "goto [?= recoveredVersion = $l0] {1002445792}";
"goto [?= recoveredVersion = $l0] {1002445792}" -> "recoveredVersion = $l0 {2101658573}";
"$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {32932383}" -> "recoveredVersion = $l0 {2101658573}";
"recoveredVersion = $l0 {2101658573}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1309537705}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1309537705}" -> "if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1444564288}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1444564288}" -> "$r10 = newPrevalentSystem {373671798}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1444564288}" -> "$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1559795603}";
"$r10 = newPrevalentSystem {373671798}" -> "goto [?= recoveredPrevalentSystem = $r10] {1304704216}";
"goto [?= recoveredPrevalentSystem = $r10] {1304704216}" -> "recoveredPrevalentSystem = $r10 {93447444}";
"$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1559795603}" -> "recoveredPrevalentSystem = $r10 {93447444}";
"recoveredPrevalentSystem = $r10 {93447444}" -> "$r11 = new org.prevayler.implementation.PrevalentSystemGuard {234039328}";
"$r11 = new org.prevayler.implementation.PrevalentSystemGuard {234039328}" -> "specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {1917708479}";
"specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {1917708479}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1216278344}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1216278344}" -> "return {957293594}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1457290193}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1309537705}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {723152310}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1672836922}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph readSnapshot {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {24269060}" -> "snapshotFile := @parameter0: java.io.File {378358093}";
"snapshotFile := @parameter0: java.io.File {378358093}" -> "$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {1516925706}";
"$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {1516925706}" -> "$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {2042656677}";
"$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {2042656677}" -> "$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {1310906828}";
"$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {1310906828}" -> "$i1 = $i0 + 1 {436112331}";
"$i1 = $i0 + 1 {436112331}" -> "suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {168303848}";
"suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {168303848}" -> "$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {36023576}";
"$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {36023576}" -> "$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {1473044647}";
"$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {1473044647}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {2011706998}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {2011706998}" -> "if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {456145945}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {456145945}" -> "$r3 = new java.io.IOException {886185738}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {456145945}" -> "$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1141748080}";
"$r3 = new java.io.IOException {886185738}" -> "$r4 = new java.lang.StringBuilder {1401964572}";
"$r4 = new java.lang.StringBuilder {1401964572}" -> "specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {1153201132}";
"specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {1153201132}" -> "$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {256475525}";
"$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {256475525}" -> "$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {1107779939}";
"$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {1107779939}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {408788440}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {408788440}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {573447326}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {573447326}" -> "$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {1570536622}";
"$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {1570536622}" -> "$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {702257560}";
"$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {702257560}" -> "$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {697780950}";
"$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {697780950}" -> "$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {1170740053}";
"$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {1170740053}" -> "$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {816469293}";
"$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {816469293}" -> "specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {595093524}";
"specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {595093524}" -> "throw $r3 {591095332}";
"$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1141748080}" -> "$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {1554452949}";
"$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {1554452949}" -> "serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {963237735}";
"serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {963237735}" -> "$r16 = new java.io.FileInputStream {1562660902}";
"$r16 = new java.io.FileInputStream {1562660902}" -> "specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {2128485619}";
"specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {2128485619}" -> "in = $r16 {133637236}";
"in = $r16 {133637236}" -> "l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {1635920633}";
"l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {1635920633}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {1189268859}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {1189268859}" -> "return l5 {1878122801}";
"$r17 := @caughtexception {1167810737}" -> "l6 = $r17 {387224534}";
"l6 = $r17 {387224534}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {1322236451}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {1322236451}" -> "throw l6 {1387163251}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {2011706998}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph recoveredPrevalentSystem {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {1970390473}" -> "$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {1219867044}";
"$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {1219867044}" -> "return $r0 {856779510}";
}


