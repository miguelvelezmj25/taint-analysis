digraph <init> {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {1201067836}" -> "snapshotSerializers := @parameter0: java.util.Map {300606569}";
"snapshotSerializers := @parameter0: java.util.Map {300606569}" -> "primarySnapshotSuffix := @parameter1: java.lang.String {977452182}";
"primarySnapshotSuffix := @parameter1: java.lang.String {977452182}" -> "newPrevalentSystem := @parameter2: java.lang.Object {1989593152}";
"newPrevalentSystem := @parameter2: java.lang.Object {1989593152}" -> "directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {2009225634}";
"directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {2009225634}" -> "journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {1248756864}";
"journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {1248756864}" -> "specialinvoke this.<java.lang.Object: void <init>()>() {1986509868}";
"specialinvoke this.<java.lang.Object: void <init>()>() {1986509868}" -> "$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {446573949}";
"$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {446573949}" -> "iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {1734240820}";
"iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {1734240820}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1394823875}";
"$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1394823875}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1002992270}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1002992270}" -> "if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {763645432}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {763645432}" -> "$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {929204124}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {763645432}" -> "$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1574388668}";
"$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {929204124}" -> "suffix = (java.lang.String) $r1 {885868283}";
"suffix = (java.lang.String) $r1 {885868283}" -> "staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {450143264}";
"staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {450143264}" -> "goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1001723978}";
"goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1001723978}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1394823875}";
"$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1574388668}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1602529206}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1602529206}" -> "if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {871538940}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {871538940}" -> "$r2 = new java.lang.IllegalArgumentException {199568371}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {871538940}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {699146566}";
"$r2 = new java.lang.IllegalArgumentException {199568371}" -> "$r3 = new java.lang.StringBuilder {525780884}";
"$r3 = new java.lang.StringBuilder {525780884}" -> "specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {838457239}";
"specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {838457239}" -> "$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {1398199647}";
"$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {1398199647}" -> "$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {1038466591}";
"$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {1038466591}" -> "$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {384445152}";
"$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {384445152}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {686747261}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {686747261}" -> "specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {954968121}";
"specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {954968121}" -> "throw $r2 {1423697629}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {699146566}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {1762373458}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {1762373458}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {379714280}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {379714280}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {723602204}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {723602204}" -> "virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {1261234782}";
"virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {1261234782}" -> "$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1435651406}";
"$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1435651406}" -> "latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {325794699}";
"latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {325794699}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {212118934}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {212118934}" -> "if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1955875737}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1955875737}" -> "$l0 = 0L {1802497618}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1955875737}" -> "$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {72320612}";
"$l0 = 0L {1802497618}" -> "goto [?= recoveredVersion = $l0] {554842071}";
"goto [?= recoveredVersion = $l0] {554842071}" -> "recoveredVersion = $l0 {551208081}";
"$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {72320612}" -> "recoveredVersion = $l0 {551208081}";
"recoveredVersion = $l0 {551208081}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1908515088}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1908515088}" -> "if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {74091014}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {74091014}" -> "$r10 = newPrevalentSystem {589668279}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {74091014}" -> "$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {76170564}";
"$r10 = newPrevalentSystem {589668279}" -> "goto [?= recoveredPrevalentSystem = $r10] {1437415694}";
"goto [?= recoveredPrevalentSystem = $r10] {1437415694}" -> "recoveredPrevalentSystem = $r10 {1518686949}";
"$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {76170564}" -> "recoveredPrevalentSystem = $r10 {1518686949}";
"recoveredPrevalentSystem = $r10 {1518686949}" -> "$r11 = new org.prevayler.implementation.PrevalentSystemGuard {1779779700}";
"$r11 = new org.prevayler.implementation.PrevalentSystemGuard {1779779700}" -> "specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {1382060152}";
"specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {1382060152}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1330262745}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1330262745}" -> "return {1238446713}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1002992270}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {1908515088}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {1602529206}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {212118934}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph readSnapshot {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {1210938020}" -> "snapshotFile := @parameter0: java.io.File {1511722231}";
"snapshotFile := @parameter0: java.io.File {1511722231}" -> "$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {1262874772}";
"$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {1262874772}" -> "$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {894614919}";
"$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {894614919}" -> "$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {1383468830}";
"$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {1383468830}" -> "$i1 = $i0 + 1 {438362772}";
"$i1 = $i0 + 1 {438362772}" -> "suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {67552230}";
"suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {67552230}" -> "$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1425312281}";
"$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1425312281}" -> "$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {783794407}";
"$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {783794407}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1928646886}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1928646886}" -> "if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1246884516}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1246884516}" -> "$r3 = new java.io.IOException {973413813}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1246884516}" -> "$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1086559516}";
"$r3 = new java.io.IOException {973413813}" -> "$r4 = new java.lang.StringBuilder {1460649167}";
"$r4 = new java.lang.StringBuilder {1460649167}" -> "specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {939685350}";
"specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {939685350}" -> "$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {1965699469}";
"$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {1965699469}" -> "$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {1384186902}";
"$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {1384186902}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {1629610015}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {1629610015}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {534257385}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {534257385}" -> "$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {1504637753}";
"$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {1504637753}" -> "$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {937545995}";
"$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {937545995}" -> "$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {1786777715}";
"$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {1786777715}" -> "$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {459894304}";
"$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {459894304}" -> "$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {582589903}";
"$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {582589903}" -> "specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {1221595747}";
"specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {1221595747}" -> "throw $r3 {2125613921}";
"$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1086559516}" -> "$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {1691184966}";
"$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {1691184966}" -> "serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {164439794}";
"serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {164439794}" -> "$r16 = new java.io.FileInputStream {108384210}";
"$r16 = new java.io.FileInputStream {108384210}" -> "specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {39076179}";
"specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {39076179}" -> "in = $r16 {154036236}";
"in = $r16 {154036236}" -> "l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {236858526}";
"l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {236858526}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {1396756231}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {1396756231}" -> "return l5 {554143176}";
"$r17 := @caughtexception {276311466}" -> "l6 = $r17 {1189689802}";
"l6 = $r17 {1189689802}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {340943884}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {340943884}" -> "throw l6 {803745363}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1928646886}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph recoveredPrevalentSystem {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {525186732}" -> "$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {692131088}";
"$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {692131088}" -> "return $r0 {1540042306}";
}


