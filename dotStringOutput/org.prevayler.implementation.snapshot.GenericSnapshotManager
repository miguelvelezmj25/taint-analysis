digraph <init> {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {525460564}" -> "snapshotSerializers := @parameter0: java.util.Map {501079082}";
"snapshotSerializers := @parameter0: java.util.Map {501079082}" -> "primarySnapshotSuffix := @parameter1: java.lang.String {1847851067}";
"primarySnapshotSuffix := @parameter1: java.lang.String {1847851067}" -> "newPrevalentSystem := @parameter2: java.lang.Object {514046943}";
"newPrevalentSystem := @parameter2: java.lang.Object {514046943}" -> "directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {395274728}";
"directory := @parameter3: org.prevayler.implementation.PrevaylerDirectory {395274728}" -> "journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {430320316}";
"journalSerializer := @parameter4: org.prevayler.foundation.serialization.Serializer {430320316}" -> "specialinvoke this.<java.lang.Object: void <init>()>() {747992047}";
"specialinvoke this.<java.lang.Object: void <init>()>() {747992047}" -> "$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {462017758}";
"$r0 = interfaceinvoke snapshotSerializers.<java.util.Map: java.util.Set keySet()>() {462017758}" -> "iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {2129688073}";
"iterator = interfaceinvoke $r0.<java.util.Set: java.util.Iterator iterator()>() {2129688073}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1315089418}";
"$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1315089418}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {230358336}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {230358336}" -> "if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1147730699}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1147730699}" -> "$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {1102453692}";
"if $z0 == 0 goto $z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1147730699}" -> "$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1233131500}";
"$r1 = interfaceinvoke iterator.<java.util.Iterator: java.lang.Object next()>() {1102453692}" -> "suffix = (java.lang.String) $r1 {208786198}";
"suffix = (java.lang.String) $r1 {208786198}" -> "staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {411718675}";
"staticinvoke <org.prevayler.implementation.PrevaylerDirectory: void checkValidSnapshotSuffix(java.lang.String)>(suffix) {411718675}" -> "goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1715786302}";
"goto [?= $z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>()] {1715786302}" -> "$z0 = interfaceinvoke iterator.<java.util.Iterator: boolean hasNext()>() {1315089418}";
"$z1 = interfaceinvoke snapshotSerializers.<java.util.Map: boolean containsKey(java.lang.Object)>(primarySnapshotSuffix) {1233131500}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {195519290}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {195519290}" -> "if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1469438211}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1469438211}" -> "$r2 = new java.lang.IllegalArgumentException {1022380677}";
"if $z1 != 0 goto this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {1469438211}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {760829535}";
"$r2 = new java.lang.IllegalArgumentException {1022380677}" -> "$r3 = new java.lang.StringBuilder {715127375}";
"$r3 = new java.lang.StringBuilder {715127375}" -> "specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {1876345858}";
"specialinvoke $r3.<java.lang.StringBuilder: void <init>()>() {1876345858}" -> "$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {129579622}";
"$r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"Primary suffix \'\") {129579622}" -> "$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {673434970}";
"$r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(primarySnapshotSuffix) {673434970}" -> "$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {749889019}";
"$r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\"\' does not appear in strategies map\") {749889019}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {983918681}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.String toString()>() {983918681}" -> "specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {215628618}";
"specialinvoke $r2.<java.lang.IllegalArgumentException: void <init>(java.lang.String)>($r7) {215628618}" -> "throw $r2 {1590711077}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> = snapshotSerializers {760829535}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {1388786886}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.String _primarySuffix> = primarySnapshotSuffix {1388786886}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {1872620700}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> = directory {1872620700}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1793693523}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {1793693523}" -> "virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {226237750}";
"virtualinvoke $r8.<org.prevayler.implementation.PrevaylerDirectory: void produceDirectory()>() {226237750}" -> "$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {890185448}";
"$r9 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevaylerDirectory _directory> {890185448}" -> "latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1559078281}";
"latestSnapshot = virtualinvoke $r9.<org.prevayler.implementation.PrevaylerDirectory: java.io.File latestSnapshot()>() {1559078281}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {614387905}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {614387905}" -> "if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1346583624}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1346583624}" -> "$l0 = 0L {1008356847}";
"if latestSnapshot != null goto $l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {1346583624}" -> "$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {457215342}";
"$l0 = 0L {1008356847}" -> "goto [?= recoveredVersion = $l0] {225076744}";
"goto [?= recoveredVersion = $l0] {225076744}" -> "recoveredVersion = $l0 {727690313}";
"$l0 = staticinvoke <org.prevayler.implementation.PrevaylerDirectory: long snapshotVersion(java.io.File)>(latestSnapshot) {457215342}" -> "recoveredVersion = $l0 {727690313}";
"recoveredVersion = $l0 {727690313}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {449970816}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {449970816}" -> "if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {604185338}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {604185338}" -> "$r10 = newPrevalentSystem {260416904}";
"if latestSnapshot != null goto $r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {604185338}" -> "$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1122496444}";
"$r10 = newPrevalentSystem {260416904}" -> "goto [?= recoveredPrevalentSystem = $r10] {1500413397}";
"goto [?= recoveredPrevalentSystem = $r10] {1500413397}" -> "recoveredPrevalentSystem = $r10 {535583527}";
"$r10 = specialinvoke this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.lang.Object readSnapshot(java.io.File)>(latestSnapshot) {1122496444}" -> "recoveredPrevalentSystem = $r10 {535583527}";
"recoveredPrevalentSystem = $r10 {535583527}" -> "$r11 = new org.prevayler.implementation.PrevalentSystemGuard {1729926053}";
"$r11 = new org.prevayler.implementation.PrevalentSystemGuard {1729926053}" -> "specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {2100193222}";
"specialinvoke $r11.<org.prevayler.implementation.PrevalentSystemGuard: void <init>(java.lang.Object,long,org.prevayler.foundation.serialization.Serializer)>(recoveredPrevalentSystem, recoveredVersion, journalSerializer) {2100193222}" -> "this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1939925792}";
"this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> = $r11 {1939925792}" -> "return {368900912}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {230358336}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {614387905}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z1) {195519290}"[fontcolor="blue", penwidth=3, color="blue"];
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>(latestSnapshot) {449970816}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph readSnapshot {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {1415278528}" -> "snapshotFile := @parameter0: java.io.File {1719022356}";
"snapshotFile := @parameter0: java.io.File {1719022356}" -> "$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {742957503}";
"$r0 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {742957503}" -> "$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {647761637}";
"$r1 = virtualinvoke snapshotFile.<java.io.File: java.lang.String getName()>() {647761637}" -> "$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {236411523}";
"$i0 = virtualinvoke $r1.<java.lang.String: int indexOf(int)>(46) {236411523}" -> "$i1 = $i0 + 1 {133406659}";
"$i1 = $i0 + 1 {133406659}" -> "suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {1585987058}";
"suffix = virtualinvoke $r0.<java.lang.String: java.lang.String substring(int)>($i1) {1585987058}" -> "$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1593681415}";
"$r2 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1593681415}" -> "$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {1382128644}";
"$z0 = interfaceinvoke $r2.<java.util.Map: boolean containsKey(java.lang.Object)>(suffix) {1382128644}" -> "staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1154922229}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1154922229}" -> "if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1655504827}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1655504827}" -> "$r3 = new java.io.IOException {1364369527}";
"if $z0 != 0 goto $r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1655504827}" -> "$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {251773992}";
"$r3 = new java.io.IOException {1364369527}" -> "$r4 = new java.lang.StringBuilder {141325524}";
"$r4 = new java.lang.StringBuilder {141325524}" -> "specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {97480593}";
"specialinvoke $r4.<java.lang.StringBuilder: void <init>()>() {97480593}" -> "$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {595686795}";
"$r5 = virtualinvoke snapshotFile.<java.io.File: java.lang.String toString()>() {595686795}" -> "$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {13874005}";
"$r6 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5) {13874005}" -> "$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {1675902691}";
"$r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" cannot be read; only \") {1675902691}" -> "$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1454733595}";
"$r8 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {1454733595}" -> "$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {1595636699}";
"$r9 = interfaceinvoke $r8.<java.util.Map: java.util.Set keySet()>() {1595636699}" -> "$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {491410941}";
"$r10 = virtualinvoke $r9.<java.lang.Object: java.lang.String toString()>() {491410941}" -> "$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {1601719447}";
"$r11 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10) {1601719447}" -> "$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {641329637}";
"$r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(\" supported\") {641329637}" -> "$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {1762895202}";
"$r13 = virtualinvoke $r12.<java.lang.StringBuilder: java.lang.String toString()>() {1762895202}" -> "specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {1955741731}";
"specialinvoke $r3.<java.io.IOException: void <init>(java.lang.String)>($r13) {1955741731}" -> "throw $r3 {315814904}";
"throw $r3 {315814904}" -> "$r17 := @caughtexception {1120437724}";
"throw $r3 {315814904}" -> "$r17 := @caughtexception {1120437724}";
"$r14 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: java.util.Map _strategies> {251773992}" -> "$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {1824292166}";
"$r15 = interfaceinvoke $r14.<java.util.Map: java.lang.Object get(java.lang.Object)>(suffix) {1824292166}" -> "serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {893246620}";
"serializer = (org.prevayler.foundation.serialization.Serializer) $r15 {893246620}" -> "$r16 = new java.io.FileInputStream {988070192}";
"$r16 = new java.io.FileInputStream {988070192}" -> "specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {1829980945}";
"specialinvoke $r16.<java.io.FileInputStream: void <init>(java.io.File)>(snapshotFile) {1829980945}" -> "in = $r16 {759974552}";
"in = $r16 {759974552}" -> "l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {1936264520}";
"l5 = interfaceinvoke serializer.<org.prevayler.foundation.serialization.Serializer: java.lang.Object readObject(java.io.InputStream)>(in) {1936264520}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {64733256}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {64733256}" -> "return l5 {325643375}";
"$r17 := @caughtexception {1120437724}" -> "l6 = $r17 {150731301}";
"l6 = $r17 {150731301}" -> "virtualinvoke in.<java.io.FileInputStream: void close()>() {1902296097}";
"virtualinvoke in.<java.io.FileInputStream: void close()>() {1902296097}" -> "throw l6 {243424558}";
"throw l6 {243424558}" -> "$r17 := @caughtexception {1120437724}";
"throw l6 {243424558}" -> "$r17 := @caughtexception {1120437724}";
"staticinvoke <edu.cmu.cs.mvelezce.analysis.option.Sink: void sink(java.lang.Object)>($z0) {1154922229}"[fontcolor="blue", penwidth=3, color="blue"];
}

digraph recoveredPrevalentSystem {
"this := @this: org.prevayler.implementation.snapshot.GenericSnapshotManager {2109928386}" -> "$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {1980618800}";
"$r0 = this.<org.prevayler.implementation.snapshot.GenericSnapshotManager: org.prevayler.implementation.PrevalentSystemGuard _recoveredPrevalentSystem> {1980618800}" -> "return $r0 {473659856}";
}


